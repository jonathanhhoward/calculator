(self.webpackChunkng_calculator=self.webpackChunkng_calculator||[]).push([[179],{529:(gt,Bt,ke)=>{"use strict";let et=null,Me=!1,ot=1;const Ze=Symbol("SIGNAL");function Ye(e){const t=et;return et=e,t}const Z={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function O(e){if(Me)throw new Error("");if(null===et)return;et.consumerOnSignalRead(e);const t=et.nextProducerIndex++;$e(et),t<et.producerNode.length&&et.producerNode[t]!==e&&ar(et)&&Rt(et.producerNode[t],et.producerIndexOfThis[t]),et.producerNode[t]!==e&&(et.producerNode[t]=e,et.producerIndexOfThis[t]=ar(et)?wt(e,et,t):0),et.producerLastReadVersion[t]=e.version}function V(e){if((!ar(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==ot)){if(!e.producerMustRecompute(e)&&!zt(e))return e.dirty=!1,void(e.lastCleanEpoch=ot);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=ot}}function W(e){if(void 0===e.liveConsumerNode)return;const t=Me;Me=!0;try{for(const r of e.liveConsumerNode)r.dirty||le(r)}finally{Me=t}}function J(){return!1!==et?.consumerAllowSignalWrites}function le(e){e.dirty=!0,W(e),e.consumerMarkedDirty?.(e)}function zt(e){$e(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==r.version||(V(r),n!==r.version))return!0}return!1}function wt(e,t,r){if(je(e),$e(e),0===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)e.producerIndexOfThis[n]=wt(e.producerNode[n],e,n);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function Rt(e,t){if(je(e),$e(e),1===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)Rt(e.producerNode[n],e.producerIndexOfThis[n]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];$e(i),i.producerIndexOfThis[n]=t}}function ar(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function $e(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function je(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}let ji=function qn(){throw new Error};function xi(){ji()}let as=null;function Nl(e,t){J()||xi(),e.equal(e.value,t)||(e.value=t,function Wp(e){e.version++,function L(){ot++}(),W(e),as?.()}(e))}const Gp={...Z,equal:function Ce(e,t){return Object.is(e,t)},value:void 0};function ci(e){return"function"==typeof e}function Hu(e){const r=e(n=>{Error.call(n),n.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const os=Hu(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((n,i)=>`${i+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function Gi(e,t){if(e){const r=e.indexOf(t);0<=r&&e.splice(r,1)}}class Cn{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const a of r)a.remove(this);else r.remove(this);const{initialTeardown:n}=this;if(ci(n))try{n()}catch(a){t=a instanceof os?a.errors:[a]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const a of i)try{Ml(a)}catch(o){t=t??[],o instanceof os?t=[...t,...o.errors]:t.push(o)}}if(t)throw new os(t)}}add(t){var r;if(t&&t!==this)if(this.closed)Ml(t);else{if(t instanceof Cn){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}_hasParent(t){const{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){const{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&Gi(r,t)}remove(t){const{_finalizers:r}=this;r&&Gi(r,t),t instanceof Cn&&t._removeParent(this)}}Cn.EMPTY=(()=>{const e=new Cn;return e.closed=!0,e})();const Al=Cn.EMPTY;function Sl(e){return e instanceof Cn||e&&"closed"in e&&ci(e.remove)&&ci(e.add)&&ci(e.unsubscribe)}function Ml(e){ci(e)?e():e.unsubscribe()}const Wi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Eo={setTimeout(e,t,...r){const{delegate:n}=Eo;return n?.setTimeout?n.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){const{delegate:t}=Eo;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function $u(){}const Tl=ju("C",void 0,void 0);function ju(e,t,r){return{kind:e,value:t,error:r}}let Zi=null;function G(e){if(Wi.useDeprecatedSynchronousErrorHandling){const t=!Zi;if(t&&(Zi={errorThrown:!1,error:null}),e(),t){const{errorThrown:r,error:n}=Zi;if(Zi=null,r)throw n}}else e()}class fe extends Cn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Sl(t)&&t.add(this)):this.destination=nr}static create(t,r,n){return new ze(t,r,n)}next(t){this.isStopped?Te(function Qp(e){return ju("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Te(function Yp(e){return ju("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Te(Tl,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ee=Function.prototype.bind;function Se(e,t){return Ee.call(e,t)}class Ne{constructor(t){this.partialObserver=t}next(t){const{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(n){Oe(n)}}error(t){const{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(n){Oe(n)}else Oe(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){Oe(r)}}}class ze extends fe{constructor(t,r,n){let i;if(super(),ci(t)||!t)i={next:t??void 0,error:r??void 0,complete:n??void 0};else{let a;this&&Wi.useDeprecatedNextContext?(a=Object.create(t),a.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Se(t.next,a),error:t.error&&Se(t.error,a),complete:t.complete&&Se(t.complete,a)}):i=t}this.destination=new Ne(i)}}function Oe(e){Wi.useDeprecatedSynchronousErrorHandling?function ae(e){Wi.useDeprecatedSynchronousErrorHandling&&Zi&&(Zi.errorThrown=!0,Zi.error=e)}(e):function _l(e){Eo.setTimeout(()=>{const{onUnhandledError:t}=Wi;if(!t)throw e;t(e)})}(e)}function Te(e,t){const{onStoppedNotification:r}=Wi;r&&Eo.setTimeout(()=>r(e,t))}const nr={closed:!0,next:$u,error:function Ve(e){throw e},complete:$u},lr="function"==typeof Symbol&&Symbol.observable||"@@observable";function Tr(e){return e}let Vn=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){const n=new e;return n.source=this,n.operator=r,n}subscribe(r,n,i){const a=function ss(e){return e&&e instanceof fe||function Va(e){return e&&ci(e.next)&&ci(e.error)&&ci(e.complete)}(e)&&Sl(e)}(r)?r:new ze(r,n,i);return G(()=>{const{operator:o,source:s}=this;a.add(o?o.call(a,s):s?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return new(n=Hn(n))((i,a)=>{const o=new ze({next:s=>{try{r(s)}catch(u){a(u),o.unsubscribe()}},error:a,complete:i});this.subscribe(o)})}_subscribe(r){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(r)}[lr](){return this}pipe(...r){return function rn(e){return 0===e.length?Tr:1===e.length?e[0]:function(r){return e.reduce((n,i)=>i(n),r)}}(r)(this)}toPromise(r){return new(r=Hn(r))((n,i)=>{let a;this.subscribe(o=>a=o,o=>i(o),()=>n(a))})}}return e.create=t=>new e(t),e})();function Hn(e){var t;return null!==(t=e??Wi.Promise)&&void 0!==t?t:Promise}const Xp=Hu(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Gu=(()=>{class e extends Vn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const n=new Il(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new Xp}next(r){G(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(r)}})}error(r){G(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){G(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:n,isStopped:i,observers:a}=this;return n||i?Al:(this.currentObservers=null,a.push(r),new Cn(()=>{this.currentObservers=null,Gi(a,r)}))}_checkFinalizedStatuses(r){const{hasError:n,thrownError:i,isStopped:a}=this;n?r.error(i):a&&r.complete()}asObservable(){const r=new Vn;return r.source=this,r}}return e.create=(t,r)=>new Il(t,r),e})();class Il extends Gu{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===n||n.call(r,t)}error(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===n||n.call(r,t)}complete(){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===r||r.call(t)}_subscribe(t){var r,n;return null!==(n=null===(r=this.source)||void 0===r?void 0:r.subscribe(t))&&void 0!==n?n:Al}}class Kp extends Gu{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){const{hasError:t,thrownError:r,_value:n}=this;if(t)throw r;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}class rm extends fe{constructor(t,r,n,i,a,o){super(t),this.onFinalize=a,this.shouldUnsubscribe=o,this._next=r?function(s){try{r(s)}catch(u){t.error(u)}}:super._next,this._error=i?function(s){try{i(s)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(s){t.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function nm(e,t){return function em(e){return t=>{if(function Jp(e){return ci(e?.lift)}(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}((r,n)=>{let i=0;r.subscribe(function tm(e,t,r,n,i){return new rm(e,t,r,n,i)}(n,a=>{n.next(e.call(t,a,i++))}))})}class He extends Error{constructor(t,r){super(function Ha(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}function Jt(e){for(let t in e)if(e[t]===Jt)return t;throw Error("Could not find renamed property on target object.")}function Pr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Pr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function Wu(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const om=Jt({__forward_ref__:Jt});function Zu(e){return e.__forward_ref__=Zu,e.toString=function(){return Pr(this())},e}function Xe(e){return function Wt(e){return"function"==typeof e&&e.hasOwnProperty(om)&&e.__forward_ref__===Zu}(e)?e():e}function nn(e){return e&&!!e.\u0275providers}const No=Jt({\u0275cmp:Jt}),$a=Jt({\u0275dir:Jt}),va=Jt({\u0275pipe:Jt}),Pl=Jt({\u0275mod:Jt}),ga=Jt({\u0275fac:Jt}),Yu=Jt({__NG_ELEMENT_ID__:Jt}),by=Jt({__NG_ENV_ID__:Jt});function mt(e){return"string"==typeof e?e:null==e?"":String(e)}function sm(e,t){throw new He(-201,!1)}function $n(e,t){null==e&&function at(e,t,r,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${r} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function Pt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ga(e){return{providers:e.providers||[],imports:e.imports||[]}}function Bl(e){return Dy(e,kl)||Dy(e,wy)}function Dy(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ll(e){return e&&(e.hasOwnProperty(um)||e.hasOwnProperty(QI))?e[um]:null}const kl=Jt({\u0275prov:Jt}),um=Jt({\u0275inj:Jt}),wy=Jt({ngInjectableDef:Jt}),QI=Jt({ngInjectorDef:Jt});var Vt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Vt||{});let cm;function jn(e){const t=cm;return cm=e,t}function Ey(e,t,r){const n=Bl(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:r&Vt.Optional?null:void 0!==t?t:void sm()}const yr=globalThis;class ut{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Pt({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Qu={},mm="__NG_DI_FLAG__",zl="ngTempTokenPath",JI=/\n/gm,Cy="__source";let us;function Wa(e){const t=us;return us=e,t}function rF(e,t=Vt.Default){if(void 0===us)throw new He(-203,!1);return null===us?Ey(e,void 0,t):us.get(e,t&Vt.Optional?null:void 0,t)}function St(e,t=Vt.Default){return(function xy(){return cm}()||rF)(Xe(e),t)}function Zt(e,t=Vt.Default){return St(e,Ul(t))}function Ul(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function hm(e){const t=[];for(let r=0;r<e.length;r++){const n=Xe(e[r]);if(Array.isArray(n)){if(0===n.length)throw new He(900,!1);let i,a=Vt.Default;for(let o=0;o<n.length;o++){const s=n[o],u=nF(s);"number"==typeof u?-1===u?i=s.token:a|=u:i=s}t.push(St(i,a))}else t.push(St(n))}return t}function nF(e){return e[mm]}function ya(e){return{toString:e}.toString()}var ql=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ql||{}),Ei=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ei||{});const Yi={},Xt=[];var Za=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Za||{});function Sy(e,t,r){let n=e.length;for(;;){const i=e.indexOf(t,r);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const a=t.length;if(i+a===n||e.charCodeAt(i+a)<=32)return i}r=i+1}}function vm(e,t,r){let n=0;for(;n<r.length;){const i=r[n];if("number"==typeof i){if(0!==i)break;n++;const a=r[n++],o=r[n++],s=r[n++];e.setAttribute(t,o,s,a)}else{const a=i,o=r[++n];_y(a)?e.setProperty(t,a,o):e.setAttribute(t,a,o),n++}}return n}function My(e){return 3===e||4===e||6===e}function _y(e){return 64===e.charCodeAt(0)}function Ku(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){const i=t[n];"number"==typeof i?r=i:0===r||Ty(e,r,i,null,-1===r||2===r?t[++n]:null)}}return e}function Ty(e,t,r,n,i){let a=0,o=e.length;if(-1===t)o=-1;else for(;a<e.length;){const s=e[a++];if("number"==typeof s){if(s===t){o=-1;break}if(s>t){o=a-1;break}}}for(;a<e.length;){const s=e[a];if("number"==typeof s)break;if(s===r){if(null===n)return void(null!==i&&(e[a+1]=i));if(n===e[a+1])return void(e[a+2]=i)}a++,null!==n&&a++,null!==i&&a++}-1!==o&&(e.splice(o,0,t),a=o+1),e.splice(a++,0,r),null!==n&&e.splice(a++,0,n),null!==i&&e.splice(a++,0,i)}const Iy="ng-template";function oF(e,t,r){let n=0,i=!0;for(;n<e.length;){let a=e[n++];if("string"==typeof a&&i){const o=e[n++];if(r&&"class"===a&&-1!==Sy(o.toLowerCase(),t,0))return!0}else{if(1===a){for(;n<e.length&&"string"==typeof(a=e[n++]);)if(a.toLowerCase()===t)return!0;return!1}"number"==typeof a&&(i=!1)}}return!1}function Fy(e){return 4===e.type&&e.value!==Iy}function sF(e,t,r){return t===(4!==e.type||r?e.value:Iy)}function uF(e,t,r){let n=4;const i=e.attrs||[],a=function fF(e){for(let t=0;t<e.length;t++)if(My(e[t]))return t;return e.length}(i);let o=!1;for(let s=0;s<t.length;s++){const u=t[s];if("number"!=typeof u){if(!o)if(4&n){if(n=2|1&n,""!==u&&!sF(e,u,r)||""===u&&1===t.length){if(Ni(n))return!1;o=!0}}else{const c=8&n?u:t[++s];if(8&n&&null!==e.attrs){if(!oF(e.attrs,c,r)){if(Ni(n))return!1;o=!0}continue}const f=cF(8&n?"class":u,i,Fy(e),r);if(-1===f){if(Ni(n))return!1;o=!0;continue}if(""!==c){let d;d=f>a?"":i[f+1].toLowerCase();const p=8&n?d:null;if(p&&-1!==Sy(p,c,0)||2&n&&c!==d){if(Ni(n))return!1;o=!0}}}}else{if(!o&&!Ni(n)&&!Ni(u))return!1;if(o&&Ni(u))continue;o=!1,n=u|1&n}}return Ni(n)||o}function Ni(e){return 0==(1&e)}function cF(e,t,r,n){if(null===t)return-1;let i=0;if(n||!r){let a=!1;for(;i<t.length;){const o=t[i];if(o===e)return i;if(3===o||6===o)a=!0;else{if(1===o||2===o){let s=t[++i];for(;"string"==typeof s;)s=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=a?1:2}return-1}return function dF(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const n=e[r];if("number"==typeof n)return-1;if(n===t)return r;r++}return-1}(t,e)}function Oy(e,t,r=!1){for(let n=0;n<t.length;n++)if(uF(e,t[n],r))return!0;return!1}function Ry(e,t){return e?":not("+t.trim()+")":t}function mF(e){let t=e[0],r=1,n=2,i="",a=!1;for(;r<e.length;){let o=e[r];if("string"==typeof o)if(2&n){const s=e[++r];i+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&n?i+="."+o:4&n&&(i+=" "+o);else""!==i&&!Ni(o)&&(t+=Ry(a,i),i=""),n=o,a=a||!Ni(n);r++}return""!==i&&(t+=Ry(a,i)),t}function Ju(e){return ya(()=>{const t=By(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ql.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ei.Emulated,styles:e.styles||Xt,_:null,schemas:e.schemas||null,tView:null,id:""};Ly(r);const n=e.dependencies;return r.directiveDefs=Vl(n,!1),r.pipeDefs=Vl(n,!0),r.id=function DF(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of r)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(r),r})}function gF(e){return Ft(e)||Gr(e)}function yF(e){return null!==e}function Co(e){return ya(()=>({type:e.type,bootstrap:e.bootstrap||Xt,declarations:e.declarations||Xt,imports:e.imports||Xt,exports:e.exports||Xt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Py(e,t){if(null==e)return Yi;const r={};for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];let a,o,s=Za.None;Array.isArray(i)?(s=i[0],a=i[1],o=i[2]??a):(a=i,o=i),t?(r[a]=s!==Za.None?[n,s]:n,t[a]=o):r[a]=n}return r}function li(e){return ya(()=>{const t=By(e);return Ly(t),t})}function Ft(e){return e[No]||null}function Gr(e){return e[$a]||null}function sn(e){return e[va]||null}function By(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Yi,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Xt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Py(e.inputs,t),outputs:Py(e.outputs),debugInfo:null}}function Ly(e){e.features?.forEach(t=>t(e))}function Vl(e,t){if(!e)return null;const r=t?sn:gF;return()=>("function"==typeof e?e():e).map(n=>r(n)).filter(yF)}const Ir=0,Pe=1,Ke=2,Br=3,Ci=4,hn=5,Ai=6,cs=7,br=8,Sn=9,Qi=10,yt=11,ec=12,ky=13,ls=14,_r=15,tc=16,fs=17,Xi=18,rc=19,zy=20,Ya=21,Hl=22,So=23,ht=25,gm=1,Ki=7,ds=9,Lr=10;var ym=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(ym||{});function vn(e){return Array.isArray(e)&&"object"==typeof e[gm]}function gn(e){return Array.isArray(e)&&!0===e[gm]}function bm(e){return 0!=(4&e.flags)}function Mo(e){return e.componentOffset>-1}function jl(e){return 1==(1&e.flags)}function Si(e){return!!e.template}function Dm(e){return 0!=(512&e[Ke])}function _o(e,t){return e.hasOwnProperty(ga)?e[ga]:null}class NF{constructor(t,r,n){this.previousValue=t,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}}function Hy(e,t,r,n){null!==t?t.applyValueToInputSignal(t,n):e[r]=n}function $y(e){return e.type.prototype.ngOnChanges&&(e.setInput=AF),CF}function CF(){const e=Gy(this),t=e?.current;if(t){const r=e.previous;if(r===Yi)e.previous=t;else for(let n in t)r[n]=t[n];e.current=null,this.ngOnChanges(t)}}function AF(e,t,r,n,i){const a=this.declaredInputs[n],o=Gy(e)||function SF(e,t){return e[jy]=t}(e,{previous:Yi,current:null}),s=o.current||(o.current={}),u=o.previous,c=u[a];s[a]=new NF(c&&c.currentValue,r,u===Yi),Hy(e,t,i,r)}const jy="__ngSimpleChanges__";function Gy(e){return e[jy]||null}const Ji=function(e,t,r){};let Yy=!1;function Dr(e){for(;Array.isArray(e);)e=e[Ir];return e}function ic(e,t){return Dr(t[e])}function Mn(e,t){return Dr(t[e.index])}function ac(e,t){return e.data[t]}function ei(e,t){const r=t[e];return vn(r)?r:r[Ir]}function Cm(e){return 128==(128&e[Ke])}function ea(e,t){return null==t?null:e[t]}function Qy(e){e[fs]=0}function OF(e){1024&e[Ke]||(e[Ke]|=1024,Cm(e)&&oc(e))}function Ky(e){return 9216&e[Ke]||e[So]?.dirty}function Am(e){Ky(e)?oc(e):64&e[Ke]&&(function _F(){return Yy}()?(e[Ke]|=1024,oc(e)):e[Qi].changeDetectionScheduler?.notify())}function oc(e){e[Qi].changeDetectionScheduler?.notify();let t=To(e);for(;null!==t&&!(8192&t[Ke])&&(t[Ke]|=8192,Cm(t));)t=To(t)}function To(e){const t=e[Br];return gn(t)?t[Br]:t}const st={lFrame:u1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function e1(){return st.bindingsEnabled}function ye(){return st.lFrame.lView}function Ht(){return st.lFrame.tView}function fr(){let e=t1();for(;null!==e&&64===e.type;)e=e.parent;return e}function t1(){return st.lFrame.currentTNode}function ta(e,t){const r=st.lFrame;r.currentTNode=e,r.isParent=t}function Mm(){return st.lFrame.isParent}function ra(){return st.lFrame.bindingIndex++}function GF(e,t){const r=st.lFrame;r.bindingIndex=r.bindingRootIndex=e,Tm(t)}function Tm(e){st.lFrame.currentDirectiveIndex=e}function Fm(e){st.lFrame.currentQueryIndex=e}function ZF(e){const t=e[Pe];return 2===t.type?t.declTNode:1===t.type?e[hn]:null}function o1(e,t,r){if(r&Vt.SkipSelf){let i=t,a=e;for(;!(i=i.parent,null!==i||r&Vt.Host||(i=ZF(a),null===i||(a=a[ls],10&i.type))););if(null===i)return!1;t=i,e=a}const n=st.lFrame=s1();return n.currentTNode=t,n.lView=e,!0}function Om(e){const t=s1(),r=e[Pe];st.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function s1(){const e=st.lFrame,t=null===e?null:e.child;return null===t?u1(e):t}function u1(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function c1(){const e=st.lFrame;return st.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const l1=c1;function Rm(){const e=c1();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function yn(){return st.lFrame.selectedIndex}function Io(e){st.lFrame.selectedIndex=e}let d1=!0;function Zl(){return d1}function Qa(e){d1=e}function Yl(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){const a=e.data[r].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:s,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=a;o&&(e.contentHooks??=[]).push(-r,o),s&&((e.contentHooks??=[]).push(r,s),(e.contentCheckHooks??=[]).push(r,s)),u&&(e.viewHooks??=[]).push(-r,u),c&&((e.viewHooks??=[]).push(r,c),(e.viewCheckHooks??=[]).push(r,c)),null!=l&&(e.destroyHooks??=[]).push(r,l)}}function Ql(e,t,r){p1(e,t,3,r)}function Xl(e,t,r,n){(3&e[Ke])===r&&p1(e,t,r,n)}function Pm(e,t){let r=e[Ke];(3&r)===t&&(r&=16383,r+=1,e[Ke]=r)}function p1(e,t,r,n){const a=n??-1,o=t.length-1;let s=0;for(let u=void 0!==n?65535&e[fs]:0;u<o;u++)if("number"==typeof t[u+1]){if(s=t[u],null!=n&&s>=n)break}else t[u]<0&&(e[fs]+=65536),(s<a||-1==a)&&(tO(e,r,t,u),e[fs]=(4294901760&e[fs])+u+2),u++}function m1(e,t){Ji(4,e,t);const r=Ye(null);try{t.call(e)}finally{Ye(r),Ji(5,e,t)}}function tO(e,t,r,n){const i=r[n]<0,a=r[n+1],s=e[i?-r[n]:r[n]];i?e[Ke]>>14<e[fs]>>16&&(3&e[Ke])===t&&(e[Ke]+=16384,m1(s,a)):m1(s,a)}const hs=-1;class uc{constructor(t,r,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}}function Lm(e){return e!==hs}function cc(e){return 32767&e}function lc(e,t){let r=function oO(e){return e>>16}(e),n=t;for(;r>0;)n=n[ls],r--;return n}let km=!0;function Kl(e){const t=km;return km=e,t}const h1=255,v1=5;let sO=0;const na={};function Jl(e,t){const r=g1(e,t);if(-1!==r)return r;const n=t[Pe];n.firstCreatePass&&(e.injectorIndex=t.length,zm(n.data,e),zm(t,null),zm(n.blueprint,null));const i=ef(e,t),a=e.injectorIndex;if(Lm(i)){const o=cc(i),s=lc(i,t),u=s[Pe].data;for(let c=0;c<8;c++)t[a+c]=s[o+c]|u[o+c]}return t[a+8]=i,a}function zm(e,t){e.push(0,0,0,0,0,0,0,0,t)}function g1(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ef(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,n=null,i=t;for(;null!==i;){if(n=N1(i),null===n)return hs;if(r++,i=i[ls],-1!==n.injectorIndex)return n.injectorIndex|r<<16}return hs}function Um(e,t,r){!function uO(e,t,r){let n;"string"==typeof r?n=r.charCodeAt(0)||0:r.hasOwnProperty(Yu)&&(n=r[Yu]),null==n&&(n=r[Yu]=sO++);const i=n&h1;t.data[e+(i>>v1)]|=1<<i}(e,t,r)}function y1(e,t,r){if(r&Vt.Optional||void 0!==e)return e;sm()}function b1(e,t,r,n){if(r&Vt.Optional&&void 0===n&&(n=null),!(r&(Vt.Self|Vt.Host))){const i=e[Sn],a=jn(void 0);try{return i?i.get(t,n,r&Vt.Optional):Ey(t,n,r&Vt.Optional)}finally{jn(a)}}return y1(n,0,r)}function D1(e,t,r,n=Vt.Default,i){if(null!==e){if(2048&t[Ke]&&!(n&Vt.Self)){const o=function mO(e,t,r,n,i){let a=e,o=t;for(;null!==a&&null!==o&&2048&o[Ke]&&!(512&o[Ke]);){const s=w1(a,o,r,n|Vt.Self,na);if(s!==na)return s;let u=a.parent;if(!u){const c=o[zy];if(c){const l=c.get(r,na,n);if(l!==na)return l}u=N1(o),o=o[ls]}a=u}return i}(e,t,r,n,na);if(o!==na)return o}const a=w1(e,t,r,n,na);if(a!==na)return a}return b1(t,r,n,i)}function w1(e,t,r,n,i){const a=function fO(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Yu)?e[Yu]:void 0;return"number"==typeof t?t>=0?t&h1:dO:t}(r);if("function"==typeof a){if(!o1(t,e,n))return n&Vt.Host?y1(i,0,n):b1(t,r,n,i);try{let o;if(o=a(n),null!=o||n&Vt.Optional)return o;sm()}finally{l1()}}else if("number"==typeof a){let o=null,s=g1(e,t),u=hs,c=n&Vt.Host?t[_r][hn]:null;for((-1===s||n&Vt.SkipSelf)&&(u=-1===s?ef(e,t):t[s+8],u!==hs&&E1(n,!1)?(o=t[Pe],s=cc(u),t=lc(u,t)):s=-1);-1!==s;){const l=t[Pe];if(x1(a,s,l.data)){const f=lO(s,t,r,o,n,c);if(f!==na)return f}u=t[s+8],u!==hs&&E1(n,t[Pe].data[s+8]===c)&&x1(a,s,t)?(o=l,s=cc(u),t=lc(u,t)):s=-1}}return i}function lO(e,t,r,n,i,a){const o=t[Pe],s=o.data[e+8],l=function tf(e,t,r,n,i){const a=e.providerIndexes,o=t.data,s=1048575&a,u=e.directiveStart,l=a>>20,d=i?s+l:e.directiveEnd;for(let p=n?s:s+l;p<d;p++){const h=o[p];if(p<u&&r===h||p>=u&&h.type===r)return p}if(i){const p=o[u];if(p&&Si(p)&&p.type===r)return u}return null}(s,o,r,null==n?Mo(s)&&km:n!=o&&0!=(3&s.type),i&Vt.Host&&a===s);return null!==l?Fo(t,o,l,s):na}function Fo(e,t,r,n){let i=e[r];const a=t.data;if(function rO(e){return e instanceof uc}(i)){const o=i;o.resolving&&function $I(e,t){const r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new He(-200,`Circular dependency in DI detected for ${e}${r}`)}(function er(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():mt(e)}(a[r]));const s=Kl(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?jn(o.injectImpl):null;o1(e,n,Vt.Default);try{i=e[r]=o.factory(void 0,a,e,n),t.firstCreatePass&&r>=n.directiveStart&&function eO(e,t,r){const{ngOnChanges:n,ngOnInit:i,ngDoCheck:a}=t.type.prototype;if(n){const o=$y(t);(r.preOrderHooks??=[]).push(e,o),(r.preOrderCheckHooks??=[]).push(e,o)}i&&(r.preOrderHooks??=[]).push(0-e,i),a&&((r.preOrderHooks??=[]).push(e,a),(r.preOrderCheckHooks??=[]).push(e,a))}(r,a[r],t)}finally{null!==c&&jn(c),Kl(s),o.resolving=!1,l1()}}return i}function x1(e,t,r){return!!(r[t+(e>>v1)]&1<<e)}function E1(e,t){return!(e&Vt.Self||e&Vt.Host&&t)}class Wr{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,n){return D1(this._tNode,this._lView,t,Ul(n),r)}}function dO(){return new Wr(fr(),ye())}function N1(e){const t=e[Pe],r=t.type;return 2===r?t.declTNode:1===r?e[hn]:null}function Es(e,t){e.forEach(r=>Array.isArray(r)?Es(r,t):t(r))}function A1(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function rf(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ti(e,t,r){let n=Ns(e,t);return n>=0?e[1|n]=r:(n=~n,function S1(e,t,r,n){let i=e.length;if(i==t)e.push(r,n);else if(1===i)e.push(n,e[0]),e[0]=r;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=r,e[t+1]=n}}(e,n,t,r)),n}function jm(e,t){const r=Ns(e,t);if(r>=0)return e[1|r]}function Ns(e,t){return function M1(e,t,r){let n=0,i=e.length>>r;for(;i!==n;){const a=n+(i-n>>1),o=e[a<<r];if(t===o)return a<<r;o>t?i=a:n=a+1}return~(i<<r)}(e,t,1)}const As=new ut("ENVIRONMENT_INITIALIZER"),F1=new ut("INJECTOR",-1),Qm=new ut("INJECTOR_DEF_TYPES");class sf{get(t,r=Qu){if(r===Qu){const n=new Error(`NullInjectorError: No provider for ${Pr(t)}!`);throw n.name="NullInjectorError",n}return r}}function BO(...e){return{\u0275providers:O1(0,e),\u0275fromNgModule:!0}}function O1(e,...t){const r=[],n=new Set;let i;const a=o=>{r.push(o)};return Es(t,o=>{const s=o;uf(s,a,[],n)&&(i||=[],i.push(s))}),void 0!==i&&R1(i,a),r}function R1(e,t){for(let r=0;r<e.length;r++){const{ngModule:n,providers:i}=e[r];Km(i,a=>{t(a,n)})}}function uf(e,t,r,n){if(!(e=Xe(e)))return!1;let i=null,a=Ll(e);const o=!a&&Ft(e);if(a||o){if(o&&!o.standalone)return!1;i=e}else{const u=e.ngModule;if(a=Ll(u),!a)return!1;i=u}const s=n.has(i);if(o){if(s)return!1;if(n.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)uf(c,t,r,n)}}else{if(!a)return!1;{if(null!=a.imports&&!s){let c;n.add(i);try{Es(a.imports,l=>{uf(l,t,r,n)&&(c||=[],c.push(l))})}finally{}void 0!==c&&R1(c,t)}if(!s){const c=_o(i)||(()=>new i);t({provide:i,useFactory:c,deps:Xt},i),t({provide:Qm,useValue:i,multi:!0},i),t({provide:As,useValue:()=>St(i),multi:!0},i)}const u=a.providers;if(null!=u&&!s){const c=e;Km(u,l=>{t(l,c)})}}}return i!==e&&void 0!==e.providers}function Km(e,t){for(let r of e)nn(r)&&(r=r.\u0275providers),Array.isArray(r)?Km(r,t):t(r)}const LO=Jt({provide:String,useValue:Jt});function Jm(e){return null!==e&&"object"==typeof e&&LO in e}function Oo(e){return"function"==typeof e}const eh=new ut("Set Injector scope."),cf={},zO={};let th;function lf(){return void 0===th&&(th=new sf),th}class wa{}class Ss extends wa{get destroyed(){return this._destroyed}constructor(t,r,n,i){super(),this.parent=r,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,nh(t,o=>this.processProvider(o)),this.records.set(F1,Ms(void 0,this)),i.has("environment")&&this.records.set(wa,Ms(void 0,this));const a=this.records.get(eh);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(Qm,Xt,Vt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=Wa(this),n=jn(void 0);try{return t()}finally{Wa(r),jn(n)}}get(t,r=Qu,n=Vt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(by))return t[by](this);n=Ul(n);const a=Wa(this),o=jn(void 0);try{if(!(n&Vt.SkipSelf)){let u=this.records.get(t);if(void 0===u){const c=function $O(e){return"function"==typeof e||"object"==typeof e&&e instanceof ut}(t)&&Bl(t);u=c&&this.injectableDefInScope(c)?Ms(rh(t),cf):null,this.records.set(t,u)}if(null!=u)return this.hydrate(t,u)}return(n&Vt.Self?lf():this.parent).get(t,r=n&Vt.Optional&&r===Qu?null:r)}catch(s){if("NullInjectorError"===s.name){if((s[zl]=s[zl]||[]).unshift(Pr(t)),a)throw s;return function iF(e,t,r,n){const i=e[zl];throw t[Cy]&&i.unshift(t[Cy]),e.message=function aF(e,t,r,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Pr(t);if(Array.isArray(t))i=t.map(Pr).join(" -> ");else if("object"==typeof t){let a=[];for(let o in t)if(t.hasOwnProperty(o)){let s=t[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):Pr(s)))}i=`{${a.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${e.replace(JI,"\n  ")}`}("\n"+e.message,i,r,n),e.ngTokenPath=i,e[zl]=null,e}(s,t,"R3InjectorError",this.source)}throw s}finally{jn(o),Wa(a)}}resolveInjectorInitializers(){const t=Wa(this),r=jn(void 0);try{const i=this.get(As,Xt,Vt.Self);for(const a of i)a()}finally{Wa(t),jn(r)}}toString(){const t=[],r=this.records;for(const n of r.keys())t.push(Pr(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new He(205,!1)}processProvider(t){let r=Oo(t=Xe(t))?t:Xe(t&&t.provide);const n=function qO(e){return Jm(e)?Ms(void 0,e.useValue):Ms(function L1(e,t,r){let n;if(Oo(e)){const i=Xe(e);return _o(i)||rh(i)}if(Jm(e))n=()=>Xe(e.useValue);else if(function B1(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...hm(e.deps||[]));else if(function P1(e){return!(!e||!e.useExisting)}(e))n=()=>St(Xe(e.useExisting));else{const i=Xe(e&&(e.useClass||e.provide));if(!function VO(e){return!!e.deps}(e))return _o(i)||rh(i);n=()=>new i(...hm(e.deps))}return n}(e),cf)}(t);if(!Oo(t)&&!0===t.multi){let i=this.records.get(r);i||(i=Ms(void 0,cf,!0),i.factory=()=>hm(i.multi),this.records.set(r,i)),r=t,i.multi.push(t)}this.records.set(r,n)}hydrate(t,r){return r.value===cf&&(r.value=zO,r.value=r.factory()),"object"==typeof r.value&&r.value&&function HO(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(t){if(!t.providedIn)return!1;const r=Xe(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function rh(e){const t=Bl(e),r=null!==t?t.factory:_o(e);if(null!==r)return r;if(e instanceof ut)throw new He(204,!1);if(e instanceof Function)return function UO(e){if(e.length>0)throw new He(204,!1);const r=function YI(e){return e&&(e[kl]||e[wy])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new He(204,!1)}function Ms(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function nh(e,t){for(const r of e)Array.isArray(r)?nh(r,t):r&&nn(r)?nh(r.\u0275providers,t):t(r)}function q1(e,t=null,r=null,n){const i=V1(e,t,r,n);return i.resolveInjectorInitializers(),i}function V1(e,t=null,r=null,n,i=new Set){const a=[r||Xt,BO(e)];return n=n||("object"==typeof e?void 0:Pr(e)),new Ss(a,t||lf(),n||null,i)}let oh,Mi=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Qu;static#t=this.NULL=new sf;static create(r,n){if(Array.isArray(r))return q1({name:""},n,r,"");{const i=r.name??"";return q1({name:i},r.parent,r.providers,i)}}static#r=this.\u0275prov=Pt({token:e,providedIn:"any",factory:()=>St(F1)});static#n=this.__NG_ELEMENT_ID__=-1}return e})();const df=new ut("AppId",{providedIn:"root",factory:()=>JO}),JO="ng",$1=new ut("Platform Initializer"),_s=new ut("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),j1=new ut("CSP nonce",{providedIn:"root",factory:()=>function Xa(){if(void 0!==oh)return oh;if(typeof document<"u")return document;throw new He(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function G1(e){return e.ownerDocument.defaultView}function vf(e){return 128==(128&e.flags)}var eo=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(eo||{});const fh=new Map;let fR=0;const ph="__ngContext__";function bn(e,t){vn(t)?(e[ph]=t[rc],function pR(e){fh.set(e[rc],e)}(t)):e[ph]=t}let mh;function hh(e,t){return mh(e,t)}function Is(e,t,r,n,i){if(null!=n){let a,o=!1;gn(n)?a=n:vn(n)&&(o=!0,n=n[Ir]);const s=Dr(n);0===e&&null!==r?null==i?mb(t,r,s):Po(t,r,s,i||null,!0):1===e&&null!==r?Po(t,r,s,i||null,!0):2===e?function Ef(e,t,r){const n=wf(e,t);n&&function _R(e,t,r,n){e.removeChild(t,r,n)}(e,n,t,r)}(t,s,o):3===e&&t.destroyNode(s),null!=a&&function FR(e,t,r,n,i){const a=r[Ki];a!==Dr(r)&&Is(t,e,n,a,i);for(let s=Lr;s<r.length;s++){const u=r[s];Nf(u[Pe],u,e,t,n,a)}}(t,e,a,r,i)}}function bf(e,t,r){return e.createElement(t,r)}function fb(e,t){t[Qi].changeDetectionScheduler?.notify(),Nf(e,t,t[yt],2,null,null)}function db(e,t){const r=e[ds],n=r.indexOf(t);r.splice(n,1)}function gc(e,t){if(e.length<=Lr)return;const r=Lr+t,n=e[r];if(n){const i=n[tc];null!==i&&i!==e&&db(i,n),t>0&&(e[r-1][Ci]=n[Ci]);const a=rf(e,Lr+t);!function xR(e,t){fb(e,t),t[Ir]=null,t[hn]=null}(n[Pe],n);const o=a[Xi];null!==o&&o.detachView(a[Pe]),n[Br]=null,n[Ci]=null,n[Ke]&=-129}return n}function Df(e,t){if(!(256&t[Ke])){const r=t[yt];r.destroyNode&&Nf(e,t,r,3,null,null),function NR(e){let t=e[ec];if(!t)return gh(e[Pe],e);for(;t;){let r=null;if(vn(t))r=t[ec];else{const n=t[Lr];n&&(r=n)}if(!r){for(;t&&!t[Ci]&&t!==e;)vn(t)&&gh(t[Pe],t),t=t[Br];null===t&&(t=e),vn(t)&&gh(t[Pe],t),r=t&&t[Ci]}t=r}}(t)}}function gh(e,t){if(!(256&t[Ke])){t[Ke]&=-129,t[Ke]|=256,t[So]&&function Lt(e){if($e(e),ar(e))for(let t=0;t<e.producerNode.length;t++)Rt(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[So]),function MR(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let n=0;n<r.length;n+=2){const i=t[r[n]];if(!(i instanceof uc)){const a=r[n+1];if(Array.isArray(a))for(let o=0;o<a.length;o+=2){const s=i[a[o]],u=a[o+1];Ji(4,s,u);try{u.call(s)}finally{Ji(5,s,u)}}else{Ji(4,i,a);try{a.call(i)}finally{Ji(5,i,a)}}}}}(e,t),function SR(e,t){const r=e.cleanup,n=t[cs];if(null!==r)for(let a=0;a<r.length-1;a+=2)if("string"==typeof r[a]){const o=r[a+3];o>=0?n[o]():n[-o].unsubscribe(),a+=2}else r[a].call(n[r[a+1]]);null!==n&&(t[cs]=null);const i=t[Ya];if(null!==i){t[Ya]=null;for(let a=0;a<i.length;a++)(0,i[a])()}}(e,t),1===t[Pe].type&&t[yt].destroy();const r=t[tc];if(null!==r&&gn(t[Br])){r!==t[Br]&&db(r,t);const n=t[Xi];null!==n&&n.detachView(e)}!function mR(e){fh.delete(e[rc])}(t)}}function yh(e,t,r){return function pb(e,t,r){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return r[Ir];{const{componentOffset:i}=n;if(i>-1){const{encapsulation:a}=e.data[n.directiveStart+i];if(a===Ei.None||a===Ei.Emulated)return null}return Mn(n,r)}}(e,t.parent,r)}function Po(e,t,r,n,i){e.insertBefore(t,r,n,i)}function mb(e,t,r){e.appendChild(t,r)}function hb(e,t,r,n,i){null!==n?Po(e,t,r,n,i):mb(e,t,r)}function wf(e,t){return e.parentNode(t)}let bh,yb=function gb(e,t,r){return 40&e.type?Mn(e,r):null};function xf(e,t,r,n){const i=yh(e,n,t),a=t[yt],s=function vb(e,t,r){return yb(e,t,r)}(n.parent||t[hn],n,t);if(null!=i)if(Array.isArray(r))for(let u=0;u<r.length;u++)hb(a,i,r[u],s,!1);else hb(a,i,r,s,!1);void 0!==bh&&bh(a,n,t,r,i)}function yc(e,t){if(null!==t){const r=t.type;if(3&r)return Mn(t,e);if(4&r)return Dh(-1,e[t.index]);if(8&r){const n=t.child;if(null!==n)return yc(e,n);{const i=e[t.index];return gn(i)?Dh(-1,i):Dr(i)}}if(32&r)return hh(t,e)()||Dr(e[t.index]);{const n=Db(e,t);return null!==n?Array.isArray(n)?n[0]:yc(To(e[_r]),n):yc(e,t.next)}}return null}function Db(e,t){return null!==t?e[_r][hn].projection[t.projection]:null}function Dh(e,t){const r=Lr+e+1;if(r<t.length){const n=t[r],i=n[Pe].firstChild;if(null!==i)return yc(n,i)}return t[Ki]}function wh(e,t,r,n,i,a,o){for(;null!=r;){const s=n[r.index],u=r.type;if(o&&0===t&&(s&&bn(Dr(s),n),r.flags|=2),32!=(32&r.flags))if(8&u)wh(e,t,r.child,n,i,a,!1),Is(t,e,i,s,a);else if(32&u){const c=hh(r,n);let l;for(;l=c();)Is(t,e,i,l,a);Is(t,e,i,s,a)}else 16&u?xb(e,t,n,r,i,a):Is(t,e,i,s,a);r=o?r.projectionNext:r.next}}function Nf(e,t,r,n,i,a){wh(r,n,e.firstChild,t,i,a,!1)}function xb(e,t,r,n,i,a){const o=r[_r],u=o[hn].projection[n.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Is(t,e,i,u[c],a);else{let c=u;const l=o[Br];vf(n)&&(c.flags|=128),wh(e,t,c,l,i,a,!0)}}function Eb(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function Nb(e,t,r){const{mergedAttrs:n,classes:i,styles:a}=r;null!==n&&vm(e,t,n),null!==i&&Eb(e,t,i),null!==a&&function RR(e,t,r){e.setAttribute(t,"style",r)}(e,t,a)}class Mb{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Lb{}let kb=()=>null;function Ph(e,t,r=!1){return kb(e,t,r)}class hP{}class qb{}class gP{resolveComponentFactory(t){throw function vP(e){const t=Error(`No component factory found for ${Pr(e)}.`);return t.ngComponent=e,t}(t)}}let Of=(()=>{class e{static#e=this.NULL=new gP}return e})();function yP(){return Bs(fr(),ye())}function Bs(e,t){return new Ls(Mn(e,t))}let Ls=(()=>{class e{constructor(r){this.nativeElement=r}static#e=this.__NG_ELEMENT_ID__=yP}return e})();class Hb{}let wP=(()=>{class e{static#e=this.\u0275prov=Pt({token:e,providedIn:"root",factory:()=>null})}return e})();const kh={};function xP(e,t){const r=function $p(e){const t=Object.create(Gp);t.value=e;const r=()=>(O(t),t.value);return r[Ze]=t,r}(e),n=r[Ze];return t?.equal&&(n.equal=t.equal),r.set=i=>Nl(n,i),r.update=i=>function jp(e,t){J()||xi(),Nl(e,t(e.value))}(n,i),r.asReadonly=EP.bind(r),r}function EP(){const e=this[Ze];if(void 0===e.readonlyFn){const t=()=>this();t[Ze]=e,e.readonlyFn=t}return e.readonlyFn}function Nc(e,t,r,n,i=!1){for(;null!==r;){const a=t[r.index];null!==a&&n.push(Dr(a)),gn(a)&&Kb(a,n);const o=r.type;if(8&o)Nc(e,t,r.child,n);else if(32&o){const s=hh(r,t);let u;for(;u=s();)n.push(u)}else if(16&o){const s=Db(t,r);if(Array.isArray(s))n.push(...s);else{const u=To(t[_r]);Nc(u[Pe],u,s,n,!0)}}r=i?r.projectionNext:r.next}return n}function Kb(e,t){for(let r=Lr;r<e.length;r++){const n=e[r],i=n[Pe].firstChild;null!==i&&Nc(n[Pe],n,i,t)}e[Ki]!==e[Ir]&&t.push(e[Ki])}let Jb=[];const BP={...Z,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{oc(e.lView)},consumerOnSignalRead(){this.lView[So]=this}};function eD(e){return rD(e[ec])}function tD(e){return rD(e[Ci])}function rD(e){for(;null!==e&&!gn(e);)e=e[Ci];return e}function qh(e){return e.ngOriginalError}class Ea{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&qh(t);for(;r&&qh(r);)r=qh(r);return r||null}}const iD=new ut("",{providedIn:"root",factory:()=>Zt(Ea).handleError.bind(void 0)}),oD=new ut("",{providedIn:"root",factory:()=>!1}),bt={};function Lf(e=1){lD(Ht(),ye(),yn()+e,!1)}function lD(e,t,r,n){if(!n)if(3==(3&t[Ke])){const a=e.preOrderCheckHooks;null!==a&&Ql(t,a,r)}else{const a=e.preOrderHooks;null!==a&&Xl(t,a,0,r)}Io(r)}function Tt(e,t=Vt.Default){const r=ye();return null===r?St(e,t):D1(fr(),r,Xe(e),t)}function fD(e,t,r,n,i,a){const o=Ye(null);try{let s=null;i&Za.SignalBased&&(s=t[n][Ze]),null!==s&&void 0!==s.transformFn&&(a=s.transformFn(a)),i&Za.HasDecoratorInputTransform&&(a=e.inputTransforms[n].call(t,a)),null!==e.setInput?e.setInput(t,s,a,r,n):Hy(t,s,n,a)}finally{Ye(o)}}function kf(e,t,r,n,i,a,o,s,u,c,l){const f=t.blueprint.slice();return f[Ir]=i,f[Ke]=204|n,(null!==c||e&&2048&e[Ke])&&(f[Ke]|=2048),Qy(f),f[Br]=f[ls]=e,f[br]=r,f[Qi]=o||e&&e[Qi],f[yt]=s||e&&e[yt],f[Sn]=u||e&&e[Sn]||null,f[hn]=a,f[rc]=function dR(){return fR++}(),f[Ai]=l,f[zy]=c,f[_r]=2==t.type?e[_r]:f,f}function ks(e,t,r,n,i){let a=e.data[t];if(null===a)a=function Vh(e,t,r,n,i){const a=t1(),o=Mm(),u=e.data[t]=function KP(e,t,r,n,i,a){let o=t?t.injectorIndex:-1,s=0;return function ms(){return null!==st.skipHydrationRootTNode}()&&(s|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,r,t,n,i);return null===e.firstChild&&(e.firstChild=u),null!==a&&(o?null==a.child&&null!==u.parent&&(a.child=u):null===a.next&&(a.next=u,u.prev=a)),u}(e,t,r,n,i),function jF(){return st.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=r,a.value=n,a.attrs=i;const o=function sc(){const e=st.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();a.injectorIndex=null===o?-1:o.injectorIndex}return ta(a,!0),a}function Cc(e,t,r,n){if(0===r)return-1;const i=t.length;for(let a=0;a<r;a++)t.push(n),e.blueprint.push(n),e.data.push(null);return i}function dD(e,t,r,n,i){const a=yn(),o=2&n;try{Io(-1),o&&t.length>ht&&lD(e,t,ht,!1),Ji(o?2:0,i),r(n,i)}finally{Io(a),Ji(o?3:1,i)}}function Hh(e,t,r){if(bm(t)){const n=Ye(null);try{const a=t.directiveEnd;for(let o=t.directiveStart;o<a;o++){const s=e.data[o];s.contentQueries&&s.contentQueries(1,r[o],o)}}finally{Ye(n)}}}function $h(e,t,r){e1()&&(function a3(e,t,r,n){const i=r.directiveStart,a=r.directiveEnd;Mo(r)&&function d3(e,t,r){const n=Mn(t,e),i=pD(r);let o=16;r.signals?o=4096:r.onPush&&(o=64);const s=zf(e,kf(e,i,null,o,n,t,null,e[Qi].rendererFactory.createRenderer(n,r),null,null,null));e[t.index]=s}(t,r,e.data[i+r.componentOffset]),e.firstCreatePass||Jl(r,t),bn(n,t);const o=r.initialInputs;for(let s=i;s<a;s++){const u=e.data[s],c=Fo(t,e,s,r);bn(c,t),null!==o&&p3(0,s-i,c,u,0,o),Si(u)&&(ei(r.index,t)[br]=Fo(t,e,s,r))}}(e,t,r,Mn(r,t)),64==(64&r.flags)&&yD(e,t,r))}function jh(e,t,r=Mn){const n=t.localNames;if(null!==n){let i=t.index+1;for(let a=0;a<n.length;a+=2){const o=n[a+1],s=-1===o?r(t,e):e[o];e[i++]=s}}}function pD(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Gh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Gh(e,t,r,n,i,a,o,s,u,c,l){const f=ht+n,d=f+i,p=function GP(e,t){const r=[];for(let n=0;n<t;n++)r.push(n<e?null:bt);return r}(f,d),h="function"==typeof c?c():c;return p[Pe]={type:e,blueprint:p,template:r,queries:null,viewQuery:s,declTNode:t,data:p.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:h,incompleteFirstPass:!1,ssrId:l}}let mD=()=>null;function hD(e,t,r,n,i){for(let a in t){if(!t.hasOwnProperty(a))continue;const o=t[a];if(void 0===o)continue;n??={};let s,u=Za.None;Array.isArray(o)?(s=o[0],u=o[1]):s=o;let c=a;if(null!==i){if(!i.hasOwnProperty(a))continue;c=i[a]}0===e?vD(n,r,c,s,u):vD(n,r,c,s)}return n}function vD(e,t,r,n,i){let a;e.hasOwnProperty(r)?(a=e[r]).push(t,n):a=e[r]=[t,n],void 0!==i&&a.push(i)}function Wh(e,t,r,n){if(e1()){const i=null===n?null:{"":-1},a=function s3(e,t){const r=e.directiveRegistry;let n=null,i=null;if(r)for(let a=0;a<r.length;a++){const o=r[a];if(Oy(t,o.selectors,!1))if(n||(n=[]),Si(o))if(null!==o.findHostDirectiveDefs){const s=[];i=i||new Map,o.findHostDirectiveDefs(o,s,i),n.unshift(...s,o),Zh(e,t,s.length)}else n.unshift(o),Zh(e,t,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,n,i),n.push(o)}return null===n?null:[n,i]}(e,r);let o,s;null===a?o=s=null:[o,s]=a,null!==o&&gD(e,t,r,o,i,s),i&&function u3(e,t,r){if(t){const n=e.localNames=[];for(let i=0;i<t.length;i+=2){const a=r[t[i+1]];if(null==a)throw new He(-301,!1);n.push(t[i],a)}}}(r,n,i)}r.mergedAttrs=Ku(r.mergedAttrs,r.attrs)}function gD(e,t,r,n,i,a){for(let c=0;c<n.length;c++)Um(Jl(r,t),e,n[c].type);!function l3(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,n.length);for(let c=0;c<n.length;c++){const l=n[c];l.providersResolver&&l.providersResolver(l)}let o=!1,s=!1,u=Cc(e,t,n.length,null);for(let c=0;c<n.length;c++){const l=n[c];r.mergedAttrs=Ku(r.mergedAttrs,l.hostAttrs),f3(e,r,t,u,l),c3(u,l,i),null!==l.contentQueries&&(r.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(r.flags|=64);const f=l.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),o=!0),!s&&(f.ngOnChanges||f.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),s=!0),u++}!function JP(e,t,r){const i=t.directiveEnd,a=e.data,o=t.attrs,s=[];let u=null,c=null;for(let l=t.directiveStart;l<i;l++){const f=a[l],d=r?r.get(f):null,h=d?d.outputs:null;u=hD(0,f.inputs,l,u,d?d.inputs:null),c=hD(1,f.outputs,l,c,h);const m=null===u||null===o||Fy(t)?null:m3(u,l,o);s.push(m)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=s,t.inputs=u,t.outputs=c}(e,r,a)}function yD(e,t,r){const n=r.directiveStart,i=r.directiveEnd,a=r.index,o=function WF(){return st.lFrame.currentDirectiveIndex}();try{Io(a);for(let s=n;s<i;s++){const u=e.data[s],c=t[s];Tm(s),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&o3(u,c)}}finally{Io(-1),Tm(o)}}function o3(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Zh(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function c3(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;Si(t)&&(r[""]=e)}}function f3(e,t,r,n,i){e.data[n]=i;const a=i.factory||(i.factory=_o(i.type)),o=new uc(a,Si(i),Tt);e.blueprint[n]=o,r[n]=o,function n3(e,t,r,n,i){const a=i.hostBindings;if(a){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const s=~t.index;(function i3(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(o)!=s&&o.push(s),o.push(r,n,a)}}(e,t,n,Cc(e,r,i.hostVars,bt),i)}function p3(e,t,r,n,i,a){const o=a[t];if(null!==o)for(let s=0;s<o.length;)fD(n,r,o[s++],o[s++],o[s++],o[s++])}function m3(e,t,r){let n=null,i=0;for(;i<r.length;){const a=r[i];if(0!==a)if(5!==a){if("number"==typeof a)break;if(e.hasOwnProperty(a)){null===n&&(n=[]);const o=e[a];for(let s=0;s<o.length;s+=3)if(o[s]===t){n.push(a,o[s+1],o[s+2],r[i+1]);break}}i+=2}else i+=2;else i+=4}return n}function bD(e,t,r,n){return[e,!0,0,t,null,n,null,r,null,null]}function DD(e,t){const r=e.contentQueries;if(null!==r){const n=Ye(null);try{for(let i=0;i<r.length;i+=2){const o=r[i+1];if(-1!==o){const s=e.data[o];Fm(r[i]),s.contentQueries(2,t[o],o)}}}finally{Ye(n)}}}function zf(e,t){return e[ec]?e[ky][Ci]=t:e[ec]=t,e[ky]=t,t}function Qh(e,t,r){Fm(0);const n=Ye(null);try{t(e,r)}finally{Ye(n)}}function Uf(e,t){const r=e[Sn],n=r?r.get(Ea,null):null;n&&n.handleError(t)}function Xh(e,t,r,n,i){for(let a=0;a<r.length;){const o=r[a++],s=r[a++],u=r[a++];fD(e.data[o],t[o],n,s,u,i)}}function g3(e,t,r,n){const i=t[Ke];if(256==(256&i))return;t[Qi].inlineEffectRunner?.flush(),Om(t);let o=null,s=null;(function y3(e){return 2!==e.type})(e)&&(s=function OP(e){return e[So]??function RP(e){const t=Jb.pop()??Object.create(BP);return t.lView=e,t}(e)}(t),o=function we(e){return e&&(e.nextProducerIndex=0),Ye(e)}(s));try{Qy(t),function n1(e){return st.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&dD(e,t,r,2,n);const u=3==(3&i);if(u){const f=e.preOrderCheckHooks;null!==f&&Ql(t,f,null)}else{const f=e.preOrderHooks;null!==f&&Xl(t,f,0,null),Pm(t,0)}if(function b3(e){for(let t=eD(e);null!==t;t=tD(t)){if(!(t[Ke]&ym.HasTransplantedViews))continue;const r=t[ds];for(let n=0;n<r.length;n++){OF(r[n])}}}(t),ND(t,0),null!==e.contentQueries&&DD(e,t),u){const f=e.contentCheckHooks;null!==f&&Ql(t,f)}else{const f=e.contentHooks;null!==f&&Xl(t,f,1),Pm(t,1)}!function jP(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let n=0;n<r.length;n++){const i=r[n];if(i<0)Io(~i);else{const a=i,o=r[++n],s=r[++n];GF(o,a),s(2,t[a])}}}finally{Io(-1)}}(e,t);const c=e.components;null!==c&&AD(t,c,0);const l=e.viewQuery;if(null!==l&&Qh(2,l,n),u){const f=e.viewCheckHooks;null!==f&&Ql(t,f)}else{const f=e.viewHooks;null!==f&&Xl(t,f,2),Pm(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Hl]){for(const f of t[Hl])f();t[Hl]=null}t[Ke]&=-73}catch(u){throw oc(t),u}finally{null!==s&&(function qe(e,t){if(Ye(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ar(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Rt(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(s,o),function PP(e){e.lView[So]!==e&&(e.lView=null,Jb.push(e))}(s)),Rm()}}function ND(e,t){for(let r=eD(e);null!==r;r=tD(r))for(let n=Lr;n<r.length;n++)CD(r[n],t)}function D3(e,t,r){CD(ei(t,e),r)}function CD(e,t){Cm(e)&&Jh(e,t)}function Jh(e,t){const n=e[Pe],i=e[Ke],a=e[So];let o=!!(0===t&&16&i);if(o||=!!(64&i&&0===t),o||=!!(1024&i),o||=!(!a?.dirty||!zt(a)),a&&(a.dirty=!1),e[Ke]&=-9217,o)g3(n,e,n.template,e[br]);else if(8192&i){ND(e,1);const s=n.components;null!==s&&AD(e,s,1)}}function AD(e,t,r){for(let n=0;n<t.length;n++)D3(e,t[n],r)}function Ac(e){for(e[Qi].changeDetectionScheduler?.notify();e;){e[Ke]|=64;const t=To(e);if(Dm(e)&&!t)return e;e=t}return null}class Sc{get rootNodes(){const t=this._lView,r=t[Pe];return Nc(r,t,r.firstChild,[])}constructor(t,r,n=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[br]}set context(t){this._lView[br]=t}get destroyed(){return 256==(256&this._lView[Ke])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Br];if(gn(t)){const r=t[8],n=r?r.indexOf(this):-1;n>-1&&(gc(t,n),rf(r,n))}this._attachedToViewContainer=!1}Df(this._lView[Pe],this._lView)}onDestroy(t){!function Wl(e,t){if(256==(256&e[Ke]))throw new He(911,!1);null===e[Ya]&&(e[Ya]=[]),e[Ya].push(t)}(this._lView,t)}markForCheck(){Ac(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ke]&=-129}reattach(){Am(this._lView),this._lView[Ke]|=128}detectChanges(){this._lView[Ke]|=1024,function Kh(e,t=!0){const r=e[Qi],n=r.rendererFactory;n.begin?.();try{!function v3(e){Jh(e,0);let t=0;for(;Ky(e);){if(100===t)throw new He(103,!1);t++,Jh(e,1)}}(e)}catch(a){throw t&&Uf(e,a),a}finally{n.end?.(),r.inlineEffectRunner?.flush()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new He(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,fb(this._lView[Pe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new He(902,!1);this._appRef=t,Am(this._lView)}}function tv(e){return t=>{setTimeout(e,void 0,t)}}const aa=class I3 extends Gu{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,n){let i=t,a=r||(()=>null),o=n;if(t&&"object"==typeof t){const u=t;i=u.next?.bind(u),a=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(a=tv(a),i&&(i=tv(i)),o&&(o=tv(o)));const s=super.subscribe({next:i,error:a,complete:o});return t instanceof Cn&&t.add(s),s}};function _D(...e){}class Cr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new aa(!1),this.onMicrotaskEmpty=new aa(!1),this.onStable=new aa(!1),this.onError=new aa(!1),typeof Zone>"u")throw new He(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&r,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function F3(){const e="function"==typeof yr.requestAnimationFrame;let t=yr[e?"requestAnimationFrame":"setTimeout"],r=yr[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function P3(e){const t=()=>{!function R3(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(yr,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,nv(e),e.isCheckStableRunning=!0,rv(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),nv(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,i,a,o,s)=>{if(function B3(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(s))return r.invokeTask(i,a,o,s);try{return TD(e),r.invokeTask(i,a,o,s)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&t(),ID(e)}},onInvoke:(r,n,i,a,o,s,u)=>{try{return TD(e),r.invoke(i,a,o,s,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),ID(e)}},onHasTask:(r,n,i,a)=>{r.hasTask(i,a),n===i&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,nv(e),rv(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,n,i,a)=>(r.handleError(i,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cr.isInAngularZone())throw new He(909,!1)}static assertNotInAngularZone(){if(Cr.isInAngularZone())throw new He(909,!1)}run(t,r,n){return this._inner.run(t,r,n)}runTask(t,r,n,i){const a=this._inner,o=a.scheduleEventTask("NgZoneEvent: "+i,t,O3,_D,_D);try{return a.runTask(o,r,n)}finally{a.cancelTask(o)}}runGuarded(t,r,n){return this._inner.runGuarded(t,r,n)}runOutsideAngular(t){return this._outer.run(t)}}const O3={};function rv(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function nv(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function TD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ID(e){e._nesting--,rv(e)}class FD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new aa,this.onMicrotaskEmpty=new aa,this.onStable=new aa,this.onError=new aa}run(t,r,n){return t.apply(r,n)}runGuarded(t,r,n){return t.apply(r,n)}runOutsideAngular(t){return t()}runTask(t,r,n,i){return t.apply(r,n)}}let Mc=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){const r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of r)i();return!!this.handler?.execute()||r.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Pt({token:e,providedIn:"root",factory:()=>new e})}return e})();function U3(e,t){const r=ei(t,e),n=r[Pe];!function q3(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(n,r);const i=r[Ir];null!==i&&null===r[Ai]&&(r[Ai]=Ph(i,r[Sn])),iv(n,r,r[br])}function iv(e,t,r){Om(t);try{const n=e.viewQuery;null!==n&&Qh(1,n,r);const i=e.template;null!==i&&dD(e,t,i,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&DD(e,t),e.staticViewQueries&&Qh(2,e.viewQuery,r);const a=e.components;null!==a&&function V3(e,t){for(let r=0;r<t.length;r++)U3(e,t[r])}(t,a)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[Ke]&=-5,Rm()}}function qf(e,t,r){let n=r?e.styles:null,i=r?e.classes:null,a=0;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?a=s:1==a?i=Wu(i,s):2==a&&(n=Wu(n,s+": "+t[++o]+";"))}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=i:e.classesWithoutHost=i}class LD extends Of{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Ft(t);return new _c(r,this.ngModule)}}function kD(e){const t=[];for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r];void 0!==n&&t.push({propName:Array.isArray(n)?n[0]:n,templateName:r})}return t}class $3{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,n){n=Ul(n);const i=this.injector.get(t,kh,n);return i!==kh||r===kh?i:this.parentInjector.get(t,r,n)}}class _c extends qb{get inputs(){const t=this.componentDef,r=t.inputTransforms,n=kD(t.inputs);if(null!==r)for(const i of n)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return n}get outputs(){return kD(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function hF(e){return e.map(mF).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,n,i){let a=(i=i||this.ngModule)instanceof wa?i:i?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const o=a?new $3(t,a):t,s=o.get(Hb,null);if(null===s)throw new He(407,!1);const f={rendererFactory:s,sanitizer:o.get(wP,null),inlineEffectRunner:null,afterRenderEventManager:o.get(Mc,null),changeDetectionScheduler:o.get(Lb,null)},d=s.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",h=n?function WP(e,t,r,n){const a=n.get(oD,!1)||r===Ei.ShadowDom,o=e.selectRootElement(t,a);return function ZP(e){mD(e)}(o),o}(d,n,this.componentDef.encapsulation,o):bf(d,p,function H3(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(p));let m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let y=null;null!==h&&(y=Ph(h,o,!0));const g=Gh(0,null,null,1,0,null,null,null,null,null,null),x=kf(null,g,null,m,null,null,f,d,o,null,y);let v,D;Om(x);try{const w=this.componentDef;let b,A=null;w.findHostDirectiveDefs?(b=[],A=new Map,w.findHostDirectiveDefs(w,b,A),b.push(w)):b=[w];const C=function G3(e,t){const r=e[Pe],n=ht;return e[n]=t,ks(r,n,2,"#host",null)}(x,h),E=function W3(e,t,r,n,i,a,o){const s=i[Pe];!function Z3(e,t,r,n){for(const i of e)t.mergedAttrs=Ku(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(qf(t,t.mergedAttrs,!0),null!==r&&Nb(n,r,t))}(n,e,t,o);let u=null;null!==t&&(u=Ph(t,i[Sn]));const c=a.rendererFactory.createRenderer(t,r);let l=16;r.signals?l=4096:r.onPush&&(l=64);const f=kf(i,pD(r),null,l,i[e.index],e,a,c,null,null,u);return s.firstCreatePass&&Zh(s,e,n.length-1),zf(i,f),i[e.index]=f}(C,h,w,b,x,f,d);D=ac(g,ht),h&&function Q3(e,t,r,n){if(n)vm(e,r,["ng-version","17.1.0"]);else{const{attrs:i,classes:a}=function vF(e){const t=[],r=[];let n=1,i=2;for(;n<e.length;){let a=e[n];if("string"==typeof a)2===i?""!==a&&t.push(a,e[++n]):8===i&&r.push(a);else{if(!Ni(i))break;i=a}n++}return{attrs:t,classes:r}}(t.selectors[0]);i&&vm(e,r,i),a&&a.length>0&&Eb(e,r,a.join(" "))}}(d,w,h,n),void 0!==r&&function X3(e,t,r){const n=e.projection=[];for(let i=0;i<t.length;i++){const a=r[i];n.push(null!=a?Array.from(a):null)}}(D,this.ngContentSelectors,r),v=function Y3(e,t,r,n,i,a){const o=fr(),s=i[Pe],u=Mn(o,i);gD(s,i,o,r,null,n);for(let l=0;l<r.length;l++)bn(Fo(i,s,o.directiveStart+l,o),i);yD(s,i,o),u&&bn(u,i);const c=Fo(i,s,o.directiveStart+o.componentOffset,o);if(e[br]=i[br]=c,null!==a)for(const l of a)l(c,t);return Hh(s,o,e),c}(E,w,b,A,x,[K3]),iv(g,x,null)}finally{Rm()}return new j3(this.componentType,v,Bs(D,x),x,D)}}class j3 extends hP{constructor(t,r,n,i,a){super(),this.location=n,this._rootLView=i,this._tNode=a,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Sc(i,void 0,!1),this.componentType=t}setInput(t,r){const n=this._tNode.inputs;let i;if(null!==n&&(i=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const a=this._rootLView;Xh(a[Pe],a,i,t,r),this.previousInputValues.set(t,r),Ac(ei(this._tNode.index,a))}}get injector(){return new Wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function K3(){const e=fr();Yl(ye()[Pe],e)}function Us(e,t){return!t||null===t.firstChild||vf(e)}function Pc(e,t,r,n=!0){const i=t[Pe];if(function CR(e,t,r,n){const i=Lr+n,a=r.length;n>0&&(r[i-1][Ci]=t),n<a-Lr?(t[Ci]=r[i],A1(r,Lr+n,t)):(r.push(t),t[Ci]=null),t[Br]=r;const o=t[tc];null!==o&&r!==o&&function AR(e,t){const r=e[ds];t[_r]!==t[Br][Br][_r]&&(e[Ke]|=ym.HasTransplantedViews),null===r?e[ds]=[t]:r.push(t)}(o,t);const s=t[Xi];null!==s&&s.insertView(e),Am(t),t[Ke]|=128}(i,t,e,r),n){const o=Dh(r,e),s=t[yt],u=wf(s,e[Ki]);null!==u&&function ER(e,t,r,n,i,a){n[Ir]=i,n[hn]=t,Nf(e,n,r,1,i,a)}(i,e[hn],s,t,u,o)}const a=t[Ai];null!==a&&null!==a.firstChild&&(a.firstChild=null)}let oa=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=IB}return e})();function IB(){return function JD(e,t){let r;const n=t[e.index];return gn(n)?r=n:(r=bD(n,t,null,e),t[e.index]=r,zf(t,r)),ew(r,t,e,n),new XD(r,e,t)}(fr(),ye())}const FB=oa,XD=class extends FB{constructor(t,r,n){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=n}get element(){return Bs(this._hostTNode,this._hostLView)}get injector(){return new Wr(this._hostTNode,this._hostLView)}get parentInjector(){const t=ef(this._hostTNode,this._hostLView);if(Lm(t)){const r=lc(t,this._hostLView),n=cc(t);return new Wr(r[Pe].data[n+8],r)}return new Wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=KD(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-Lr}createEmbeddedView(t,r,n){let i,a;"number"==typeof n?i=n:null!=n&&(i=n.index,a=n.injector);const s=t.createEmbeddedViewImpl(r||{},a,null);return this.insertImpl(s,i,Us(this._hostTNode,null)),s}createComponent(t,r,n,i,a){const o=t&&!function fc(e){return"function"==typeof e}(t);let s;if(o)s=r;else{const h=r||{};s=h.index,n=h.injector,i=h.projectableNodes,a=h.environmentInjector||h.ngModuleRef}const u=o?t:new _c(Ft(t)),c=n||this.parentInjector;if(!a&&null==u.ngModule){const m=(o?c:this.parentInjector).get(wa,null);m&&(a=m)}Ft(u.componentType??{});const p=u.create(c,i,null,a);return this.insertImpl(p.hostView,s,Us(this._hostTNode,null)),p}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,n){const i=t._lView;if(function FF(e){return gn(e[Br])}(i)){const s=this.indexOf(t);if(-1!==s)this.detach(s);else{const u=i[Br],c=new XD(u,u[hn],u[Br]);c.detach(c.indexOf(t))}}const a=this._adjustIndex(r),o=this._lContainer;return Pc(o,i,a,n),t.attachToViewContainerRef(),A1(fv(o),a,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=KD(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),n=gc(this._lContainer,r);n&&(rf(fv(this._lContainer),r),Df(n[Pe],n))}detach(t){const r=this._adjustIndex(t,-1),n=gc(this._lContainer,r);return n&&null!=rf(fv(this._lContainer),r)?new Sc(n):null}_adjustIndex(t,r=0){return t??this.length+r}};function KD(e){return e[8]}function fv(e){return e[8]||(e[8]=[])}let ew=function rw(e,t,r,n){if(e[Ki])return;let i;i=8&r.type?Dr(n):function OB(e,t){const r=e[yt],n=r.createComment(""),i=Mn(t,e);return Po(r,wf(r,i),n,function TR(e,t){return e.nextSibling(t)}(r,i),!1),n}(t,r),e[Ki]=i},dv=()=>!1;function qr(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function qs(e,t,r,n,i,a,o,s){const u=ye(),c=Ht(),l=e+ht,f=c.firstCreatePass?function LB(e,t,r,n,i,a,o,s,u){const c=t.consts,l=ks(t,e,4,o||null,ea(c,s));Wh(t,r,l,ea(c,u)),Yl(t,l);const f=l.tView=Gh(2,l,n,i,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,l),f.queries=t.queries.embeddedTView(l)),l}(l,c,u,t,r,n,i,a,o):c.data[l];ta(f,!1);const d=nw(c,u,f,e);Zl()&&xf(c,u,d,f),bn(d,u);const p=bD(d,u,d,f);return u[l]=p,zf(u,p),function tw(e,t,r){return dv(e,t,r)}(p,f,u),jl(f)&&$h(c,u,f),null!=o&&jh(u,f,s),qs}let nw=function iw(e,t,r,n){return Qa(!0),t[yt].createComment("")};function Jf(e,t){return e<<17|t<<2}function no(e){return e>>17&32767}function wv(e){return 2|e}function Uo(e){return(131068&e)>>2}function xv(e,t){return-131069&e|t<<2}function Ev(e){return 1|e}function Lw(e,t,r,n){const i=e[r+1],a=null===t;let o=n?no(i):Uo(i),s=!1;for(;0!==o&&(!1===s||a);){const c=e[o+1];wL(e[o],t)&&(s=!0,e[o+1]=n?Ev(c):wv(c)),o=n?no(c):Uo(c)}s&&(e[r+1]=n?wv(i):Ev(i))}function wL(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ns(e,t)>=0}const Yr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kw(e){return e.substring(Yr.key,Yr.keyEnd)}function zw(e,t){const r=Yr.textEnd;return r===t?-1:(t=Yr.keyEnd=function CL(e,t,r){for(;t<r&&e.charCodeAt(t)>32;)t++;return t}(e,Yr.key=t,r),nu(e,t,r))}function nu(e,t,r){for(;t<r&&e.charCodeAt(t)<=32;)t++;return t}function Nv(e,t,r){const n=ye();return qr(n,ra(),t)&&function ni(e,t,r,n,i,a,o,s){const u=Mn(t,r);let l,c=t.inputs;!s&&null!=c&&(l=c[n])?(Xh(e,r,l,n,i),Mo(t)&&function t3(e,t){const r=ei(t,e);16&r[Ke]||(r[Ke]|=64)}(r,t.index)):3&t.type&&(n=function e3(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),i=null!=o?o(i,t.value||"",n):i,a.setProperty(u,n,i))}(Ht(),function Nr(){const e=st.lFrame;return ac(e.tView,e.selectedIndex)}(),n,e,t,n[yt],r,!1),Nv}function Cv(e,t,r,n,i){const o=i?"class":"style";Xh(e,r,t.inputs[o],o,n)}function Gw(e){!function Ti(e,t,r,n){const i=Ht(),a=function Da(e){const t=st.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}(2);i.firstUpdatePass&&function Zw(e,t,r,n){const i=e.data;if(null===i[r+1]){const a=i[yn()],o=Ww(e,r);Kw(a,n)&&null===t&&!o&&(t=!1),t=function _L(e,t,r,n){const i=function Im(e){const t=st.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let a=n?t.residualClasses:t.residualStyles;if(null===i)0===(n?t.classBindings:t.styleBindings)&&(r=Uc(r=Av(null,e,t,r,n),t.attrs,n),a=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(r=Av(i,e,t,r,n),null===a){let u=function TL(e,t,r){const n=r?t.classBindings:t.styleBindings;if(0!==Uo(n))return e[no(n)]}(e,t,n);void 0!==u&&Array.isArray(u)&&(u=Av(null,e,t,u[1],n),u=Uc(u,t.attrs,n),function IL(e,t,r,n){e[no(r?t.classBindings:t.styleBindings)]=n}(e,t,n,u))}else a=function FL(e,t,r){let n;const i=t.directiveEnd;for(let a=1+t.directiveStylingLast;a<i;a++)n=Uc(n,e[a].hostAttrs,r);return Uc(n,t.attrs,r)}(e,t,n)}return void 0!==a&&(n?t.residualClasses=a:t.residualStyles=a),r}(i,a,t,n),function bL(e,t,r,n,i,a){let o=a?t.classBindings:t.styleBindings,s=no(o),u=Uo(o);e[n]=r;let l,c=!1;if(Array.isArray(r)?(l=r[1],(null===l||Ns(r,l)>0)&&(c=!0)):l=r,i)if(0!==u){const d=no(e[s+1]);e[n+1]=Jf(d,s),0!==d&&(e[d+1]=xv(e[d+1],n)),e[s+1]=function gL(e,t){return 131071&e|t<<17}(e[s+1],n)}else e[n+1]=Jf(s,0),0!==s&&(e[s+1]=xv(e[s+1],n)),s=n;else e[n+1]=Jf(u,0),0===s?s=n:e[u+1]=xv(e[u+1],n),u=n;c&&(e[n+1]=wv(e[n+1])),Lw(e,l,n,!0),Lw(e,l,n,!1),function DL(e,t,r,n,i){const a=i?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof t&&Ns(a,t)>=0&&(r[n+1]=Ev(r[n+1]))}(t,l,e,n,a),o=Jf(s,u),a?t.classBindings=o:t.styleBindings=o}(i,a,t,r,o,n)}}(i,null,a,n);const o=ye();if(r!==bt&&qr(o,a,r)){const s=i.data[yn()];if(Kw(s,n)&&!Ww(i,a)){let u=n?s.classesWithoutHost:s.stylesWithoutHost;null!==u&&(r=Wu(u,r||"")),Cv(i,s,o,r,n)}else!function PL(e,t,r,n,i,a,o,s){i===bt&&(i=Xt);let u=0,c=0,l=0<i.length?i[0]:null,f=0<a.length?a[0]:null;for(;null!==l||null!==f;){const d=u<i.length?i[u+1]:void 0,p=c<a.length?a[c+1]:void 0;let m,h=null;l===f?(u+=2,c+=2,d!==p&&(h=f,m=p)):null===f||null!==l&&l<f?(u+=2,h=l):(c+=2,h=f,m=p),null!==h&&Qw(e,t,r,n,h,m,o,s),l=u<i.length?i[u]:null,f=c<a.length?a[c]:null}}(i,s,o,o[yt],o[a+1],o[a+1]=function OL(e,t,r){if(null==r||""===r)return Xt;const n=[],i=function to(e){return e instanceof Mb?e.changingThisBreaksApplicationSecurity:e}(r);if(Array.isArray(i))for(let a=0;a<i.length;a++)e(n,i[a],!0);else if("object"==typeof i)for(const a in i)i.hasOwnProperty(a)&&e(n,a,i[a]);else"string"==typeof i&&t(n,i);return n}(e,t,r),n,a)}}(RL,ca,e,!0)}function ca(e,t){for(let r=function EL(e){return function qw(e){Yr.key=0,Yr.keyEnd=0,Yr.value=0,Yr.valueEnd=0,Yr.textEnd=e.length}(e),zw(e,nu(e,0,Yr.textEnd))}(t);r>=0;r=zw(t,r))ti(e,kw(t),!0)}function Ww(e,t){return t>=e.expandoStartIndex}function Av(e,t,r,n,i){let a=null;const o=r.directiveEnd;let s=r.directiveStylingLast;for(-1===s?s=r.directiveStart:s++;s<o&&(a=t[s],n=Uc(n,a.hostAttrs,i),a!==e);)s++;return null!==e&&(r.directiveStylingLast=s),n}function Uc(e,t,r){const n=r?1:2;let i=-1;if(null!==t)for(let a=0;a<t.length;a++){const o=t[a];"number"==typeof o?i=o:i===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ti(e,o,!!r||t[++a]))}return void 0===e?null:e}function RL(e,t,r){const n=String(t);""!==n&&!n.includes(" ")&&ti(e,n,r)}function Qw(e,t,r,n,i,a,o,s){if(!(3&t.type))return;const u=e.data,c=u[s+1],l=function yL(e){return 1==(1&e)}(c)?Xw(u,t,r,i,Uo(c),o):void 0;ed(l)||(ed(a)||function vL(e){return 2==(2&e)}(c)&&(a=Xw(u,null,r,i,s,o)),function OR(e,t,r,n,i){if(t)i?e.addClass(r,n):e.removeClass(r,n);else{let a=-1===n.indexOf("-")?void 0:eo.DashCase;null==i?e.removeStyle(r,n,a):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),a|=eo.Important),e.setStyle(r,n,i,a))}}(n,o,ic(yn(),r),i,a))}function Xw(e,t,r,n,i,a){const o=null===t;let s;for(;i>0;){const u=e[i],c=Array.isArray(u),l=c?u[1]:u,f=null===l;let d=r[i+1];d===bt&&(d=f?Xt:void 0);let p=f?jm(d,n):l===n?d:void 0;if(c&&!ed(p)&&(p=jm(u,n)),ed(p)&&(s=p,o))return s;const h=e[i+1];i=o?no(h):Uo(h)}if(null!==t){let u=a?t.residualClasses:t.residualStyles;null!=u&&(s=jm(u,n))}return s}function ed(e){return void 0!==e}function Kw(e,t){return 0!=(e.flags&(t?8:16))}function mr(e,t,r,n){const i=ye(),a=Ht(),o=ht+e,s=i[yt],u=a.firstCreatePass?function a8(e,t,r,n,i,a){const o=t.consts,u=ks(t,e,2,n,ea(o,i));return Wh(t,r,u,ea(o,a)),null!==u.attrs&&qf(u,u.attrs,!1),null!==u.mergedAttrs&&qf(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(o,a,i,t,r,n):a.data[o],c=rx(a,i,u,s,t,e);i[o]=c;const l=jl(u);return ta(u,!0),Nb(s,c,u),32!=(32&u.flags)&&Zl()&&xf(a,i,c,u),0===function RF(){return st.lFrame.elementDepthCount}()&&bn(c,i),function PF(){st.lFrame.elementDepthCount++}(),l&&($h(a,i,u),Hh(a,u,i)),null!==n&&jh(i,u),mr}function hr(){let e=fr();Mm()?function _m(){st.lFrame.isParent=!1}():(e=e.parent,ta(e,!1));const t=e;(function LF(e){return st.skipHydrationRootTNode===e})(t)&&function qF(){st.skipHydrationRootTNode=null}(),function BF(){st.lFrame.elementDepthCount--}();const r=Ht();return r.firstCreatePass&&(Yl(r,e),bm(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function iO(e){return 0!=(8&e.flags)}(t)&&Cv(r,t,ye(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function aO(e){return 0!=(16&e.flags)}(t)&&Cv(r,t,ye(),t.stylesWithoutHost,!1),hr}function Iv(e,t,r,n){return mr(e,t,r,n),hr(),Iv}let rx=(e,t,r,n,i,a)=>(Qa(!0),bf(n,i,function f1(){return st.lFrame.currentNamespace}()));const au="en-US";let cx=au;function Bv(e){return!!e&&"function"==typeof e.then}function Rx(e){return!!e&&"function"==typeof e.subscribe}function Ar(e,t,r,n){const i=ye(),a=Ht(),o=fr();return function Bx(e,t,r,n,i,a,o){const s=jl(n),c=e.firstCreatePass&&function xD(e){return e.cleanup||(e.cleanup=[])}(e),l=t[br],f=function wD(e){return e[cs]||(e[cs]=[])}(t);let d=!0;if(3&n.type||o){const m=Mn(n,t),y=o?o(m):m,g=f.length,x=o?D=>o(Dr(D[n.index])):n.index;let v=null;if(!o&&s&&(v=function u4(e,t,r,n){const i=e.cleanup;if(null!=i)for(let a=0;a<i.length-1;a+=2){const o=i[a];if(o===r&&i[a+1]===n){const s=t[cs],u=i[a+2];return s.length>u?s[u]:null}"string"==typeof o&&(a+=2)}return null}(e,t,i,n.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=a,v.__ngLastListenerFn__=a,d=!1;else{a=kx(n,t,l,a,!1);const D=r.listen(y,i,a);f.push(a,D),c&&c.push(i,x,g,g+1)}}else a=kx(n,t,l,a,!1);const p=n.outputs;let h;if(d&&null!==p&&(h=p[i])){const m=h.length;if(m)for(let y=0;y<m;y+=2){const w=t[h[y]][h[y+1]].subscribe(a),b=f.length;f.push(a,w),c&&c.push(i,n.index,b,-(b+1))}}}(a,i,i[yt],o,e,t,n),Ar}function Lx(e,t,r,n){try{return Ji(6,t,r),!1!==r(n)}catch(i){return Uf(e,i),!1}finally{Ji(7,t,r)}}function kx(e,t,r,n,i){return function a(o){if(o===Function)return n;Ac(e.componentOffset>-1?ei(e.index,t):t);let u=Lx(t,r,n,o),c=a.__ngNextListenerFn__;for(;c;)u=Lx(t,r,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}Symbol;let Ca=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=v4}return e})();const m4=Ca,h4=class extends m4{constructor(t,r,n){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,n){const i=function Rc(e,t,r,n){const i=t.tView,s=kf(e,i,r,4096&e[Ke]?4096:16,null,t,null,null,null,n?.injector??null,n?.dehydratedView??null);s[tc]=e[t.index];const c=e[Xi];return null!==c&&(s[Xi]=c.createEmbeddedView(i)),iv(i,s,r),s}(this._declarationLView,this._declarationTContainer,t,{injector:r,dehydratedView:n});return new Sc(i)}};function v4(){return function ad(e,t){return 4&e.type?new h4(t,e,Bs(e,t)):null}(fr(),ye())}function od(e,t=""){const r=ye(),n=Ht(),i=e+ht,a=n.firstCreatePass?ks(n,i,1,t,null):n.data[i],o=uE(n,r,a,t,e);r[i]=o,Zl()&&xf(n,r,o,a),ta(a,!1)}let uE=(e,t,r,n,i)=>(Qa(!0),function yf(e,t){return e.createText(t)}(t[yt],n));function Gc(e){return $v("",e,""),Gc}function $v(e,t,r){const n=ye(),i=function Ys(e,t,r,n){return qr(e,ra(),r)?t+mt(r)+n:bt}(n,e,t,r);return i!==bt&&function Na(e,t,r){const n=ic(t,e);!function lb(e,t,r){e.setValue(t,r)}(e[yt],n,r)}(n,yn(),i),$v}class Vo{}class j4{}class Yv extends Vo{constructor(t,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new LD(this);const i=function mn(e,t){const r=e[Pl]||null;if(!r&&!0===t)throw new Error(`Type ${Pr(e)} does not have '\u0275mod' property.`);return r}(t);this._bootstrapComponents=function ri(e){return e instanceof Function?e():e}(i.bootstrap),this._r3Injector=V1(t,r,[{provide:Vo,useValue:this},{provide:Of,useValue:this.componentFactoryResolver},...n],Pr(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Qv extends j4{constructor(t){super(),this.moduleType=t}create(t){return new Yv(this.moduleType,t,[])}}let ng=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Kp(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=Pt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const XE=new ut(""),fd=new ut("");let sg,ag=(()=>{class e{constructor(r,n,i){this._ngZone=r,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,sg||(function D5(e){sg=e}(i),i.addToWindow(n)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(r)||(clearTimeout(n.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,n,i){let a=-1;n&&n>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==a),r()},n)),this._callbacks.push({doneCb:r,timeoutId:a,updateCb:i})}whenStable(r,n,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,n,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,n,i){return[]}static#e=this.\u0275fac=function(n){return new(n||e)(St(Cr),St(og),St(fd))};static#t=this.\u0275prov=Pt({token:e,factory:e.\u0275fac})}return e})(),og=(()=>{class e{constructor(){this._applications=new Map}registerApplication(r,n){this._applications.set(r,n)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,n=!0){return sg?.findTestabilityInTree(this,r,n)??null}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=Pt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const w5=new ut("Application Initializer");let ug=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,n)=>{this.resolve=r,this.reject=n}),this.appInits=Zt(w5,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const i of this.appInits){const a=i();if(Bv(a))r.push(a);else if(Rx(a)){const o=new Promise((s,u)=>{a.subscribe({complete:s,error:u})});r.push(o)}}const n=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{n()}).catch(i=>{this.reject(i)}),0===r.length&&n(),this.initialized=!0}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=Pt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const KE=new ut("appBootstrapListener");function tN(e,t){return Array.isArray(t)?t.reduce(tN,e):{...e,...t}}let uu=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Zt(iD),this.afterRenderEffectManager=Zt(Mc),this.componentTypes=[],this.components=[],this.isStable=Zt(ng).hasPendingTasks.pipe(nm(r=>!r)),this._injector=Zt(wa)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,n){const i=r instanceof qb;if(!this._injector.get(ug).done)throw!i&&function Ao(e){const t=Ft(e)||Gr(e)||sn(e);return null!==t&&t.standalone}(r),new He(405,!1);let o;o=i?r:this._injector.get(Of).resolveComponentFactory(r),this.componentTypes.push(o.componentType);const s=function E5(e){return e.isBoundToModule}(o)?void 0:this._injector.get(Vo),c=o.create(Mi.NULL,[],n||o.selector,s),l=c.location.nativeElement,f=c.injector.get(XE,null);return f?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),dd(this.components,c),f?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new He(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{try{this.afterRenderEffectManager.execute()}catch(r){this.internalErrorHandler(r)}this._runningTick=!1}}attachView(r){const n=r;this._views.push(n),n.attachToAppRef(this)}detachView(r){const n=r;dd(this._views,n),n.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const n=this._injector.get(KE,[]);[...this._bootstrapListeners,...n].forEach(i=>i(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>dd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new He(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=Pt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function dd(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}let C5=(()=>{class e{constructor(){this.zone=Zt(Cr),this.applicationRef=Zt(uu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=Pt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function A5(){const e=Zt(Cr),t=Zt(Ea);return r=>e.runOutsideAngular(()=>t.handleError(r))}let M5=(()=>{class e{constructor(){this.subscription=new Cn,this.initialized=!1,this.zone=Zt(Cr),this.pendingTasks=Zt(ng)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Cr.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Cr.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=Pt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Aa=new ut("LocaleId",{providedIn:"root",factory:()=>Zt(Aa,Vt.Optional|Vt.SkipSelf)||function _5(){return typeof $localize<"u"&&$localize.locale||au}()}),cg=new ut("PlatformDestroyListeners");let aN=(()=>{class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,n){const i=function L3(e="zone.js",t){return"noop"===e?new FD:"zone.js"===e?new Cr(t):e}(n?.ngZone,function iN(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing}));return i.run(()=>{const a=function W4(e,t,r){return new Yv(e,t,r)}(r.moduleType,this.injector,function nN(e){return[{provide:Cr,useFactory:e},{provide:As,multi:!0,useFactory:()=>{const t=Zt(C5,{optional:!0});return()=>t.initialize()}},{provide:As,multi:!0,useFactory:()=>{const t=Zt(M5);return()=>{t.initialize()}}},{provide:iD,useFactory:A5}]}(()=>i)),o=a.injector.get(Ea,null);return i.runOutsideAngular(()=>{const s=i.onError.subscribe({next:u=>{o.handleError(u)}});a.onDestroy(()=>{dd(this._modules,a),s.unsubscribe()})}),function eN(e,t,r){try{const n=r();return Bv(n)?n.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(o,i,()=>{const s=a.injector.get(ug);return s.runInitializers(),s.donePromise.then(()=>(function lx(e){$n(e,"Expected localeId to be defined"),"string"==typeof e&&(cx=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Aa,au)||au),this._moduleDoBootstrap(a),a))})})}bootstrapModule(r,n=[]){const i=tN({},n);return function x5(e,t,r){const n=new Qv(r);return Promise.resolve(n)}(0,0,r).then(a=>this.bootstrapModuleFactory(a,i))}_moduleDoBootstrap(r){const n=r.injector.get(uu);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(i=>n.bootstrap(i));else{if(!r.instance.ngDoBootstrap)throw new He(-403,!1);r.instance.ngDoBootstrap(n)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new He(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const r=this._injector.get(cg,null);r&&(r.forEach(n=>n()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(n){return new(n||e)(St(Mi))};static#t=this.\u0275prov=Pt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),io=null;const oN=new ut("AllowMultipleToken");function sN(e,t,r=[]){const n=`Platform: ${t}`,i=new ut(n);return(a=[])=>{let o=lg();if(!o||o.injector.get(oN,!1)){const s=[...r,...a,{provide:i,useValue:!0}];e?e(s):function F5(e){if(io&&!io.get(oN,!1))throw new He(400,!1);(function JE(){!function El(e){ji=e}(()=>{throw new He(600,!1)})})(),io=e;const t=e.get(aN);(function cN(e){e.get($1,null)?.forEach(r=>r())})(e)}(function uN(e=[],t){return Mi.create({name:t,providers:[{provide:eh,useValue:"platform"},{provide:cg,useValue:new Set([()=>io=null])},...e]})}(s,n))}return function O5(e){const t=lg();if(!t)throw new He(401,!1);return t}()}}function lg(){return io?.get(aN)??null}const z5=sN(null,"core",[]);let U5=(()=>{class e{constructor(r){}static#e=this.\u0275fac=function(n){return new(n||e)(St(uu))};static#t=this.\u0275mod=Co({type:e});static#r=this.\u0275inj=Ga({})}return e})(),gg=null;function yg(){return gg}class h6{}const $o=new ut("DocumentToken");let $N=(()=>{class e{constructor(r,n){this._viewContainer=r,this._context=new o9,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){jN("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){jN("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,n){return!0}static#e=this.\u0275fac=function(n){return new(n||e)(Tt(oa),Tt(Ca))};static#t=this.\u0275dir=li({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class o9{constructor(){this.$implicit=null,this.ngIf=null}}function jN(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Pr(t)}'.`)}let Og=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Co({type:e});static#r=this.\u0275inj=Ga({})}return e})();function YN(e){return"server"===e}class a7 extends h6{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Bg extends a7{static makeCurrent(){!function m6(e){gg||(gg=e)}(new Bg)}onAndCancel(t,r,n){return t.addEventListener(r,n),()=>{t.removeEventListener(r,n)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return(r=r||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return"window"===r?window:"document"===r?t:"body"===r?t.body:null}getBaseHref(t){const r=function o7(){return rl=rl||document.querySelector("base"),rl?rl.getAttribute("href"):null}();return null==r?null:function s7(e){return new URL(e,document.baseURI).pathname}(r)}resetBaseElement(){rl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function t9(e,t){t=encodeURIComponent(t);for(const r of e.split(";")){const n=r.indexOf("="),[i,a]=-1==n?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===t)return decodeURIComponent(a)}return null}(document.cookie,t)}}let rl=null,c7=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=Pt({token:e,factory:e.\u0275fac})}return e})();const Lg=new ut("EventManagerPlugins");let JN=(()=>{class e{constructor(r,n){this._zone=n,this._eventNameToPlugin=new Map,r.forEach(i=>{i.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,n,i){return this._findPluginFor(n).addEventListener(r,n,i)}getZone(){return this._zone}_findPluginFor(r){let n=this._eventNameToPlugin.get(r);if(n)return n;if(n=this._plugins.find(a=>a.supports(r)),!n)throw new He(5101,!1);return this._eventNameToPlugin.set(r,n),n}static#e=this.\u0275fac=function(n){return new(n||e)(St(Lg),St(Cr))};static#t=this.\u0275prov=Pt({token:e,factory:e.\u0275fac})}return e})();class eC{constructor(t){this._doc=t}}const kg="ng-app-id";let tC=(()=>{class e{constructor(r,n,i,a={}){this.doc=r,this.appId=n,this.nonce=i,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=YN(a),this.resetHostNodes()}addStyles(r){for(const n of r)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(r){for(const n of r)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(n=>n.remove()),r.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const n of this.getAllStyles())this.addStyleToHost(r,n)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const n of this.hostNodes)this.addStyleToHost(n,r)}onStyleRemoved(r){const n=this.styleRef;n.get(r)?.elements?.forEach(i=>i.remove()),n.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${kg}="${this.appId}"]`);if(r?.length){const n=new Map;return r.forEach(i=>{null!=i.textContent&&n.set(i.textContent,i)}),n}return null}changeUsageCount(r,n){const i=this.styleRef;if(i.has(r)){const a=i.get(r);return a.usage+=n,a.usage}return i.set(r,{usage:n,elements:[]}),n}getStyleElement(r,n){const i=this.styleNodesInDOM,a=i?.get(n);if(a?.parentNode===r)return i.delete(n),a.removeAttribute(kg),a;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=n,this.platformIsServer&&o.setAttribute(kg,this.appId),r.appendChild(o),o}}addStyleToHost(r,n){const i=this.getStyleElement(r,n),a=this.styleRef,o=a.get(n)?.elements;o?o.push(i):a.set(n,{elements:[i],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}static#e=this.\u0275fac=function(n){return new(n||e)(St($o),St(df),St(j1,8),St(_s))};static#t=this.\u0275prov=Pt({token:e,factory:e.\u0275fac})}return e})();const zg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ug=/%COMP%/g,p7=new ut("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function nC(e,t){return t.map(r=>r.replace(Ug,e))}let iC=(()=>{class e{constructor(r,n,i,a,o,s,u,c=null){this.eventManager=r,this.sharedStylesHost=n,this.appId=i,this.removeStylesOnCompDestroy=a,this.doc=o,this.platformId=s,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=YN(s),this.defaultRenderer=new qg(r,o,u,this.platformIsServer)}createRenderer(r,n){if(!r||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Ei.ShadowDom&&(n={...n,encapsulation:Ei.Emulated});const i=this.getOrCreateRenderer(r,n);return i instanceof oC?i.applyToHost(r):i instanceof Vg&&i.applyStyles(),i}getOrCreateRenderer(r,n){const i=this.rendererByCompId;let a=i.get(n.id);if(!a){const o=this.doc,s=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(n.encapsulation){case Ei.Emulated:a=new oC(u,c,n,this.appId,l,o,s,f);break;case Ei.ShadowDom:return new g7(u,c,r,n,o,s,this.nonce,f);default:a=new Vg(u,c,n,l,o,s,f)}i.set(n.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(n){return new(n||e)(St(JN),St(tC),St(df),St(p7),St($o),St(_s),St(Cr),St(j1))};static#t=this.\u0275prov=Pt({token:e,factory:e.\u0275fac})}return e})();class qg{constructor(t,r,n,i){this.eventManager=t,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(zg[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(aC(t)?t.content:t).appendChild(r)}insertBefore(t,r,n){t&&(aC(t)?t.content:t).insertBefore(r,n)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new He(-5104,!1);return r||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,n,i){if(i){r=i+":"+r;const a=zg[i];a?t.setAttributeNS(a,r,n):t.setAttribute(r,n)}else t.setAttribute(r,n)}removeAttribute(t,r,n){if(n){const i=zg[n];i?t.removeAttributeNS(i,r):t.removeAttribute(`${n}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,n,i){i&(eo.DashCase|eo.Important)?t.style.setProperty(r,n,i&eo.Important?"important":""):t.style[r]=n}removeStyle(t,r,n){n&eo.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,n){null!=t&&(t[r]=n)}setValue(t,r){t.nodeValue=r}listen(t,r,n){if("string"==typeof t&&!(t=yg().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(n))}decoratePreventDefault(t){return r=>{if("__ngUnwrap__"===r)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))&&r.preventDefault()}}}function aC(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class g7 extends qg{constructor(t,r,n,i,a,o,s,u){super(t,a,o,u),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=nC(i.id,i.styles);for(const l of c){const f=document.createElement("style");s&&f.setAttribute("nonce",s),f.textContent=l,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,n){return super.insertBefore(this.nodeOrShadowRoot(t),r,n)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Vg extends qg{constructor(t,r,n,i,a,o,s,u){super(t,a,o,s),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=u?nC(u,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class oC extends Vg{constructor(t,r,n,i,a,o,s,u){const c=i+"-"+n.id;super(t,r,n,a,o,s,u,c),this.contentAttr=function m7(e){return"_ngcontent-%COMP%".replace(Ug,e)}(c),this.hostAttr=function h7(e){return"_nghost-%COMP%".replace(Ug,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){const n=super.createElement(t,r);return super.setAttribute(n,this.contentAttr,""),n}}let y7=(()=>{class e extends eC{constructor(r){super(r)}supports(r){return!0}addEventListener(r,n,i){return r.addEventListener(n,i,!1),()=>this.removeEventListener(r,n,i)}removeEventListener(r,n,i){return r.removeEventListener(n,i)}static#e=this.\u0275fac=function(n){return new(n||e)(St($o))};static#t=this.\u0275prov=Pt({token:e,factory:e.\u0275fac})}return e})();const sC=["alt","control","meta","shift"],b7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},D7={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let w7=(()=>{class e extends eC{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,n,i){const a=e.parseEventName(n),o=e.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yg().onAndCancel(r,a.domEventName,o))}static parseEventName(r){const n=r.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const a=e._normalizeKey(n.pop());let o="",s=n.indexOf("code");if(s>-1&&(n.splice(s,1),o="code."),sC.forEach(c=>{const l=n.indexOf(c);l>-1&&(n.splice(l,1),o+=c+".")}),o+=a,0!=n.length||0===a.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(r,n){let i=b7[r.key]||r.key,a="";return n.indexOf("code.")>-1&&(i=r.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),sC.forEach(o=>{o!==i&&(0,D7[o])(r)&&(a+=o+".")}),a+=i,a===n)}static eventCallback(r,n,i){return a=>{e.matchEventFullKeyCode(a,r)&&i.runGuarded(()=>n(a))}}static _normalizeKey(r){return"esc"===r?"escape":r}static#e=this.\u0275fac=function(n){return new(n||e)(St($o))};static#t=this.\u0275prov=Pt({token:e,factory:e.\u0275fac})}return e})();const C7=sN(z5,"browser",[{provide:_s,useValue:"browser"},{provide:$1,useValue:function x7(){Bg.makeCurrent()},multi:!0},{provide:$o,useFactory:function N7(){return function KO(e){oh=e}(document),document},deps:[]}]),A7=new ut(""),lC=[{provide:fd,useClass:class u7{addToWindow(t){yr.getAngularTestability=(n,i=!0)=>{const a=t.findTestabilityInTree(n,i);if(null==a)throw new He(5103,!1);return a},yr.getAllAngularTestabilities=()=>t.getAllTestabilities(),yr.getAllAngularRootElements=()=>t.getAllRootElements(),yr.frameworkStabilizers||(yr.frameworkStabilizers=[]),yr.frameworkStabilizers.push(n=>{const i=yr.getAllAngularTestabilities();let a=i.length;const o=function(){a--,0==a&&n()};i.forEach(s=>{s.whenStable(o)})})}findTestabilityInTree(t,r,n){return null==r?null:t.getTestability(r)??(n?yg().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}},deps:[]},{provide:XE,useClass:ag,deps:[Cr,og,fd]},{provide:ag,useClass:ag,deps:[Cr,og,fd]}],fC=[{provide:eh,useValue:"root"},{provide:Ea,useFactory:function E7(){return new Ea},deps:[]},{provide:Lg,useClass:y7,multi:!0,deps:[$o,Cr,_s]},{provide:Lg,useClass:w7,multi:!0,deps:[$o]},iC,tC,JN,{provide:Hb,useExisting:iC},{provide:class B9{},useClass:c7,deps:[]},[]];let S7=(()=>{class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:df,useValue:r.appId}]}}static#e=this.\u0275fac=function(n){return new(n||e)(St(A7,12))};static#t=this.\u0275mod=Co({type:e});static#r=this.\u0275inj=Ga({providers:[...fC,...lC],imports:[Og,U5]})}return e})();typeof window<"u"&&window;class _a{mantissa;exponent;constructor(t){[this.mantissa,this.exponent]=t.split("e")}static from(t){return new _a(t)}append(t){const r=this.exponent?this.appendToExponent(t):this.appendToMantissa(t);return _a.from(r)}negateMantissaOrExponent(){return _a.from(this.exponent?`${this.mantissa}e${-this.exponent}`:""+-this.mantissa)}toString(){return`${this.mantissa}${this.exponent?`e${this.exponent}`:""}`}appendToMantissa(t){const r="0"===this.mantissa&&!/[.e]/.test(t);return"."===t&&this.mantissa.includes(".")||"e"!==t&&10===this.mantissa.replace(/[.-]/,"").length?`${this}`:r?t:`${this}${t}${"e"===t?"0":""}`}appendToExponent(t){const r="0"===this.exponent;return/[.e]/.test(t)||2===this.exponent?.replace(/-/,"").length?`${this}`:r?`${this.mantissa}e${t}`:`${this}${t}`}}function Xr(){return Xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xr.apply(this,arguments)}var hC={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null},De=function(t){if(t)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(hC)};function Et(e){return"number"==typeof e}function It(e){return!(!e||"object"!=typeof e||"function"!=typeof e.constructor)&&(!0===e.isBigNumber&&"object"==typeof e.constructor.prototype&&!0===e.constructor.prototype.isBigNumber||"function"==typeof e.constructor.isDecimal&&!0===e.constructor.isDecimal(e))}function Ta(e){return e&&"object"==typeof e&&!0===Object.getPrototypeOf(e).isComplex||!1}function il(e){return e&&"object"==typeof e&&!0===Object.getPrototypeOf(e).isFraction||!1}function hi(e){return e&&!0===e.constructor.prototype.isUnit||!1}function Dn(e){return"string"==typeof e}Xr(De,hC,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});var Qt=Array.isArray;function Je(e){return e&&!0===e.constructor.prototype.isMatrix||!1}function vi(e){return Array.isArray(e)||Je(e)}function Od(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function jo(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function Gg(e){return e&&!0===e.constructor.prototype.isRange||!1}function Rd(e){return e&&!0===e.constructor.prototype.isIndex||!1}function P7(e){return"boolean"==typeof e}function B7(e){return e&&!0===e.constructor.prototype.isResultSet||!1}function gC(e){return e&&!0===e.constructor.prototype.isHelp||!1}function L7(e){return"function"==typeof e}function k7(e){return e instanceof Date}function z7(e){return e instanceof RegExp}function Pd(e){return!(!e||"object"!=typeof e||e.constructor!==Object||Ta(e)||il(e))}function U7(e){return null===e}function q7(e){return void 0===e}function Go(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1}function gi(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1}function V7(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function H7(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1}function $7(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1}function $t(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1}function Wg(e){return $t(e)||$r(e)&&1===e.args.length&&$t(e.args[0])&&"-+~".includes(e.op)}function al(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function oo(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1}function fu(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1}function ir(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1}function Bd(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1}function $r(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1}function Ia(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1}function j7(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1}function G7(e){return e&&!0===e.isRelationalNode&&!0===e.constructor.prototype.isNode||!1}function an(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1}function yC(e){return e&&!0===e.constructor.prototype.isChain||!1}function or(e){var t=typeof e;return"object"===t?null===e?"null":It(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}var bC=new Set(["end"]);function ct(e){var t=typeof e;if("number"===t||"string"===t||"boolean"===t||null==e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(function(r){return ct(r)});if(e instanceof Date)return new Date(e.valueOf());if(It(e))return e;if(Pd(e))return function W7(e,t){var r={};for(var n in e)Ge(e,n)&&(r[n]=t(e[n]));return r}(e,ct);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function DC(e,t){for(var r in t)Ge(t,r)&&(e[r]=t[r]);return e}function Wo(e,t){var r,n,i;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;n++)if(!Wo(e[n],t[n]))return!1;return!0}if("function"==typeof e)return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!Wo(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}return e===t}function Ge(e,t){return e&&Object.hasOwnProperty.call(e,t)}function B(e,t,r,n){function i(a){var o=function X7(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n],a=e[i];void 0!==a&&(r[i]=a)}return r}(a,t.map(tz));return function J7(e,t,r){var n=t.filter(a=>!function ez(e){return e&&"?"===e[0]}(a)).every(a=>void 0!==r[a]);if(!n){var i=t.filter(a=>void 0===r[a]);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}(e,t,a),r(o)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),n&&(i.meta=n),i}function tz(e){return e&&"?"===e[0]?e.slice(1):e}function On(e,t){if(AC(e)&&CC(e,t))return e[t];throw"function"==typeof e[t]&&Yg(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function du(e,t,r){if(AC(e)&&CC(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function CC(e,t){return!(!e||"object"!=typeof e||!Ge(iz,t)&&(t in Object.prototype||t in Function.prototype))}function Yg(e,t){return!(null==e||"function"!=typeof e[t]||Ge(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)||!Ge(az,t)&&(t in Object.prototype||t in Function.prototype))}function AC(e){return"object"==typeof e&&e&&e.constructor===Object}var iz={length:!0,name:!0},az={toString:!0,valueOf:!0,toLocaleString:!0};class Qg{constructor(t){this.wrappedObject=t}keys(){return Object.keys(this.wrappedObject)}get(t){return On(this.wrappedObject,t)}set(t,r){return du(this.wrappedObject,t,r),this}has(t){return function rz(e,t){return t in e}(this.wrappedObject,t)}}function pu(){return new Map}function mu(e){if(!e)return pu();if(Xg(e))return e;if(Pd(e))return new Qg(e);throw new Error("createMap can create maps from objects or Maps")}function Xg(e){return!!e&&(e instanceof Map||e instanceof Qg||"function"==typeof e.set&&"function"==typeof e.get&&"function"==typeof e.keys&&"function"==typeof e.has)}function SC(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var i of r)if(i)if(Xg(i))for(var a of i.keys())e.set(a,i.get(a));else if(Pd(i))for(var o of Object.keys(i))e.set(o,i[o]);return e}var cz=B("Node",["mathWithTransform"],e=>{var{mathWithTransform:t}=e;return class n{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(t,{}),o={};return{evaluate:function u(c){var l=mu(c);return function r(i){for(var a of[...bC])if(i.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}(l),a(l,o,null)}}}_compile(a,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!ir(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null),function o(s,u){s.forEach(function(c,l,f){u(c,l,f),o(c,u)})}(this,a)}transform(a){return function o(s,u,c){var l=a(s,u,c);return l!==s?l:s.map(o)}(this,null,null)}filter(a){var o=[];return this.traverse(function(s,u,c){a(s,u,c)&&o.push(s)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return!!a&&this.type===a.type&&Wo(this,a)}toString(a){var o=this._getCustomString(a);return typeof o<"u"?o:this._toString(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var o=this._getCustomString(a);return typeof o<"u"?o:this._toHTML(a)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(a){var o=this._getCustomString(a);return typeof o<"u"?o:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&"object"==typeof a)switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}},{isClass:!0,isNode:!0});function ol(e){return(ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Kr(e,t,r){return(t=function fz(e){var t=function lz(e,t){if("object"!=ol(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ol(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ol(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function We(e){return"boolean"==typeof e||!!isFinite(e)&&e===Math.round(e)}var so=Math.sign||function(e){return e>0?1:e<0?-1:0},dz=Math.log2||function(t){return Math.log(t)/Math.LN2},pz=Math.log10||function(t){return Math.log(t)/Math.LN10},MC=Math.log1p||function(e){return Math.log(e+1)},mz=Math.cbrt||function(t){if(0===t)return t;var n,r=t<0;return r&&(t=-t),n=isFinite(t)?(t/((n=Math.exp(Math.log(t)/3))*n)+2*n)/3:t,r?-n:n},hz=Math.expm1||function(t){return t>=2e-4||t<=-2e-4?Math.exp(t)-1:t+t*t/2+t*t*t/6};function Kg(e,t,r){var i={2:"0b",8:"0o",16:"0x"}[t],a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!We(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!We(e))throw new Error("Value must be an integer");e<0&&(e+=2**r),a="i".concat(r)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(i).concat(e.toString(t)).concat(a)}function Zo(e,t){if("function"==typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var n,i,r="auto";if(t&&(t.notation&&(r=t.notation),Et(t)?n=t:Et(t.precision)&&(n=t.precision),t.wordSize&&"number"!=typeof(i=t.wordSize)))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return _C(e,n);case"exponential":return TC(e,n);case"engineering":return function vz(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=kd(Ld(e),t),i=n.exponent,a=n.coefficients,o=i%3==0?i:i<0?i-3-i%3:i-i%3;if(Et(t))for(;t>a.length||i-o+1>a.length;)a.push(0);else for(var s=Math.abs(i-o)-(a.length-1),u=0;u<s;u++)a.push(0);for(var c=Math.abs(i-o),l=1;c>0;)l++,c--;var f=a.slice(l).join(""),d=Et(t)&&f.length||f.match(/[1-9]/)?"."+f:"",p=a.slice(0,l).join("")+d+"e"+(i>=0?"+":"")+o.toString();return n.sign+p}(e,n);case"bin":return Kg(e,2,i);case"oct":return Kg(e,8,i);case"hex":return Kg(e,16,i);case"auto":return function gz(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=r&&void 0!==r.lowerExp?r.lowerExp:-3,i=r&&void 0!==r.upperExp?r.upperExp:5,a=Ld(e),o=t?kd(a,t):a;if(o.exponent<n||o.exponent>=i)return TC(e,t);var s=o.coefficients,u=o.exponent;s.length<t&&(s=s.concat(hu(t-s.length))),s=s.concat(hu(u-s.length+1+(s.length<t?t-s.length:0)));var c=u>0?u:0;return c<(s=hu(-u).concat(s)).length-1&&s.splice(c+1,0,"."),o.sign+s.join("")}(e,n,t&&t).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return"."!==a?a+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ld(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],i=parseFloat(t[4]||"0"),a=n.indexOf(".");i+=-1!==a?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(s){return i-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return 0===o.length&&(o.push(0),i++),{sign:r,coefficients:o,exponent:i}}function _C(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=Ld(e),n="number"==typeof t?kd(r,r.exponent+1+t):r,i=n.coefficients,a=n.exponent+1,o=a+(t||0);return i.length<o&&(i=i.concat(hu(o-i.length))),a<0&&(i=hu(1-a).concat(i),a=1),a<i.length&&i.splice(a,0,0===a?"0.":"."),n.sign+i.join("")}function TC(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=Ld(e),n=t?kd(r,t):r,i=n.coefficients,a=n.exponent;i.length<t&&(i=i.concat(hu(t-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function kd(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t&&n.splice(t,n.length-t)[0]>=5){var a=t-1;for(n[a]++;10===n[a];)n.pop(),0===a&&(n.unshift(0),r.exponent++,a++),n[--a]++}return r}function hu(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}var bz=Number.EPSILON||2220446049250313e-31;function ai(e,t,r){if(null==r)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var n=Math.abs(e-t);return n<=bz||n<=Math.max(Math.abs(e),Math.abs(t))*r}return!1}var Dz=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)},wz=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},xz=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},IC=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2},Ez=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2},FC=Math.tanh||function(e){var t=Math.exp(2*e);return(t-1)/(t+1)};function Jg(e,t,r){var i=new(0,e.constructor)(2),a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!We(r))throw new Error("size must be an integer");if(e.greaterThan(i.pow(r-1).sub(1))||e.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(i.pow(r))),a="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(a);case 8:return"".concat(e.toOctal()).concat(a);case 16:return"".concat(e.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(t," not supported "))}}function OC(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()}function Mz(e,t){return e.substring(e.length-t.length,e.length)===t}function Nt(e,t){var r=function _z(e,t){return"number"==typeof e?Zo(e,t):It(e)?function Cz(e,t){if("function"==typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var n,i,r="auto";if(void 0!==t&&(t.notation&&(r=t.notation),"number"==typeof t?n=t:void 0!==t.precision&&(n=t.precision),t.wordSize&&"number"!=typeof(i=t.wordSize)))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return function Sz(e,t){return e.toFixed(t)}(e,n);case"exponential":return OC(e,n);case"engineering":return function Az(e,t){var r=e.e,n=r%3==0?r:r<0?r-3-r%3:r-r%3,a=e.mul(Math.pow(10,-n)).toPrecision(t);return-1!==a.indexOf("e")&&(a=new(0,e.constructor)(a).toFixed()),a+"e"+(r>=0?"+":"")+n.toString()}(e,n);case"bin":return Jg(e,2,i);case"oct":return Jg(e,8,i);case"hex":return Jg(e,16,i);case"auto":var a=t&&void 0!==t.lowerExp?t.lowerExp:-3,o=t&&void 0!==t.upperExp?t.upperExp:5;if(e.isZero())return"0";var u=e.toSignificantDigits(n),c=u.e;return(c>=a&&c<o?u.toFixed():OC(e,n)).replace(/((\.\d*?)(0+))($|e)/,function(){var l=arguments[2],f=arguments[4];return"."!==l?l+f:f});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}(e,t):function Tz(e){return e&&"object"==typeof e&&"number"==typeof e.s&&"number"==typeof e.n&&"number"==typeof e.d||!1}(e)?t&&"decimal"===t.fraction?e.toString():e.s*e.n+"/"+e.d:Array.isArray(e)?PC(e,t):Dn(e)?vu(e):"function"==typeof e?e.syntax?String(e.syntax):"function":e&&"object"==typeof e?"function"==typeof e.format?e.format(t):e&&e.toString(t)!=={}.toString()?e.toString(t):"{"+Object.keys(e).map(n=>vu(n)+": "+Nt(e[n],t)).join(", ")+"}":String(e)}(e,t);return t&&"object"==typeof t&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function vu(e){for(var t=String(e),r="",n=0;n<t.length;){var i=t.charAt(n);r+=i in RC?RC[i]:i,n++}return'"'+r+'"'}var RC={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function yi(e){var t=String(e);return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function PC(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,i=0;i<n;i++)0!==i&&(r+=", "),r+=PC(e[i],t);return r+"]"}return Nt(e,t)}function e0(e,t){if(!Dn(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+or(e)+", index: 0)");if(!Dn(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+or(t)+", index: 1)");return e===t?0:e>t?1:-1}var zd="ObjectNode",Fz=B(zd,["Node"],e=>{var{Node:t}=e;class r extends t{constructor(i){if(super(),this.properties=i||{},i&&("object"!=typeof i||!Object.keys(i).every(function(a){return ir(i[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return zd}get isObjectNode(){return!0}_compile(i,a){var o={};for(var s in this.properties)if(Ge(this.properties,s)){var u=vu(s),c=JSON.parse(u),l=On(this.properties,s);o[c]=l._compile(i,a)}return function(d,p,h){var m={};for(var y in o)Ge(o,y)&&(m[y]=o[y](d,p,h));return m}}forEach(i){for(var a in this.properties)Ge(this.properties,a)&&i(this.properties[a],"properties["+vu(a)+"]",this)}map(i){var a={};for(var o in this.properties)Ge(this.properties,o)&&(a[o]=this._ifNode(i(this.properties[o],"properties["+vu(o)+"]",this)));return new r(a)}clone(){var i={};for(var a in this.properties)Ge(this.properties,a)&&(i[a]=this.properties[a]);return new r(i)}_toString(i){var a=[];for(var o in this.properties)Ge(this.properties,o)&&a.push(vu(o)+": "+this.properties[o].toString(i));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:zd,properties:this.properties}}static fromJSON(i){return new r(i.properties)}_toHTML(i){var a=[];for(var o in this.properties)Ge(this.properties,o)&&a.push('<span class="math-symbol math-property">'+yi(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var a=[];for(var o in this.properties)Ge(this.properties,o)&&a.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");return"\\left\\{\\begin{array}{ll}"+a.join("\n")+"\\end{array}\\right\\}"}}return Kr(r,"name",zd),r},{isClass:!0,isNode:!0});function Ct(e,t,r){if(!(this instanceof Ct))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}function Oi(e,t,r){if(!(this instanceof Oi))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.message=void 0!==this.min&&this.index<this.min?"Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?"Index out of range ("+this.index+" > "+(this.max-1)+")":"Index out of range ("+this.index+")",this.stack=(new Error).stack}function lt(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function BC(e,t,r){var n,i=e.length;if(i!==t[r])throw new Ct(i,t[r]);if(r<t.length-1){var a=r+1;for(n=0;n<i;n++){if(!Array.isArray(e[n]))throw new Ct(t.length-1,t.length,"<");BC(e[n],t,a)}}else for(n=0;n<i;n++)if(Array.isArray(e[n]))throw new Ct(t.length+1,t.length,">")}function LC(e,t){if(0===t.length){if(Array.isArray(e))throw new Ct(e.length,0)}else BC(e,t,0)}function Ud(e,t){var r=e.isMatrix?e._size:lt(e);t._sourceSize.forEach((i,a)=>{if(null!==i&&i!==r[a])throw new Ct(i,r[a])})}function sr(e,t){if(void 0!==e){if(!Et(e)||!We(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"==typeof t&&e>=t)throw new Oi(e,t)}}function gu(e){for(var t=0;t<e._dimensions.length;++t){var r=e._dimensions[t];if(r._data&&Qt(r._data)){if(0===r._size[0])return!0}else if(r.isRange){if(r.start===r.end)return!0}else if(Dn(r)&&0===r.length)return!0}return!1}function yu(e,t,r){if(!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach(function(i){if(!Et(i)||!We(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Nt(t)+")")}),(Et(e)||It(e))&&(e=[e]),t0(e,t,0,void 0!==r?r:0),e}function t0(e,t,r,n){var i,a,s=t[r],u=Math.min(e.length,s);if(e.length=s,r<t.length-1){var c=r+1;for(i=0;i<u;i++)a=e[i],Array.isArray(a)||(e[i]=a=[a]),t0(a,t,c,n);for(i=u;i<s;i++)e[i]=a=[],t0(a,t,c,n)}else{for(i=0;i<u;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=u;i<s;i++)e[i]=n}}function r0(e,t){var r=jt(e),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Ct(0,n,"!=");var i=kC(t=n0(t,n));if(n!==i)throw new Ct(i,n,"!=");try{return function Oz(e,t){for(var n,r=e,i=t.length-1;i>0;i--){var a=t[i];n=[];for(var o=r.length/a,s=0;s<o;s++)n.push(r.slice(s*a,(s+1)*a));r=n}return r}(r,t)}catch(a){throw a instanceof Ct?new Ct(i,n,"!="):a}}function n0(e,t){var r=kC(e),n=e.slice(),a=e.indexOf(-1);if(e.indexOf(-1,a+1)>=0)throw new Error("More than one wildcard in sizes");if(a>=0){if(t%r!=0)throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);n[a]=-t/r}return n}function kC(e){return e.reduce((t,r)=>t*r,1)}function qd(e,t){for(var r=t||lt(e);Array.isArray(e)&&1===e.length;)e=e[0],r.shift();for(var n=r.length;1===r[n-1];)n--;return n<r.length&&(e=zC(e,n,0),r.length=n),e}function zC(e,t,r){var n,i;if(r<t){var a=r+1;for(n=0,i=e.length;n<i;n++)e[n]=zC(e[n],t,a)}else for(;Array.isArray(e);)e=e[0];return e}function UC(e,t,r,n){var i=n||lt(e);if(r)for(var a=0;a<r;a++)e=[e],i.unshift(1);for(e=qC(e,t,0);i.length<t;)i.push(1);return e}function qC(e,t,r){var n,i;if(Array.isArray(e)){var a=r+1;for(n=0,i=e.length;n<i;n++)e[n]=qC(e[n],t,a)}else for(var o=r;o<t;o++)e=[e];return e}function jt(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function r(n){Array.isArray(n)?n.forEach(r):t.push(n)}),t}function Fa(e,t){return Array.prototype.map.call(e,t)}function Vd(e,t){Array.prototype.forEach.call(e,t)}function VC(e,t){if(1!==lt(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,t)}function Hd(e,t){if(1!==lt(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,r=>t.test(r))}function HC(e,t){return Array.prototype.join.call(e,t)}function bu(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;var t=[],r=0;t[0]={value:e[0],identifier:0};for(var n=1;n<e.length;n++)e[n]===e[n-1]?r++:r=0,t.push({value:e[n],identifier:r});return t}function $d(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;for(var t=[],r=0;r<e.length;r++)t.push(e[r].value);return t}function sl(e,t){for(var r,n=0,i=0;i<e.length;i++){var a=e[i],o=Array.isArray(a);if(0===i&&o&&(n=a.length),o&&a.length!==n)return;var s=o?sl(a,t):t(a);if(void 0===r)r=s;else if(r!==s)return"mixed"}return r}function $C(e,t,r,n){if(n<r){if(e.length!==t.length)throw new Ct(e.length,t.length);for(var i=[],a=0;a<e.length;a++)i[a]=$C(e[a],t[a],r,n+1);return i}return e.concat(t)}function jC(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(1===e.length)return e[0];if(e.length>1)return e.slice(1).reduce(function(r,n){return $C(r,n,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function jd(e,t){for(var r=t.length,n=e.length,i=0;i<n;i++){var a=r-n+i;if(e[i]<t[a]&&e[i]>1||e[i]>t[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(n," with size ").concat(e[i]," to size ").concat(t[a]))}}function a0(e,t){var r=lt(e);if(Wo(r,t))return e;jd(r,t);var n=function GC(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.map(d=>d.length),i=Math.max(...n),a=new Array(i).fill(null),o=0;o<t.length;o++)for(var s=t[o],u=n[o],c=0;c<u;c++){var l=i-u+c;s[c]>a[l]&&(a[l]=s[c])}for(var f=0;f<t.length;f++)jd(t[f],a);return a}(r,t),i=n.length,a=[...Array(i-r.length).fill(1),...r],o=function Pz(e){return Xr([],e)}(e);r.length<i&&(r=lt(o=r0(o,a)));for(var s=0;s<i;s++)r[s]<n[s]&&(r=lt(o=Rz(o,n[s],s)));return o}function Rz(e,t,r){return jC(...Array(t).fill(e),r)}(Ct.prototype=new RangeError).constructor=RangeError,Ct.prototype.name="DimensionError",Ct.prototype.isDimensionError=!0,(Oi.prototype=new RangeError).constructor=RangeError,Oi.prototype.name="IndexError",Oi.prototype.isIndexError=!0;var Ri=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function Gd(e,t){if(!t||"auto"!==t)return e;for(var r=e;Ia(r);)r=r.content;return r}function ur(e,t,r,n){var i=e;"keep"!==t&&(i=e.getContent());for(var a=i.getIdentifier(),o=null,s=0;s<Ri.length;s++)if(a in Ri[s]){o=s;break}if("OperatorNode:multiply"===a&&i.implicit&&"show"!==r){var u=Gd(i.args[0],t);!($t(u)&&n&&"OperatorNode:divide"===n.getIdentifier()&&Wg(Gd(n.args[0],t)))&&("OperatorNode:divide"!==u.getIdentifier()||!Wg(Gd(u.args[0],t))||!$t(Gd(u.args[1])))&&(o+=1)}return o}function ul(e,t){var r=e;"keep"!==t&&(r=e.getContent());var n=r.getIdentifier(),i=ur(r,t);if(null===i)return null;var a=Ri[i][n];if(Ge(a,"associativity")){if("left"===a.associativity)return"left";if("right"===a.associativity)return"right";throw Error("'"+n+"' has the invalid associativity '"+a.associativity+"'.")}return null}function o0(e,t,r){var n="keep"!==r?e.getContent():e,i="keep"!==r?e.getContent():t,a=n.getIdentifier(),o=i.getIdentifier(),s=ur(n,r);if(null===s)return null;var u=Ri[s][a];if(Ge(u,"associativeWith")&&u.associativeWith instanceof Array){for(var c=0;c<u.associativeWith.length;c++)if(u.associativeWith[c]===o)return!0;return!1}return null}var Lz=ke(834),s0={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},Gt={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},WC={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(Gt.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(Gt.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(Gt.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(Gt.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(Gt.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(Gt.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(Gt.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(Gt.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(Gt.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(Gt.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(Gt.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(Gt.bitAnd,"${args[1]}\\right)")},bitNot:{1:Gt.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(Gt.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(Gt.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(Gt.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(Gt.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(Gt.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(Gt.and,"${args[1]}\\right)")},not:{1:Gt.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(Gt.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(Gt.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(Gt.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(Gt.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(Gt.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(Gt.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(Gt.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(Gt.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(Gt.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(Gt.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(Gt.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(Gt.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(Gt.to,"${args[1]}\\right)")},numeric:function(t,r){return t.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(s0.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},ZC={deg:"^\\circ"};function u0(e){return Lz(e,{preserveFormatting:!0})}function YC(e,t){return(t=!(typeof t>"u")&&t)?Ge(ZC,e)?ZC[e]:"\\mathrm{"+u0(e)+"}":Ge(s0,e)?s0[e]:u0(e)}var Wd="OperatorNode",Uz=B(Wd,["Node"],e=>{var{Node:t}=e;function r(a,o){var s=a;if("auto"===o)for(;Ia(s);)s=s.content;return!!$t(s)||!!$r(s)&&r(s.args[0],o)}function n(a,o,s,u,c){var d,l=ur(a,o,s),f=ul(a,o);if("all"===o||u.length>2&&"OperatorNode:add"!==a.getIdentifier()&&"OperatorNode:multiply"!==a.getIdentifier())return u.map(function(N){switch(N.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(u.length){case 0:d=[];break;case 1:var p=ur(u[0],o,s,a);if(c&&null!==p){var h,m;if("keep"===o?(h=u[0].getIdentifier(),m=a.getIdentifier()):(h=u[0].getContent().getIdentifier(),m=a.getContent().getIdentifier()),!1===Ri[l][m].latexLeftParens){d=[!1];break}if(!1===Ri[p][h].latexParens){d=[!1];break}}if(null===p){d=[!1];break}if(p<=l){d=[!0];break}d=[!1];break;case 2:var y,g=ur(u[0],o,s,a),x=o0(a,u[0],o);y=null!==g&&(g===l&&"right"===f&&!x||g<l);var v,b,A,C,D=ur(u[1],o,s,a),w=o0(a,u[1],o);v=null!==D&&(D===l&&"left"===f&&!w||D<l),c&&("keep"===o?(b=a.getIdentifier(),A=a.args[0].getIdentifier(),C=a.args[1].getIdentifier()):(b=a.getContent().getIdentifier(),A=a.args[0].getContent().getIdentifier(),C=a.args[1].getContent().getIdentifier()),null!==g&&(!1===Ri[l][b].latexLeftParens&&(y=!1),!1===Ri[g][A].latexParens&&(y=!1)),null!==D&&(!1===Ri[l][b].latexRightParens&&(v=!1),!1===Ri[D][C].latexParens&&(v=!1))),d=[y,v];break;default:("OperatorNode:add"===a.getIdentifier()||"OperatorNode:multiply"===a.getIdentifier())&&(d=u.map(function(N){var _=ur(N,o,s,a),I=o0(a,N,o),R=ul(N,o);return null!==_&&(l===_&&f===R&&!I||_<l)}))}if(u.length>=2&&"OperatorNode:multiply"===a.getIdentifier()&&a.implicit&&"all"!==o&&"hide"===s)for(var E=1;E<d.length;++E)r(u[E],o)&&!d[E-1]&&("keep"!==o||!Ia(u[E-1]))&&(d[E]=!0);return d}class i extends t{constructor(o,s,u,c,l){if(super(),"string"!=typeof o)throw new TypeError('string expected for parameter "op"');if("string"!=typeof s)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(u)||!u.every(ir))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===c,this.isPercentage=!0===l,this.op=o,this.fn=s,this.args=u||[]}get type(){return Wd}get isOperatorNode(){return!0}_compile(o,s){if("string"!=typeof this.fn||!Yg(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var u=On(o,this.fn),c=Fa(this.args,function(h){return h._compile(o,s)});if("function"==typeof u&&!0===u.rawArgs){var l=this.args;return function(m,y,g){return u(l,o,m)}}if(1===c.length){var f=c[0];return function(m,y,g){return u(f(m,y,g))}}if(2===c.length){var d=c[0],p=c[1];return function(m,y,g){return u(d(m,y,g),p(m,y,g))}}return function(m,y,g){return u.apply(null,Fa(c,function(x){return x(m,y,g)}))}}forEach(o){for(var s=0;s<this.args.length;s++)o(this.args[s],"args["+s+"]",this)}map(o){for(var s=[],u=0;u<this.args.length;u++)s[u]=this._ifNode(o(this.args[u],"args["+u+"]",this));return new i(this.op,this.fn,s,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return 1===this.args.length}isBinary(){return 2===this.args.length}_toString(o){var s=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",c=this.args,l=n(this,s,u,c,!1);if(1===c.length){var f=ul(this,s),d=c[0].toString(o);l[0]&&(d="("+d+")");var p=/[a-zA-Z]+/.test(this.op);return"right"===f?this.op+(p?" ":"")+d:"left"===f?d+(p?" ":"")+this.op:d+this.op}if(2===c.length){var h=c[0].toString(o),m=c[1].toString(o);return l[0]&&(h="("+h+")"),l[1]&&(m="("+m+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===u?h+" "+m:h+" "+this.op+" "+m}if(c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var y=c.map(function(g,x){return g=g.toString(o),l[x]&&(g="("+g+")"),g});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===u?y.join(" "):y.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:Wd,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new i(o.op,o.fn,o.args,o.implicit,o.isPercentage)}_toHTML(o){var s=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",c=this.args,l=n(this,s,u,c,!1);if(1===c.length){var f=ul(this,s),d=c[0].toHTML(o);return l[0]&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===f?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+yi(this.op)+"</span>"+d:d+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+yi(this.op)+"</span>"}if(2===c.length){var p=c[0].toHTML(o),h=c[1].toHTML(o);return l[0]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l[1]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===u?p+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+h:p+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+yi(this.op)+"</span>"+h}var m=c.map(function(y,g){return y=y.toHTML(o),l[g]&&(y='<span class="math-parenthesis math-round-parenthesis">(</span>'+y+'<span class="math-parenthesis math-round-parenthesis">)</span>'),y});return c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===u?m.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):m.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+yi(this.op)+"</span>"):'<span class="math-function">'+yi(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+m.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}_toTex(o){var s=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",c=this.args,l=n(this,s,u,c,!0),f=Gt[this.fn];if(f=typeof f>"u"?this.op:f,1===c.length){var d=ul(this,s),p=c[0].toTex(o);return l[0]&&(p="\\left(".concat(p,"\\right)")),"right"===d?f+p:p+f}if(2===c.length){var h=c[0],m=h.toTex(o);l[0]&&(m="\\left(".concat(m,"\\right)"));var x,g=c[1].toTex(o);switch(l[1]&&(g="\\left(".concat(g,"\\right)")),x="keep"===s?h.getIdentifier():h.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return f+"{"+m+"}{"+g+"}";case"OperatorNode:pow":switch(m="{"+m+"}",g="{"+g+"}",x){case"ConditionalNode":case"OperatorNode:divide":m="\\left(".concat(m,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===u)return m+"~"+g}return m+f+g}if(c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var v=c.map(function(D,w){return D=D.toTex(o),l[w]&&(D="\\left(".concat(D,"\\right)")),D});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit&&"hide"===u?v.join("~"):v.join(f)}return"\\mathrm{"+this.fn+"}\\left("+c.map(function(D){return D.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return Kr(i,"name",Wd),i},{isClass:!0,isNode:!0}),Zd="ParenthesisNode",Vz=B(Zd,["Node"],e=>{var{Node:t}=e;class r extends t{constructor(i){if(super(),!ir(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return Zd}get isParenthesisNode(){return!0}_compile(i,a){return this.content._compile(i,a)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var a=i(this.content,"content",this);return new r(a)}clone(){return new r(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&"keep"===i.parenthesis?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:Zd,content:this.content}}static fromJSON(i){return new r(i.content)}_toHTML(i){return!i||i&&!i.parenthesis||i&&"keep"===i.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&"keep"===i.parenthesis?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return Kr(r,"name",Zd),r},{isClass:!0,isNode:!0}),Yd="RelationalNode",$z=B(Yd,["Node"],e=>{var{Node:t}=e,r={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class n extends t{constructor(a,o){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(a.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=o}get type(){return Yd}get isRelationalNode(){return!0}_compile(a,o){var s=this,u=this.params.map(c=>c._compile(a,o));return function(l,f,d){for(var p,h=u[0](l,f,d),m=0;m<s.conditionals.length;m++)if(p=h,h=u[m+1](l,f,d),!On(a,s.conditionals[m])(p,h))return!1;return!0}}forEach(a){this.params.forEach((o,s)=>a(o,"params["+s+"]",this),this)}map(a){return new n(this.conditionals.slice(),this.params.map((o,s)=>this._ifNode(a(o,"params["+s+"]",this)),this))}clone(){return new n(this.conditionals,this.params)}_toString(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",s=ur(this,o,a&&a.implicit),u=this.params.map(function(f,d){var p=ur(f,o,a&&a.implicit);return"all"===o||null!==p&&p<=s?"("+f.toString(a)+")":f.toString(a)}),c=u[0],l=0;l<this.conditionals.length;l++)c+=" "+r[this.conditionals[l]],c+=" "+u[l+1];return c}toJSON(){return{mathjs:Yd,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new n(a.conditionals,a.params)}_toHTML(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",s=ur(this,o,a&&a.implicit),u=this.params.map(function(f,d){var p=ur(f,o,a&&a.implicit);return"all"===o||null!==p&&p<=s?'<span class="math-parenthesis math-round-parenthesis">(</span>'+f.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':f.toHTML(a)}),c=u[0],l=0;l<this.conditionals.length;l++)c+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+yi(r[this.conditionals[l]])+"</span>"+u[l+1];return c}_toTex(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",s=ur(this,o,a&&a.implicit),u=this.params.map(function(f,d){var p=ur(f,o,a&&a.implicit);return"all"===o||null!==p&&p<=s?"\\left("+f.toTex(a)+"\right)":f.toTex(a)}),c=u[0],l=0;l<this.conditionals.length;l++)c+=Gt[this.conditionals[l]]+u[l+1];return c}}return Kr(n,"name",Yd),n},{isClass:!0,isNode:!0}),Qd="ArrayNode",Gz=B(Qd,["Node"],e=>{var{Node:t}=e;class r extends t{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(ir))throw new TypeError("Array containing Nodes expected")}get type(){return Qd}get isArrayNode(){return!0}_compile(i,a){var o=Fa(this.items,function(c){return c._compile(i,a)});if("Array"!==i.config.matrix){var u=i.matrix;return function(l,f,d){return u(Fa(o,function(p){return p(l,f,d)}))}}return function(l,f,d){return Fa(o,function(p){return p(l,f,d)})}}forEach(i){for(var a=0;a<this.items.length;a++)i(this.items[a],"items["+a+"]",this)}map(i){for(var a=[],o=0;o<this.items.length;o++)a[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new r(a)}clone(){return new r(this.items.slice(0))}_toString(i){return"["+this.items.map(function(o){return o.toString(i)}).join(", ")+"]"}toJSON(){return{mathjs:Qd,items:this.items}}static fromJSON(i){return new r(i.items)}_toHTML(i){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(o){return o.toHTML(i)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){return function a(o,s){var u=o.some(gi)&&!o.every(gi),c=s||u,l=c?"&":"\\\\",f=o.map(function(d){return d.items?a(d.items,!s):d.toTex(i)}).join(l);return u||!c||c&&!s?"\\begin{bmatrix}"+f+"\\end{bmatrix}":f}(this.items,!1)}}return Kr(r,"name",Qd),r},{isClass:!0,isNode:!0}),Xd="BlockNode",Zz=B(Xd,["ResultSet","Node"],e=>{var{ResultSet:t,Node:r}=e;class n extends r{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(o){var s=o&&o.node,u=!o||void 0===o.visible||o.visible;if(!ir(s))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof u)throw new TypeError('Property "visible" must be a boolean');return{node:s,visible:u}})}get type(){return Xd}get isBlockNode(){return!0}_compile(a,o){var s=Fa(this.blocks,function(u){return{evaluate:u.node._compile(a,o),visible:u.visible}});return function(c,l,f){var d=[];return Vd(s,function(h){var m=h.evaluate(c,l,f);h.visible&&d.push(m)}),new t(d)}}forEach(a){for(var o=0;o<this.blocks.length;o++)a(this.blocks[o].node,"blocks["+o+"].node",this)}map(a){for(var o=[],s=0;s<this.blocks.length;s++){var u=this.blocks[s],c=this._ifNode(a(u.node,"blocks["+s+"].node",this));o[s]={node:c,visible:u.visible}}return new n(o)}clone(){var a=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new n(a)}_toString(a){return this.blocks.map(function(o){return o.node.toString(a)+(o.visible?"":";")}).join("\n")}toJSON(){return{mathjs:Xd,blocks:this.blocks}}static fromJSON(a){return new n(a.blocks)}_toHTML(a){return this.blocks.map(function(o){return o.node.toHTML(a)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(o){return o.node.toTex(a)+(o.visible?"":";")}).join("\\;\\;\n")}}return Kr(n,"name",Xd),n},{isClass:!0,isNode:!0}),Kd="ConditionalNode",Qz=B(Kd,["Node"],e=>{var{Node:t}=e;class n extends t{constructor(a,o,s){if(super(),!ir(a))throw new TypeError("Parameter condition must be a Node");if(!ir(o))throw new TypeError("Parameter trueExpr must be a Node");if(!ir(s))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=o,this.falseExpr=s}get type(){return Kd}get isConditionalNode(){return!0}_compile(a,o){var s=this.condition._compile(a,o),u=this.trueExpr._compile(a,o),c=this.falseExpr._compile(a,o);return function(f,d,p){return function r(i){if("number"==typeof i||"boolean"==typeof i||"string"==typeof i)return!!i;if(i){if(It(i))return!i.isZero();if(Ta(i))return!(!i.re&&!i.im);if(hi(i))return!!i.value}if(null==i)return!1;throw new TypeError('Unsupported type of condition "'+or(i)+'"')}(s(f,d,p))?u(f,d,p):c(f,d,p)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new n(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=ur(this,o,a&&a.implicit),u=this.condition.toString(a),c=ur(this.condition,o,a&&a.implicit);("all"===o||"OperatorNode"===this.condition.type||null!==c&&c<=s)&&(u="("+u+")");var l=this.trueExpr.toString(a),f=ur(this.trueExpr,o,a&&a.implicit);("all"===o||"OperatorNode"===this.trueExpr.type||null!==f&&f<=s)&&(l="("+l+")");var d=this.falseExpr.toString(a),p=ur(this.falseExpr,o,a&&a.implicit);return("all"===o||"OperatorNode"===this.falseExpr.type||null!==p&&p<=s)&&(d="("+d+")"),u+" ? "+l+" : "+d}toJSON(){return{mathjs:Kd,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new n(a.condition,a.trueExpr,a.falseExpr)}_toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=ur(this,o,a&&a.implicit),u=this.condition.toHTML(a),c=ur(this.condition,o,a&&a.implicit);("all"===o||"OperatorNode"===this.condition.type||null!==c&&c<=s)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>');var l=this.trueExpr.toHTML(a),f=ur(this.trueExpr,o,a&&a.implicit);("all"===o||"OperatorNode"===this.trueExpr.type||null!==f&&f<=s)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var d=this.falseExpr.toHTML(a),p=ur(this.falseExpr,o,a&&a.implicit);return("all"===o||"OperatorNode"===this.falseExpr.type||null!==p&&p<=s)&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+'<span class="math-operator math-conditional-operator">?</span>'+l+'<span class="math-operator math-conditional-operator">:</span>'+d}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return Kr(n,"name",Kd),n},{isClass:!0,isNode:!0}),Jd="ConstantNode",Kz=B(Jd,["Node"],e=>{var{Node:t}=e;class r extends t{constructor(i){super(),this.value=i}get type(){return Jd}get isConstantNode(){return!0}_compile(i,a){var o=this.value;return function(){return o}}forEach(i){}map(i){return this.clone()}clone(){return new r(this.value)}_toString(i){return Nt(this.value,i)}_toHTML(i){var a=this._toString(i);switch(or(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:Jd,value:this.value}}static fromJSON(i){return new r(i.value)}_toTex(i){var a=this._toString(i);switch(or(this.value)){case"string":return"\\mathtt{"+u0(a)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var o=a.toLowerCase().indexOf("e");return-1!==o?a.substring(0,o)+"\\cdot10^{"+a.substring(o+1)+"}":a;case"Fraction":return this.value.toLatex();default:return a}}}return Kr(r,"name",Jd),r},{isClass:!0,isNode:!0}),ep="RangeNode",eU=B(ep,["Node"],e=>{var{Node:t}=e;function r(i,a,o){var s=ur(i,a,o),u={},c=ur(i.start,a,o);if(u.start=null!==c&&c<=s||"all"===a,i.step){var l=ur(i.step,a,o);u.step=null!==l&&l<=s||"all"===a}var f=ur(i.end,a,o);return u.end=null!==f&&f<=s||"all"===a,u}class n extends t{constructor(a,o,s){if(super(),!ir(a))throw new TypeError("Node expected");if(!ir(o))throw new TypeError("Node expected");if(s&&!ir(s))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=o,this.step=s||null}get type(){return ep}get isRangeNode(){return!0}needsEnd(){return this.filter(function(o){return an(o)&&"end"===o.name}).length>0}_compile(a,o){var s=a.range,u=this.start._compile(a,o),c=this.end._compile(a,o);if(this.step){var l=this.step._compile(a,o);return function(d,p,h){return s(u(d,p,h),c(d,p,h),l(d,p,h))}}return function(d,p,h){return s(u(d,p,h),c(d,p,h))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new n(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new n(this.start,this.end,this.step&&this.step)}_toString(a){var u,s=r(this,a&&a.parenthesis?a.parenthesis:"keep",a&&a.implicit),c=this.start.toString(a);if(s.start&&(c="("+c+")"),u=c,this.step){var l=this.step.toString(a);s.step&&(l="("+l+")"),u+=":"+l}var f=this.end.toString(a);return s.end&&(f="("+f+")"),u+":"+f}toJSON(){return{mathjs:ep,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new n(a.start,a.end,a.step)}_toHTML(a){var u,s=r(this,a&&a.parenthesis?a.parenthesis:"keep",a&&a.implicit),c=this.start.toHTML(a);if(s.start&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u=c,this.step){var l=this.step.toHTML(a);s.step&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+='<span class="math-operator math-range-operator">:</span>'+l}var f=this.end.toHTML(a);return s.end&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+'<span class="math-operator math-range-operator">:</span>'+f}_toTex(a){var s=r(this,a&&a.parenthesis?a.parenthesis:"keep",a&&a.implicit),u=this.start.toTex(a);if(s.start&&(u="\\left(".concat(u,"\\right)")),this.step){var c=this.step.toTex(a);s.step&&(c="\\left(".concat(c,"\\right)")),u+=":"+c}var l=this.end.toTex(a);return s.end&&(l="\\left(".concat(l,"\\right)")),u+":"+l}}return Kr(n,"name",ep),n},{isClass:!0,isNode:!0}),nU=B("reviver",["classes"],e=>{var{classes:t}=e;return function(n,i){var a=t[i&&i.mathjs];return a&&"function"==typeof a.fromJSON?a.fromJSON(i):i}}),oU=B("Chain",["?on","math","typed"],e=>{var{on:t,math:r,typed:n}=e;function i(c){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this.value=yC(c)?c.value:c}function o(c,l){!function Y7(e,t,r){var i,n=!0;Object.defineProperty(e,t,{get:function(){return n&&(i=r(),n=!1),i},set:function(o){i=o,n=!1},configurable:!0,enumerable:!0})}(i.prototype,c,function(){var d=l();if("function"==typeof d)return s(d)})}function s(c){return function(){if(0===arguments.length)return new i(c(this.value));for(var l=[this.value],f=0;f<arguments.length;f++)l[f+1]=arguments[f];if(n.isTypedFunction(c)){var d=n.resolve(c,l);if(1===d.params.length)throw new Error("chain function "+c.name+" cannot match rest parameter between chain value and additional arguments.");return new i(d.implementation.apply(c,l))}return new i(c.apply(c,l))}}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return Nt(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(c){return new i(c.value)},i.createProxy=function(c,l){if("string"==typeof c)!function a(c,l){"function"==typeof l&&(i.prototype[c]=s(l))}(c,l);else{var f=function(h){Ge(c,h)&&void 0===u[h]&&o(h,()=>c[h])};for(var d in c)f(d)}};var u={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(r),t&&t("import",function(c,l,f){f||o(c,l)}),i},{isClass:!0}),tp="FunctionAssignmentNode",uU=B(tp,["typed","Node"],e=>{var{typed:t,Node:r}=e;function n(a,o,s){var u=ur(a,o,s),c=ur(a.expr,o,s);return"all"===o||null!==c&&c<=u}class i extends r{constructor(o,s,u){if(super(),"string"!=typeof o)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(s))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!ir(u))throw new TypeError('Node expected for parameter "expr"');if(bC.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var c=new Set;for(var l of s){var f="string"==typeof l?l:l.name;if(c.has(f))throw new Error('Duplicate parameter name "'.concat(f,'"'));c.add(f)}this.name=o,this.params=s.map(function(d){return d&&d.name||d}),this.types=s.map(function(d){return d&&d.type||"any"}),this.expr=u}get type(){return tp}get isFunctionAssignmentNode(){return!0}_compile(o,s){var u=Object.create(s);Vd(this.params,function(h){u[h]=!0});var c=this.expr._compile(o,u),l=this.name,f=this.params,d=HC(this.types,","),p=l+"("+HC(this.params,", ")+")";return function(m,y,g){var x={};x[d]=function(){for(var D=Object.create(y),w=0;w<f.length;w++)D[f[w]]=arguments[w];return c(m,D,g)};var v=t(l,x);return v.syntax=p,m.set(l,v),v}}forEach(o){o(this.expr,"expr",this)}map(o){var s=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),s)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(o){var s=o&&o.parenthesis?o.parenthesis:"keep",u=this.expr.toString(o);return n(this,s,o&&o.implicit)&&(u="("+u+")"),this.name+"("+this.params.join(", ")+") = "+u}toJSON(){var o=this.types;return{mathjs:tp,name:this.name,params:this.params.map(function(s,u){return{name:s,type:o[u]}}),expr:this.expr}}static fromJSON(o){return new i(o.name,o.params,o.expr)}_toHTML(o){for(var s=o&&o.parenthesis?o.parenthesis:"keep",u=[],c=0;c<this.params.length;c++)u.push('<span class="math-symbol math-parameter">'+yi(this.params[c])+"</span>");var l=this.expr.toHTML(o);return n(this,s,o&&o.implicit)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+yi(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+u.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+l}_toTex(o){var s=o&&o.parenthesis?o.parenthesis:"keep",u=this.expr.toTex(o);return n(this,s,o&&o.implicit)&&(u="\\left(".concat(u,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(YC).join(",")+"\\right)="+u}}return Kr(i,"name",tp),i},{isClass:!0,isNode:!0}),lU=B("chain",["typed","Chain"],e=>{var{typed:t,Chain:r}=e;return t("chain",{"":function(){return new r},any:function(i){return new r(i)}})}),rp="IndexNode",dU=B(rp,["Node","size"],e=>{var{Node:t,size:r}=e;class n extends t{constructor(a,o){if(super(),this.dimensions=a,this.dotNotation=o||!1,!Array.isArray(a)||!a.every(ir))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return rp}get isIndexNode(){return!0}_compile(a,o){var s=Fa(this.dimensions,function(c,l){if(c.filter(h=>h.isSymbolNode&&"end"===h.name).length>0){var d=Object.create(o);d.end=!0;var p=c._compile(a,d);return function(m,y,g){if(!Je(g)&&!Qt(g)&&!Dn(g))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+or(g));var x=r(g).valueOf(),v=Object.create(y);return v.end=x[l],p(m,v,g)}}return c._compile(a,o)}),u=On(a,"index");return function(l,f,d){var p=Fa(s,function(h){return h(l,f,d)});return u(...p)}}forEach(a){for(var o=0;o<this.dimensions.length;o++)a(this.dimensions[o],"dimensions["+o+"]",this)}map(a){for(var o=[],s=0;s<this.dimensions.length;s++)o[s]=this._ifNode(a(this.dimensions[s],"dimensions["+s+"]",this));return new n(o,this.dotNotation)}clone(){return new n(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return 1===this.dimensions.length&&$t(this.dimensions[0])&&"string"==typeof this.dimensions[0].value}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:rp,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new n(a.dimensions,a.dotNotation)}_toHTML(a){for(var o=[],s=0;s<this.dimensions.length;s++)o[s]=this.dimensions[s].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+yi(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var o=this.dimensions.map(function(s){return s.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return Kr(n,"name",rp),n},{isClass:!0,isNode:!0});function Rn(e){return e&&e.isIndexError?new Oi(e.index+1,e.min+1,void 0!==e.max?e.max+1:void 0):e}function XC(e){var{subset:t}=e;return function(n,i){try{if(Array.isArray(n))return t(n,i);if(n&&"function"==typeof n.subset)return n.subset(i);if("string"==typeof n)return t(n,i);if("object"==typeof n){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return On(n,i.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw Rn(a)}}}var np="AccessorNode",mU=B(np,["subset","Node"],e=>{var{subset:t,Node:r}=e,n=XC({subset:t});function i(o){return!(Go(o)||gi(o)||$t(o)||oo(o)||Bd(o)||Ia(o)||an(o))}class a extends r{constructor(s,u){if(super(),!ir(s))throw new TypeError('Node expected for parameter "object"');if(!fu(u))throw new TypeError('IndexNode expected for parameter "index"');this.object=s,this.index=u}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return np}get isAccessorNode(){return!0}_compile(s,u){var c=this.object._compile(s,u),l=this.index._compile(s,u);if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(p,h,m){return On(c(p,h,m),f)}}return function(p,h,m){var y=c(p,h,m),g=l(p,h,y);return n(y,g)}}forEach(s){s(this.object,"object",this),s(this.index,"index",this)}map(s){return new a(this._ifNode(s(this.object,"object",this)),this._ifNode(s(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(s){var u=this.object.toString(s);return i(this.object)&&(u="("+u+")"),u+this.index.toString(s)}_toHTML(s){var u=this.object.toHTML(s);return i(this.object)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+this.index.toHTML(s)}_toTex(s){var u=this.object.toTex(s);return i(this.object)&&(u="\\left(' + object + '\\right)"),u+this.index.toTex(s)}toJSON(){return{mathjs:np,object:this.object,index:this.index}}static fromJSON(s){return new a(s.object,s.index)}}return Kr(a,"name",np),a},{isClass:!0,isNode:!0}),ip="AssignmentNode",gU=B(ip,["subset","?matrix","Node"],e=>{var{subset:t,matrix:r,Node:n}=e,i=XC({subset:t}),a=function hU(e){var{subset:t,matrix:r}=e;return function(i,a,o){try{if(Array.isArray(i))return r(i).subset(a,o).valueOf().forEach((u,c)=>{i[c]=u}),i;if(i&&"function"==typeof i.subset)return i.subset(a,o);if("string"==typeof i)return t(i,a,o);if("object"==typeof i){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return du(i,a.getObjectProperty(),o),i}throw new TypeError("Cannot apply index: unsupported type of object")}catch(u){throw Rn(u)}}}({subset:t,matrix:r});function o(u,c,l){c||(c="keep");var f=ur(u,c,l),d=ur(u.value,c,l);return"all"===c||null!==d&&d<=f}class s extends n{constructor(c,l,f){if(super(),this.object=c,this.index=f?l:null,this.value=f||l,!an(c)&&!Go(c))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(an(c)&&"end"===c.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!fu(this.index))throw new TypeError('IndexNode expected as "index"');if(!ir(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return ip}get isAssignmentNode(){return!0}_compile(c,l){var f=this.object._compile(c,l),d=this.index?this.index._compile(c,l):null,p=this.value._compile(c,l),h=this.object.name;if(this.index){if(this.index.isObjectProperty()){var m=this.index.getObjectProperty();return function(D,w,b){var A=f(D,w,b),C=p(D,w,b);return du(A,m,C),C}}if(an(this.object))return function(D,w,b){var A=f(D,w,b),C=p(D,w,b),E=d(D,w,A);return D.set(h,a(A,E,C)),C};var y=this.object.object._compile(c,l);if(this.object.index.isObjectProperty()){var g=this.object.index.getObjectProperty();return function(D,w,b){var A=y(D,w,b),C=On(A,g),E=d(D,w,C),N=p(D,w,b);return du(A,g,a(C,E,N)),N}}var x=this.object.index._compile(c,l);return function(D,w,b){var A=y(D,w,b),C=x(D,w,A),E=i(A,C),N=d(D,w,E),_=p(D,w,b);return a(A,C,a(E,N,_)),_}}if(!an(this.object))throw new TypeError("SymbolNode expected as object");return function(D,w,b){var A=p(D,w,b);return D.set(h,A),A}}forEach(c){c(this.object,"object",this),this.index&&c(this.index,"index",this),c(this.value,"value",this)}map(c){var l=this._ifNode(c(this.object,"object",this)),f=this.index?this._ifNode(c(this.index,"index",this)):null,d=this._ifNode(c(this.value,"value",this));return new s(l,f,d)}clone(){return new s(this.object,this.index,this.value)}_toString(c){var l=this.object.toString(c),f=this.index?this.index.toString(c):"",d=this.value.toString(c);return o(this,c&&c.parenthesis,c&&c.implicit)&&(d="("+d+")"),l+f+" = "+d}toJSON(){return{mathjs:ip,object:this.object,index:this.index,value:this.value}}static fromJSON(c){return new s(c.object,c.index,c.value)}_toHTML(c){var l=this.object.toHTML(c),f=this.index?this.index.toHTML(c):"",d=this.value.toHTML(c);return o(this,c&&c.parenthesis,c&&c.implicit)&&(d='<span class="math-paranthesis math-round-parenthesis">(</span>'+d+'<span class="math-paranthesis math-round-parenthesis">)</span>'),l+f+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+d}_toTex(c){var l=this.object.toTex(c),f=this.index?this.index.toTex(c):"",d=this.value.toTex(c);return o(this,c&&c.parenthesis,c&&c.implicit)&&(d="\\left(".concat(d,"\\right)")),l+f+"="+d}}return Kr(s,"name",ip),s},{isClass:!0,isNode:!0}),DU=B("SymbolNode",["math","?Unit","Node"],e=>{var{math:t,Unit:r,Node:n}=e;function i(o){return!!r&&r.isValuelessUnit(o)}class a extends n{constructor(s){if(super(),"string"!=typeof s)throw new TypeError('String expected for parameter "name"');this.name=s}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(s,u){var c=this.name;if(!0===u[c])return function(f,d,p){return On(d,c)};if(c in s)return function(f,d,p){return f.has(c)?f.get(c):On(s,c)};var l=i(c);return function(f,d,p){return f.has(c)?f.get(c):l?new r(null,c):a.onUndefinedSymbol(c)}}forEach(s){}map(s){return this.clone()}static onUndefinedSymbol(s){throw new Error("Undefined symbol "+s)}clone(){return new a(this.name)}_toString(s){return this.name}_toHTML(s){var u=yi(this.name);return"true"===u||"false"===u?'<span class="math-symbol math-boolean">'+u+"</span>":"i"===u?'<span class="math-symbol math-imaginary-symbol">'+u+"</span>":"Infinity"===u?'<span class="math-symbol math-infinity-symbol">'+u+"</span>":"NaN"===u?'<span class="math-symbol math-nan-symbol">'+u+"</span>":"null"===u?'<span class="math-symbol math-null-symbol">'+u+"</span>":"undefined"===u?'<span class="math-symbol math-undefined-symbol">'+u+"</span>":'<span class="math-symbol">'+u+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(s){return new a(s.name)}_toTex(s){var u=!1;typeof t[this.name]>"u"&&i(this.name)&&(u=!0);var c=YC(this.name,u);return"\\"===c[0]?c:" "+c}}return a},{isClass:!0,isNode:!0});function cl(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return"function"==typeof e.createSubScope?SC(e.createSubScope(),...r):SC(pu(),e,...r)}var ap="FunctionNode",xU=B(ap,["math","Node","SymbolNode"],e=>{var t,{math:r,Node:n,SymbolNode:i}=e,a=u=>Nt(u,{truncate:78});function o(u,c,l){for(var h,f="",d=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,p=0;null!==(h=d.exec(u));)if(f+=u.substring(p,h.index),p=h.index,"$$"===h[0])f+="$",p++;else{p+=h[0].length;var m=c[h[1]];if(!m)throw new ReferenceError("Template: Property "+h[1]+" does not exist.");if(void 0===h[2])switch(typeof m){case"string":f+=m;break;case"object":if(ir(m))f+=m.toTex(l);else{if(!Array.isArray(m))throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes");f+=m.map(function(y,g){if(ir(y))return y.toTex(l);throw new TypeError("Template: "+h[1]+"["+g+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes")}else{if(!ir(m[h[2]]&&m[h[2]]))throw new TypeError("Template: "+h[1]+"["+h[2]+"] is not a Node.");f+=m[h[2]].toTex(l)}}return f+u.slice(p)}class s extends n{constructor(c,l){if(super(),"string"==typeof c&&(c=new i(c)),!ir(c))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(l)||!l.every(ir))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=c,this.args=l||[]}get name(){return this.fn.name||""}get type(){return ap}get isFunctionNode(){return!0}_compile(c,l){var f=this.args.map(C=>C._compile(c,l));if(!an(this.fn)){if(Go(this.fn)&&fu(this.fn.index)&&this.fn.index.isObjectProperty()){var x=this.fn.object._compile(c,l),v=this.fn.index.getObjectProperty(),D=this.args;return function(E,N,_){var I=x(E,N,_),R=function nz(e,t){if(!Yg(e,t))throw new Error('No access to method "'+t+'"');return e[t]}(I,v);if(null!=R&&R.rawArgs)return R(D,c,cl(E,N));var k=f.map(P=>P(E,N,_));return R.apply(I,k)}}var w=this.fn.toString(),b=this.fn._compile(c,l),A=this.args;return function(E,N,_){var I=b(E,N,_);if("function"!=typeof I)throw new TypeError("Expression '".concat(w,"' did not evaluate to a function; value is:")+"\n  ".concat(a(I)));if(I.rawArgs)return I(A,c,cl(E,N));var R=f.map(k=>k(E,N,_));return I.apply(I,R)}}var d=this.fn.name;if(l[d]){var g=this.args;return function(E,N,_){var I=On(N,d);if("function"!=typeof I)throw new TypeError("Argument '".concat(d,"' was not a function; received: ").concat(a(I)));if(I.rawArgs)return I(g,c,cl(E,N));var R=f.map(k=>k(E,N,_));return I.apply(I,R)}}var p=d in c?On(c,d):void 0,m=C=>{var E;if(C.has(d))E=C.get(d);else{if(!(d in c))return s.onUndefinedFunction(d);E=On(c,d)}if("function"==typeof E)return E;throw new TypeError("'".concat(d,"' is not a function; its value is:\n  ").concat(a(E)))};if("function"==typeof p&&!0===p.rawArgs){var y=this.args;return function(E,N,_){return m(E)(y,c,cl(E,N))}}switch(f.length){case 0:return function(E,N,_){return m(E)()};case 1:return function(E,N,_){return m(E)((0,f[0])(E,N,_))};case 2:return function(E,N,_){var I=m(E),k=f[1];return I((0,f[0])(E,N,_),k(E,N,_))};default:return function(E,N,_){return m(E)(...f.map(k=>k(E,N,_)))}}}forEach(c){c(this.fn,"fn",this);for(var l=0;l<this.args.length;l++)c(this.args[l],"args["+l+"]",this)}map(c){for(var l=this._ifNode(c(this.fn,"fn",this)),f=[],d=0;d<this.args.length;d++)f[d]=this._ifNode(c(this.args[d],"args["+d+"]",this));return new s(l,f)}clone(){return new s(this.fn,this.args.slice(0))}toString(c){var l,f=this.fn.toString(c);return c&&"object"==typeof c.handler&&Ge(c.handler,f)&&(l=c.handler[f](this,c)),typeof l<"u"?l:super.toString(c)}_toString(c){var l=this.args.map(function(d){return d.toString(c)});return(al(this.fn)?"("+this.fn.toString(c)+")":this.fn.toString(c))+"("+l.join(", ")+")"}toJSON(){return{mathjs:ap,fn:this.fn,args:this.args}}_toHTML(c){var l=this.args.map(function(f){return f.toHTML(c)});return'<span class="math-function">'+yi(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(c){var l;return c&&"object"==typeof c.handler&&Ge(c.handler,this.name)&&(l=c.handler[this.name](this,c)),typeof l<"u"?l:super.toTex(c)}_toTex(c){var f,d,l=this.args.map(function(p){return p.toTex(c)});switch(WC[this.name]&&(f=WC[this.name]),r[this.name]&&("function"==typeof r[this.name].toTex||"object"==typeof r[this.name].toTex||"string"==typeof r[this.name].toTex)&&(f=r[this.name].toTex),typeof f){case"function":d=f(this,c);break;case"string":d=o(f,this,c);break;case"object":switch(typeof f[l.length]){case"function":d=f[l.length](this,c);break;case"string":d=o(f[l.length],this,c)}}return typeof d<"u"?d:o("\\mathrm{${name}}\\left(${args}\\right)",this,c)}getIdentifier(){return this.type+":"+this.name}}return t=s,Kr(s,"name",ap),Kr(s,"onUndefinedFunction",function(u){throw new Error("Undefined function "+u)}),Kr(s,"fromJSON",function(u){return new t(u.fn,u.args)}),s},{isClass:!0,isNode:!0});function KC(e){var n,i,t=e.length,r=e[0].length,a=[];for(i=0;i<r;i++){var o=[];for(n=0;n<t;n++)o.push(e[n][i]);a.push(o)}return a}function Du(e){for(var t=0;t<e.length;t++)if(vi(e[t]))return!0;return!1}function Oa(e,t){Je(e)&&(e=e.valueOf());for(var r=0,n=e.length;r<n;r++){var i=e[r];Array.isArray(i)?Oa(i,t):t(i)}}function At(e,t,r){return e&&"function"==typeof e.map?e.map(function(n){return At(n,t,r)}):t(e)}function op(e,t,r){var n=Array.isArray(e)?lt(e):e.size();if(t<0||t>=n.length)throw new Oi(t,n.length);return Je(e)?e.create(sp(e.valueOf(),t,r)):sp(e,t,r)}function sp(e,t,r){var n,i,a,o;if(t<=0){if(Array.isArray(e[0])){for(o=KC(e),i=[],n=0;n<o.length;n++)i[n]=sp(o[n],t-1,r);return i}for(a=e[0],n=1;n<e.length;n++)a=r(a,e[n]);return a}for(i=[],n=0;n<e.length;n++)i[n]=sp(e[n],t-1,r);return i}function JC(e,t,r,n,i,a,o,s,u,c,l){var h,y,g,f=e._values,d=e._index,p=e._ptr;if(n)for(y=p[t+1],h=p[t];h<y;h++)r[g=d[h]]!==a?(r[g]=a,o.push(g),c?(n[g]=u?s(f[h],l):s(l,f[h]),i[g]=a):n[g]=f[h]):(n[g]=u?s(f[h],n[g]):s(n[g],f[h]),i[g]=a);else for(y=p[t+1],h=p[t];h<y;h++)r[g=d[h]]!==a?(r[g]=a,o.push(g)):i[g]=a}var NU=B("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],e=>{var{typed:t,numeric:r,config:n,AccessorNode:i,ArrayNode:a,AssignmentNode:o,BlockNode:s,ConditionalNode:u,ConstantNode:c,FunctionAssignmentNode:l,FunctionNode:f,IndexNode:d,ObjectNode:p,OperatorNode:h,ParenthesisNode:m,RangeNode:y,RelationalNode:g,SymbolNode:x}=e,v=t("parse",{string:function(X){return ne(X,{})},"Array | Matrix":function(X){return D(X,{})},"string, Object":function(X,me){return ne(X,void 0!==me.nodes?me.nodes:{})},"Array | Matrix, Object":D});function D(M){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},me=void 0!==X.nodes?X.nodes:{};return At(M,function(Re){if("string"!=typeof Re)throw new TypeError("String expected");return ne(Re,me)})}var w={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},b={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},A={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},C={true:!0,false:!1,null:null,undefined:void 0},E=["NaN","Infinity"],N={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function I(M,X){return M.expression.substr(M.index,X)}function R(M){return I(M,1)}function k(M){M.index++}function P(M){return M.expression.charAt(M.index-1)}function T(M){return M.expression.charAt(M.index+1)}function S(M){for(M.tokenType=w.NULL,M.token="",M.comment="";;){if("#"===R(M))for(;"\n"!==R(M)&&""!==R(M);)M.comment+=R(M),k(M);if(!v.isWhitespace(R(M),M.nestingLevel))break;k(M)}if(""!==R(M)){if("\n"===R(M)&&!M.nestingLevel)return M.tokenType=w.DELIMITER,M.token=R(M),void k(M);var X=R(M),me=I(M,2),Re=I(M,3);if(3===Re.length&&b[Re])return M.tokenType=w.DELIMITER,M.token=Re,k(M),k(M),void k(M);if(2===me.length&&b[me])return M.tokenType=w.DELIMITER,M.token=me,k(M),void k(M);if(b[X])return M.tokenType=w.DELIMITER,M.token=X,void k(M);if(v.isDigitDot(X)){M.tokenType=w.NUMBER;var vt=I(M,2);if("0b"===vt||"0o"===vt||"0x"===vt){for(M.token+=R(M),k(M),M.token+=R(M),k(M);v.isHexDigit(R(M));)M.token+=R(M),k(M);if("."===R(M))for(M.token+=".",k(M);v.isHexDigit(R(M));)M.token+=R(M),k(M);else if("i"===R(M))for(M.token+="i",k(M);v.isDigit(R(M));)M.token+=R(M),k(M);return}if("."===R(M)){if(M.token+=R(M),k(M),!v.isDigit(R(M)))return void(M.tokenType=w.DELIMITER)}else{for(;v.isDigit(R(M));)M.token+=R(M),k(M);v.isDecimalMark(R(M),T(M))&&(M.token+=R(M),k(M))}for(;v.isDigit(R(M));)M.token+=R(M),k(M);if("E"===R(M)||"e"===R(M))if(v.isDigit(T(M))||"-"===T(M)||"+"===T(M)){if(M.token+=R(M),k(M),("+"===R(M)||"-"===R(M))&&(M.token+=R(M),k(M)),!v.isDigit(R(M)))throw qt(M,'Digit expected, got "'+R(M)+'"');for(;v.isDigit(R(M));)M.token+=R(M),k(M);if(v.isDecimalMark(R(M),T(M)))throw qt(M,'Digit expected, got "'+R(M)+'"')}else if("."===T(M))throw k(M),qt(M,'Digit expected, got "'+R(M)+'"')}else{if(!v.isAlpha(R(M),P(M),T(M))){for(M.tokenType=w.UNKNOWN;""!==R(M);)M.token+=R(M),k(M);throw qt(M,'Syntax error in part "'+M.token+'"')}for(;v.isAlpha(R(M),P(M),T(M))||v.isDigit(R(M));)M.token+=R(M),k(M);M.tokenType=Ge(A,M.token)?w.DELIMITER:w.SYMBOL}}else M.tokenType=w.DELIMITER}function q(M){do{S(M)}while("\n"===M.token)}function F(M){M.nestingLevel++}function K(M){M.nestingLevel--}function ne(M,X){var me=function _(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:w.NULL,nestingLevel:0,conditionalLevel:null}}();Xr(me,{expression:M,extraNodes:X}),S(me);var Re=function Y(M){var X,me=[];for(""!==M.token&&"\n"!==M.token&&";"!==M.token&&(X=z(M),M.comment&&(X.comment=M.comment));"\n"===M.token||";"===M.token;)0===me.length&&X&&me.push({node:X,visible:";"!==M.token}),S(M),"\n"!==M.token&&";"!==M.token&&""!==M.token&&(X=z(M),M.comment&&(X.comment=M.comment),me.push({node:X,visible:";"!==M.token}));return me.length>0?new s(me):(X||(X=new c(void 0),M.comment&&(X.comment=M.comment)),X)}(me);if(""!==me.token)throw me.tokenType===w.DELIMITER?xo(me,"Unexpected operator "+me.token):qt(me,'Unexpected part "'+me.token+'"');return Re}function z(M){var X,me,Re,vt,_t=function re(M){for(var X=function he(M){for(var X=ie(M);"or"===M.token;)q(M),X=new h("or","or",[X,ie(M)]);return X}(M);"?"===M.token;){var me=M.conditionalLevel;M.conditionalLevel=M.nestingLevel,q(M);var Re=X,vt=z(M);if(":"!==M.token)throw qt(M,"False part of conditional expression expected");M.conditionalLevel=null,q(M);var _t=z(M);X=new u(Re,vt,_t),M.conditionalLevel=me}return X}(M);if("="===M.token){if(an(_t))return X=_t.name,q(M),Re=z(M),new o(new x(X),Re);if(Go(_t))return q(M),Re=z(M),new o(_t.object,_t.index,Re);if(oo(_t)&&an(_t.fn)&&(vt=!0,me=[],X=_t.name,_t.args.forEach(function($i,Hce){an($i)?me[Hce]=$i.name:vt=!1}),vt))return q(M),Re=z(M),new l(X,me,Re);throw qt(M,"Invalid left hand side of assignment operator =")}return _t}function ie(M){for(var X=oe(M);"xor"===M.token;)q(M),X=new h("xor","xor",[X,oe(M)]);return X}function oe(M){for(var X=pe(M);"and"===M.token;)q(M),X=new h("and","and",[X,pe(M)]);return X}function pe(M){for(var X=ue(M);"|"===M.token;)q(M),X=new h("|","bitOr",[X,ue(M)]);return X}function ue(M){for(var X=ce(M);"^|"===M.token;)q(M),X=new h("^|","bitXor",[X,ce(M)]);return X}function ce(M){for(var X=de(M);"&"===M.token;)q(M),X=new h("&","bitAnd",[X,de(M)]);return X}function de(M){for(var X=[be(M)],me=[],Re={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Ge(Re,M.token);)me.push({name:M.token,fn:Re[M.token]}),q(M),X.push(be(M));return 1===X.length?X[0]:2===X.length?new h(me[0].name,me[0].fn,X):new g(me.map(_t=>_t.fn),X)}function be(M){var X,me,Re,vt;X=Fe(M);for(var _t={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Ge(_t,M.token);)Re=_t[me=M.token],q(M),vt=[X,Fe(M)],X=new h(me,Re,vt);return X}function Fe(M){var X,me,Re,vt;X=Ue(M);for(var _t={to:"to",in:"to"};Ge(_t,M.token);)Re=_t[me=M.token],q(M),"in"===me&&""===M.token?X=new h("*","multiply",[X,new x("in")],!0):(vt=[X,Ue(M)],X=new h(me,Re,vt));return X}function Ue(M){var X,me=[];if(X=":"===M.token?new c(1):U(M),":"===M.token&&M.conditionalLevel!==M.nestingLevel){for(me.push(X);":"===M.token&&me.length<3;)q(M),me.push(")"===M.token||"]"===M.token||","===M.token||""===M.token?new x("end"):U(M));X=3===me.length?new y(me[0],me[2],me[1]):new y(me[0],me[1])}return X}function U(M){var X,me,Re,vt;X=j(M);for(var _t={"+":"add","-":"subtract"};Ge(_t,M.token);){Re=_t[me=M.token],q(M);var $i=j(M);vt=$i.isPercentage?[X,new h("*","multiply",[X,$i])]:[X,$i],X=new h(me,Re,vt)}return X}function j(M){var X,me,Re,vt;me=X=se(M);for(var _t={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};Ge(_t,M.token);)vt=_t[Re=M.token],q(M),me=se(M),X=new h(Re,vt,[X,me]);return X}function se(M){var X,me;for(me=X=H(M);M.tokenType===w.SYMBOL||"in"===M.token&&$t(X)||M.tokenType===w.NUMBER&&!$t(me)&&(!$r(me)||"!"===me.op)||"("===M.token;)me=H(M),X=new h("*","multiply",[X,me],!0);return X}function H(M){for(var X=Q(M),me=X,Re=[];"/"===M.token&&Wg(me);){if(Re.push(Xr({},M)),q(M),M.tokenType!==w.NUMBER){Xr(M,Re.pop());break}if(Re.push(Xr({},M)),q(M),M.tokenType!==w.SYMBOL&&"("!==M.token){Re.pop(),Xr(M,Re.pop());break}Xr(M,Re.pop()),Re.pop(),me=Q(M),X=new h("/","divide",[X,me])}return X}function Q(M){var X,me,Re,vt;X=ee(M);for(var _t={"%":"mod",mod:"mod"};Ge(_t,M.token);)Re=_t[me=M.token],q(M),"%"===me&&M.tokenType===w.DELIMITER&&"("!==M.token?X=new h("/","divide",[X,new c(100)],!1,!0):(vt=[X,ee(M)],X=new h(me,Re,vt));return X}function ee(M){var X,me,Re,vt={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Ge(vt,M.token)?(Re=vt[M.token],X=M.token,q(M),me=[ee(M)],new h(X,Re,me)):function ve(M){var X,me,Re,vt;return X=function ge(M){var X,me,Re;X=function Be(M){var X=[];if(M.tokenType===w.SYMBOL&&Ge(M.extraNodes,M.token)){var me=M.extraNodes[M.token];if(S(M),"("===M.token){if(X=[],F(M),S(M),")"!==M.token)for(X.push(z(M));","===M.token;)S(M),X.push(z(M));if(")"!==M.token)throw qt(M,"Parenthesis ) expected");K(M),S(M)}return new me(X)}return function xe(M){var me;return M.tokenType===w.SYMBOL||M.tokenType===w.DELIMITER&&M.token in A?(me=M.token,S(M),nt(M,Ge(C,me)?new c(C[me]):-1!==E.indexOf(me)?new c(r(me,"number")):new x(me))):function pt(M){var me;return'"'===M.token||"'"===M.token?(me=Yt(M,M.token),nt(M,new c(me))):function pr(M){var X,me,Re,vt;if("["===M.token){if(F(M),S(M),"]"!==M.token){var _t=Er(M);if(";"===M.token){for(Re=1,me=[_t];";"===M.token;)S(M),me[Re]=Er(M),Re++;if("]"!==M.token)throw qt(M,"End of matrix ] expected");K(M),S(M),vt=me[0].items.length;for(var $i=1;$i<Re;$i++)if(me[$i].items.length!==vt)throw xo(M,"Column dimensions mismatch ("+me[$i].items.length+" !== "+vt+")");X=new a(me)}else{if("]"!==M.token)throw qt(M,"End of matrix ] expected");K(M),S(M),X=_t}}else K(M),S(M),X=new a([]);return nt(M,X)}return function Un(M){if("{"===M.token){F(M);var X,me={};do{if(S(M),"}"!==M.token){if('"'===M.token||"'"===M.token)X=Yt(M,M.token);else{if(!(M.tokenType===w.SYMBOL||M.tokenType===w.DELIMITER&&M.token in A))throw qt(M,"Symbol or string expected as object key");X=M.token,S(M)}if(":"!==M.token)throw qt(M,"Colon : expected after object key");S(M),me[X]=z(M)}}while(","===M.token);if("}"!==M.token)throw qt(M,"Comma , or bracket } expected after object value");K(M),S(M);var Re=new p(me);return nt(M,Re)}return function Nn(M){var X;return M.tokenType===w.NUMBER?(X=M.token,S(M),new c(r(X,n.number))):function wo(M){var X;if("("===M.token){if(F(M),S(M),X=z(M),")"!==M.token)throw qt(M,"Parenthesis ) expected");return K(M),S(M),nt(M,X=new m(X))}return function ha(M){throw qt(M,""===M.token?"Unexpected end of expression":"Value expected")}(M)}(M)}(M)}(M)}(M)}(M)}(M)}(M);for(var _t={"!":"factorial","'":"ctranspose"};Ge(_t,M.token);)Re=_t[me=M.token],S(M),X=nt(M,X=new h(me,Re,[X]));return X}(M),("^"===M.token||".^"===M.token)&&(Re="^"===(me=M.token)?"pow":"dotPow",q(M),vt=[X,ee(M)],X=new h(me,Re,vt)),X}(M)}function nt(M,X,me){for(var Re;!("("!==M.token&&"["!==M.token&&"."!==M.token||me&&-1===me.indexOf(M.token));)if(Re=[],"("===M.token){if(!an(X)&&!Go(X))return X;if(F(M),S(M),")"!==M.token)for(Re.push(z(M));","===M.token;)S(M),Re.push(z(M));if(")"!==M.token)throw qt(M,"Parenthesis ) expected");K(M),S(M),X=new f(X,Re)}else if("["===M.token){if(F(M),S(M),"]"!==M.token)for(Re.push(z(M));","===M.token;)S(M),Re.push(z(M));if("]"!==M.token)throw qt(M,"Parenthesis ] expected");K(M),S(M),X=new i(X,new d(Re))}else{if(S(M),!(M.tokenType===w.SYMBOL||M.tokenType===w.DELIMITER&&M.token in A))throw qt(M,"Property name expected after dot");Re.push(new c(M.token)),S(M),X=new i(X,new d(Re,!0))}return X}function Yt(M,X){for(var me="";""!==R(M)&&R(M)!==X;)if("\\"===R(M)){k(M);var Re=R(M),vt=N[Re];if(void 0!==vt)me+=vt,M.index+=1;else{if("u"!==Re)throw qt(M,"Bad escape character \\".concat(Re));var _t=M.expression.slice(M.index+1,M.index+5);if(!/^[0-9A-Fa-f]{4}$/.test(_t))throw qt(M,"Invalid unicode character \\u".concat(_t));me+=String.fromCharCode(parseInt(_t,16)),M.index+=5}}else me+=R(M),k(M);if(S(M),M.token!==X)throw qt(M,"End of string ".concat(X," expected"));return S(M),me}function Er(M){for(var X=[z(M)],me=1;","===M.token;)S(M),X[me]=z(M),me++;return new a(X)}function Hi(M){return M.index-M.token.length+1}function qt(M,X){var me=Hi(M),Re=new SyntaxError(X+" (char "+me+")");return Re.char=me,Re}function xo(M,X){var me=Hi(M),Re=new SyntaxError(X+" (char "+me+")");return Re.char=me,Re}return v.isAlpha=function(X,me,Re){return v.isValidLatinOrGreek(X)||v.isValidMathSymbol(X,Re)||v.isValidMathSymbol(me,X)},v.isValidLatinOrGreek=function(X){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(X)},v.isValidMathSymbol=function(X,me){return/^[\uD835]$/.test(X)&&/^[\uDC00-\uDFFF]$/.test(me)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(me)},v.isWhitespace=function(X,me){return" "===X||"\t"===X||"\n"===X&&me>0},v.isDecimalMark=function(X,me){return"."===X&&"/"!==me&&"*"!==me&&"^"!==me},v.isDigitDot=function(X){return X>="0"&&X<="9"||"."===X},v.isDigit=function(X){return X>="0"&&X<="9"},v.isHexDigit=function(X){return X>="0"&&X<="9"||X>="a"&&X<="f"||X>="A"&&X<="F"},t.addConversion({from:"string",to:"Node",convert:v}),v}),SU=B("resolve",["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],e=>{var{typed:t,parse:r,ConstantNode:n,FunctionNode:i,OperatorNode:a,ParenthesisNode:o}=e;function s(u,c){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(!c)return u;if(an(u)){if(l.has(u.name)){var f=Array.from(l).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(f,"}"))}var d=c.get(u.name);if(ir(d)){var p=new Set(l);return p.add(u.name),s(d,c,p)}return"number"==typeof d?r(String(d)):void 0!==d?new n(d):u}if($r(u)){var h=u.args.map(function(y){return s(y,c,l)});return new a(u.op,u.fn,h,u.implicit)}if(Ia(u))return new o(s(u.content,c,l));if(oo(u)){var m=u.args.map(function(y){return s(y,c,l)});return new i(u.name,m)}return u.map(y=>s(y,c,l))}return t("resolve",{Node:s,"Node, Map | null | undefined":s,"Node, Object":(u,c)=>s(u,mu(c)),"Array | Matrix":t.referToSelf(u=>c=>c.map(l=>u(l))),"Array | Matrix, null | undefined":t.referToSelf(u=>c=>c.map(l=>u(l))),"Array, Object":t.referTo("Array,Map",u=>(c,l)=>u(c,mu(l))),"Matrix, Object":t.referTo("Matrix,Map",u=>(c,l)=>u(c,mu(l))),"Array | Matrix, Map":t.referToSelf(u=>(c,l)=>c.map(f=>u(f,l)))})});function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function c0(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(n){Kr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var l0=B("simplifyUtil",["FunctionNode","OperatorNode","SymbolNode"],e=>{var{FunctionNode:t,OperatorNode:r,SymbolNode:n}=e,i=!0,a=!1,o="defaultF",s={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}};function l(v,D){var w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,b=o;if("string"==typeof v?b=v:$r(v)?b=v.fn.toString():oo(v)?b=v.name:Ia(v)&&(b="paren"),Ge(w,b)){var A=w[b];if(Ge(A,D))return A[D];if(Ge(s,b))return s[b][D]}if(Ge(w,o)){var C=w[o];return Ge(C,D)?C[D]:s[o][D]}if(Ge(s,b)){var E=s[b];if(Ge(E,D))return E[D]}return s[o][D]}function d(v){return l(v,"associative",arguments.length>1&&void 0!==arguments[1]?arguments[1]:s)}function m(v,D){var w,b=[];return d(v,D)?(w=v.op,function C(E){for(var N=0;N<E.args.length;N++){var _=E.args[N];$r(_)&&w===_.op?C(_):b.push(_)}}(v),b):v.args}function x(v){return $r(v)?function(D){try{return new r(v.op,v.fn,D,v.implicit)}catch(w){return console.error(w),[]}}:function(D){return new t(new n(v.name),D)}}return{createMakeNodeFunction:x,hasProperty:l,isCommutative:function f(v){return l(v,"commutative",arguments.length>1&&void 0!==arguments[1]?arguments[1]:s)},isAssociative:d,mergeContext:function p(v,D){var w=c0({},v);for(var b in D)w[b]=Ge(v,b)?c0(c0({},D[b]),v[b]):D[b];return w},flatten:function h(v,D){if(!v.args||0===v.args.length)return v;v.args=m(v,D);for(var w=0;w<v.args.length;w++)h(v.args[w],D)},allChildren:m,unflattenr:function y(v,D){if(v.args&&0!==v.args.length){for(var w=x(v),b=v.args.length,A=0;A<b;A++)y(v.args[A],D);if(b>2&&d(v,D)){for(var C=v.args.pop();v.args.length>0;)C=w([v.args.pop(),C]);v.args=C.args}}},unflattenl:function g(v,D){if(v.args&&0!==v.args.length){for(var w=x(v),b=v.args.length,A=0;A<b;A++)g(v.args[A],D);if(b>2&&d(v,D)){for(var C=v.args.shift();v.args.length>0;)C=w([C,v.args.shift()]);v.args=C.args}}},defaultContext:s,realContext:{divide:{total:a},log:{total:a}},positiveContext:{subtract:{total:a},abs:{trivial:i},log:{total:i}}}});function f0(){throw new Error('No "bignumber" implementation available')}function rA(){throw new Error('No "fraction" implementation available')}function nA(){throw new Error('No "matrix" implementation available')}var FU=B("simplifyConstant",["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],e=>{var{typed:t,config:r,mathWithTransform:n,matrix:i,fraction:a,bignumber:o,AccessorNode:s,ArrayNode:u,ConstantNode:c,FunctionNode:l,IndexNode:f,ObjectNode:d,OperatorNode:p,SymbolNode:h}=e,{isCommutative:m,isAssociative:y,allChildren:g,createMakeNodeFunction:x}=l0({FunctionNode:l,OperatorNode:p,SymbolNode:h}),v=t("simplifyConstant",{Node:P=>A(k(P,{})),"Node, Object":function(T,S){return A(k(T,S))}});function D(P){return il(P)?P.valueOf():P instanceof Array?P.map(D):Je(P)?i(D(P.valueOf())):P}function w(P,T,S){try{return n[P].apply(null,T)}catch{return T=T.map(D),E(n[P].apply(null,T),S)}}var b=t({Fraction:function _(P){var T,S=P.s*P.n;return T=S<0?new p("-","unaryMinus",[new c(-S)]):new c(S),1===P.d?T:new p("/","divide",[T,new c(P.d)])},number:function(T){return T<0?N(new c(-T)):new c(T)},BigNumber:function(T){return T<0?N(new c(-T)):new c(T)},Complex:function(T){throw new Error("Cannot convert Complex number to Node")},string:function(T){return new c(T)},Matrix:function(T){return new u(T.valueOf().map(S=>b(S)))}});function A(P){return ir(P)?P:b(P)}function C(P,T){if(T&&!1!==T.exactFractions&&isFinite(P)&&a){var q=a(P),F=T&&"number"==typeof T.fractionsLimit?T.fractionsLimit:1/0;if(q.valueOf()===P&&q.n<F&&q.d<F)return q}return P}var E=t({"string, Object":function(T,S){return"BigNumber"===r.number?(void 0===o&&f0(),o(T)):"Fraction"===r.number?(void 0===a&&rA(),a(T)):C(parseFloat(T),S)},"Fraction, Object":function(T,S){return T},"BigNumber, Object":function(T,S){return T},"number, Object":function(T,S){return C(T,S)},"Complex, Object":function(T,S){return 0!==T.im?T:C(T.re,S)},"Matrix, Object":function(T,S){return i(C(T.valueOf()))},"Array, Object":function(T,S){return T.map(C)}});function N(P){return new p("-","unaryMinus",[P])}function R(P,T,S,q){var F=T.shift(),K=T.reduce((ne,Y)=>{if(!ir(Y)){var z=ne.pop();if(ir(z))return[z,Y];try{return ne.push(w(P,[z,Y],q)),ne}catch{ne.push(z)}}ne.push(A(ne.pop()));var re=1===ne.length?ne[0]:S(ne);return[S([re,A(Y)])]},[F]);return 1===K.length?K[0]:S([K[0],b(K[1])])}function k(P,T){switch(P.type){case"SymbolNode":return P;case"ConstantNode":switch(typeof P.value){case"number":return E(P.value,T);case"string":return P.value;default:if(!isNaN(P.value))return E(P.value,T)}return P;case"FunctionNode":if(n[P.name]&&n[P.name].rawArgs)return P;if(-1===["add","multiply"].indexOf(P.name)){var q=P.args.map(de=>k(de,T));if(!q.some(ir))try{return w(P.name,q,T)}catch{}if("size"===P.name&&1===q.length&&gi(q[0])){for(var F=[],K=q[0];gi(K);)F.push(K.items.length),K=K.items[0];return i(F)}return new l(P.name,q.map(A))}case"OperatorNode":var Y,z,ne=P.fn.toString(),re=x(P);if($r(P)&&P.isUnary())z=ir((Y=[k(P.args[0],T)])[0])?re(Y):w(ne,Y,T);else if(y(P,T.context))if(Y=(Y=g(P,T.context)).map(de=>k(de,T)),m(ne,T.context)){for(var he=[],ie=[],oe=0;oe<Y.length;oe++)ir(Y[oe])?ie.push(Y[oe]):he.push(Y[oe]);he.length>1?(z=R(ne,he,re,T),ie.unshift(z),z=R(ne,ie,re,T)):z=R(ne,Y,re,T)}else z=R(ne,Y,re,T);else z=R(ne,Y=P.args.map(de=>k(de,T)),re,T);return z;case"ParenthesisNode":return k(P.content,T);case"AccessorNode":return function I(P,T,S){if(!fu(T))return new s(A(P),A(T));if(gi(P)||Je(P)){for(var q=Array.from(T.dimensions);q.length>0;)if($t(q[0])&&"string"!=typeof q[0].value){var F=E(q.shift().value,S);gi(P)?P=P.items[F-1]:(P=P.valueOf()[F-1])instanceof Array&&(P=i(P))}else{if(!(q.length>1&&$t(q[1])&&"string"!=typeof q[1].value))break;var K=E(q[1].value,S),ne=[],Y=gi(P)?P.items:P.valueOf();for(var z of Y)if(gi(z))ne.push(z.items[K-1]);else{if(!Je(P))break;ne.push(z[K-1])}if(ne.length!==Y.length)break;P=gi(P)?new u(ne):i(ne),q.splice(1,1)}return q.length===T.dimensions.length?new s(A(P),T):q.length>0?(T=new f(q),new s(A(P),T)):P}if(Bd(P)&&1===T.dimensions.length&&$t(T.dimensions[0])){var re=T.dimensions[0].value;return re in P.properties?P.properties[re]:new c}return new s(A(P),T)}(k(P.object,T),k(P.index,T),T);case"ArrayNode":var pe=P.items.map(de=>k(de,T));return pe.some(ir)?new u(pe.map(A)):i(pe);case"IndexNode":return new f(P.dimensions.map(de=>v(de,T)));case"ObjectNode":var ue={};for(var ce in P.properties)ue[ce]=v(P.properties[ce],T);return new d(ue);default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(P.type))}}return v}),iA="compile",RU=B(iA,["typed","parse"],e=>{var{typed:t,parse:r}=e;return t(iA,{string:function(i){return r(i).compile()},"Array | Matrix":function(i){return At(i,function(a){return r(a).compile()})}})}),LU=B("Help",["parse"],e=>{var{parse:t}=e;function r(n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return r.prototype.type="Help",r.prototype.isHelp=!0,r.prototype.toString=function(){var n=this.doc||{},i="\n";if(n.name&&(i+="Name: "+n.name+"\n\n"),n.category&&(i+="Category: "+n.category+"\n\n"),n.description&&(i+="Description:\n    "+n.description+"\n\n"),n.syntax&&(i+="Syntax:\n    "+n.syntax.join("\n    ")+"\n\n"),n.examples){i+="Examples:\n";for(var a={},o=0;o<n.examples.length;o++){var s=n.examples[o];i+="    "+s+"\n";var u=void 0;try{u=t(s).compile().evaluate(a)}catch(c){u=c}void 0!==u&&!gC(u)&&(i+="        "+Nt(u,{precision:14})+"\n")}i+="\n"}return n.mayThrow&&n.mayThrow.length&&(i+="Throws: "+n.mayThrow.join(", ")+"\n\n"),n.seealso&&n.seealso.length&&(i+="See also: "+n.seealso.join(", ")+"\n"),i},r.prototype.toJSON=function(){var n=ct(this.doc);return n.mathjs="Help",n},r.fromJSON=function(n){var i={};return Object.keys(n).filter(a=>"mathjs"!==a).forEach(a=>{i[a]=n[a]}),new r(i)},r.prototype.valueOf=r.prototype.toString,r},{isClass:!0}),aA="leafCount",zU=B(aA,["parse","typed"],e=>{var{typed:r}=e;function n(i){var a=0;return i.forEach(o=>{a+=n(o)}),a||1}return r(aA,{Node:function(a){return n(a)}})}),oA="simplifyCore",qU=B(oA,["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],e=>{var{typed:t,equal:n,isZero:i,AccessorNode:l,ArrayNode:f,ConstantNode:d,FunctionNode:p,IndexNode:h,ObjectNode:m,OperatorNode:y,SymbolNode:x}=e,v=new d(0),D=new d(1),w=new d(!0),b=new d(!1);function A(_){return $r(_)&&["and","not","or"].includes(_.op)}var{hasProperty:C,isCommutative:E}=l0({FunctionNode:p,OperatorNode:y,SymbolNode:x});function N(_){var I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},R=I?I.context:void 0;if(C(_,"trivial",R)){if(oo(_)&&1===_.args.length)return N(_.args[0],I);var k=!1,P=0;if(_.forEach(ie=>{1==++P&&(k=N(ie,I))}),1===P)return k}var T=_;if(oo(T)){var S=function Bz(e){var t="OperatorNode:"+e;for(var r of Ri)if(t in r)return r[t].op;return null}(T.name);if(!S)return new p(N(T.fn),T.args.map(ie=>N(ie,I)));if(T.args.length>2&&C(T,"associative",R))for(;T.args.length>2;){var q=T.args.pop(),F=T.args.pop();T.args.push(new y(S,T.name,[q,F]))}T=new y(S,T.name,T.args)}if($r(T)&&T.isUnary()){var K=N(T.args[0],I);if("~"===T.op&&$r(K)&&K.isUnary()&&"~"===K.op||"not"===T.op&&$r(K)&&K.isUnary()&&"not"===K.op&&A(K.args[0]))return K.args[0];var ne=!0;if("-"===T.op&&$r(K)&&(K.isBinary()&&"subtract"===K.fn&&(T=new y("-","subtract",[K.args[1],K.args[0]]),ne=!1),K.isUnary()&&"-"===K.op))return K.args[0];if(ne)return new y(T.op,T.fn,[K])}if($r(T)&&T.isBinary()){var Y=N(T.args[0],I),z=N(T.args[1],I);if("+"===T.op){if($t(Y)&&i(Y.value))return z;if($t(z)&&i(z.value))return Y;$r(z)&&z.isUnary()&&"-"===z.op&&(T=new y("-","subtract",[Y,z=z.args[0]]))}if("-"===T.op)return $r(z)&&z.isUnary()&&"-"===z.op?N(new y("+","add",[Y,z.args[0]]),I):$t(Y)&&i(Y.value)?N(new y("-","unaryMinus",[z])):$t(z)&&i(z.value)?Y:new y(T.op,T.fn,[Y,z]);if("*"===T.op){if($t(Y)){if(i(Y.value))return v;if(n(Y.value,1))return z}if($t(z)){if(i(z.value))return v;if(n(z.value,1))return Y;if(E(T,R))return new y(T.op,T.fn,[z,Y],T.implicit)}return new y(T.op,T.fn,[Y,z],T.implicit)}if("/"===T.op)return $t(Y)&&i(Y.value)?v:$t(z)&&n(z.value,1)?Y:new y(T.op,T.fn,[Y,z]);if("^"===T.op&&$t(z)){if(i(z.value))return D;if(n(z.value,1))return Y}if("and"===T.op){if($t(Y)){if(!Y.value)return b;if(A(z))return z}if($t(z)){if(!z.value)return b;if(A(Y))return Y}}if("or"===T.op){if($t(Y)){if(Y.value)return w;if(A(z))return z}if($t(z)){if(z.value)return w;if(A(Y))return Y}}return new y(T.op,T.fn,[Y,z])}if($r(T))return new y(T.op,T.fn,T.args.map(ie=>N(ie,I)));if(gi(T))return new f(T.items.map(ie=>N(ie,I)));if(Go(T))return new l(N(T.object,I),N(T.index,I));if(fu(T))return new h(T.dimensions.map(ie=>N(ie,I)));if(Bd(T)){var re={};for(var he in T.properties)re[he]=N(T.properties[he],I);return new m(re)}return T}return t(oA,{Node:N,"Node,Object":N})}),sA="evaluate",HU=B(sA,["typed","parse"],e=>{var{typed:t,parse:r}=e;return t(sA,{string:function(i){var a=pu();return r(i).compile().evaluate(a)},"string, Map | Object":function(i,a){return r(i).compile().evaluate(a)},"Array | Matrix":function(i){var a=pu();return At(i,function(o){return r(o).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(i,a){return At(i,function(o){return r(o).compile().evaluate(a)})}})}),uA={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},cA={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},hj={bignumber:{name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]},boolean:{name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complex:{name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnit:{name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fraction:{name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},index:{name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},matrix:{name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},number:{name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]},sparse:{name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnit:{name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},string:{name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unit:{name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},e:uA,E:uA,false:{name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},i:{name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Infinity:{name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN2:{name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LN10:{name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LOG2E:{name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},LOG10E:{name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},NaN:{name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},null:{name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},pi:cA,PI:cA,phi:{name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},SQRT1_2:{name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2:{name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tau:{name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},true:{name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},version:{name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:{name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},lsolve:{name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},lsolveAll:{name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},lup:{name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolve:{name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},leafCount:{name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},polynomialRoot:{name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},resolve:{name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},simplify:{name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},simplifyConstant:{name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},simplifyCore:{name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},symbolicEqual:{name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},rationalize:{name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},slu:{name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},usolve:{name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},usolveAll:{name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},qr:{name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},abs:{name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},add:{name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrt:{name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceil:{name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]},cube:{name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divide:{name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivide:{name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiply:{name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPow:{name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},exp:{name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expm:{name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1:{name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fix:{name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]},floor:{name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]},gcd:{name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypot:{name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},lcm:{name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},log:{name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log2:{name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},log1p:{name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log10:{name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},mod:{name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiply:{name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},norm:{name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRoot:{name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRoots:{name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},pow:{name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},round:{name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]},sign:{name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrt:{name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtm:{name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},square:{name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtract:{name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinus:{name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlus:{name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcd:{name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},invmod:{name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},bitAnd:{name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNot:{name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOr:{name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXor:{name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShift:{name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShift:{name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShift:{name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbers:{name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalan:{name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},composition:{name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2:{name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},config:{name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},import:{name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typed:{name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},arg:{name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conj:{name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},re:{name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},im:{name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},evaluate:{name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]},help:{name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},distance:{name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersect:{name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},and:{name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},not:{name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},or:{name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xor:{name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},concat:{name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},count:{name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},cross:{name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},column:{name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},ctranspose:{name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},det:{name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diag:{name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diff:{name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},dot:{name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},getMatrixDataType:{name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identity:{name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},filter:{name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flatten:{name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEach:{name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},inv:{name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},pinv:{name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},eigs:{name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]},kron:{name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},matrixFromFunction:{name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},matrixFromRows:{name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},matrixFromColumns:{name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},map:{name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]},ones:{name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelect:{name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},range:{name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},resize:{name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},reshape:{name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},rotate:{name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},rotationMatrix:{name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},row:{name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},size:{name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sort:{name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeeze:{name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subset:{name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},trace:{name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transpose:{name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zeros:{name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},fft:{name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},ifft:{name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},sylvester:{name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},schur:{name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},lyap:{name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},solveODE:{name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},combinations:{name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRep:{name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorial:{name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gamma:{name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},kldivergence:{name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},lgamma:{name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},multinomial:{name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutations:{name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandom:{name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},random:{name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomInt:{name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compare:{name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNatural:{name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareText:{name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqual:{name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equal:{name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalText:{name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},larger:{name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEq:{name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smaller:{name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEq:{name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequal:{name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesian:{name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifference:{name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinct:{name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersect:{name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubset:{name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicity:{name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowerset:{name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSize:{name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifference:{name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnion:{name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},zpk2tf:{name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},freqz:{name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},erf:{name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},zeta:{name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemanns Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},cumsum:{name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},mad:{name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},max:{name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},mean:{name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},median:{name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},min:{name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},mode:{name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prod:{name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeq:{name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},std:{name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},sum:{name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},variance:{name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},corr:{name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},acos:{name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acosh:{name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acot:{name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acoth:{name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acsc:{name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acsch:{name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asec:{name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asech:{name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asin:{name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinh:{name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atan:{name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atanh:{name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},atan2:{name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},cos:{name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},cosh:{name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cot:{name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},coth:{name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},csc:{name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},csch:{name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},sec:{name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sech:{name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sin:{name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinh:{name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tan:{name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanh:{name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},to:{name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},clone:{name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},format:{name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},bin:{name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},oct:{name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},hex:{name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},isNaN:{name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isInteger:{name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegative:{name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumeric:{name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},hasNumericValue:{name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},isPositive:{name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrime:{name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZero:{name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},print:{name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},typeOf:{name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},numeric:{name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","fraction","bignumber","string","format"]}},gj=B("help",["typed","mathWithTransform","Help"],e=>{var{typed:t,mathWithTransform:r,Help:n}=e;return t("help",{any:function(a){var o,s=a;if("string"!=typeof a)for(o in r)if(Ge(r,o)&&a===r[o]){s=o;break}var u=On(hj,s);if(!u)throw new Error('No documentation found on "'+("function"==typeof s?s.name:s)+'"');return new n(u)}})}),Dj=B("Parser",["evaluate"],e=>{var{evaluate:t}=e;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:pu(),writable:!1})}return r.prototype.type="Parser",r.prototype.isParser=!0,r.prototype.evaluate=function(n){return t(n,this.scope)},r.prototype.get=function(n){if(this.scope.has(n))return this.scope.get(n)},r.prototype.getAll=function(){return function oz(e){if(e instanceof Qg)return e.wrappedObject;var t={};for(var r of e.keys())du(t,r,e.get(r));return t}(this.scope)},r.prototype.getAllAsMap=function(){return this.scope},r.prototype.set=function(n,i){return this.scope.set(n,i),i},r.prototype.remove=function(n){this.scope.delete(n)},r.prototype.clear=function(){this.scope.clear()},r},{isClass:!0});function fA(e){return $t(e)||$r(e)&&e.isUnary()&&$t(e.args[0])}function up(e){return!!($t(e)||(oo(e)||$r(e))&&e.args.every(up)||Ia(e)&&up(e.content))}var Ej=B("simplify",["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],e=>{var{typed:r,parse:n,equal:l,resolve:f,simplifyConstant:d,simplifyCore:p,AccessorNode:x,ArrayNode:v,ConstantNode:D,FunctionNode:w,IndexNode:b,ObjectNode:A,OperatorNode:C,ParenthesisNode:E,SymbolNode:N}=e,{hasProperty:_,isCommutative:I,isAssociative:R,mergeContext:k,flatten:P,unflattenr:T,unflattenl:S,createMakeNodeFunction:q,defaultContext:F,realContext:K,positiveContext:ne}=l0({FunctionNode:w,OperatorNode:C,SymbolNode:N});r.addConversion({from:"Object",to:"Map",convert:mu});var Y=r("simplify",{Node:ue,"Node, Map":(H,Q)=>ue(H,!1,Q),"Node, Map, Object":(H,Q,ee)=>ue(H,!1,Q,ee),"Node, Array":ue,"Node, Array, Map":ue,"Node, Array, Map, Object":ue});function z(H){return H.transform(function(Q,ee,ve){return Ia(Q)?z(Q.content):Q})}r.removeConversion({from:"Object",to:"Map",convert:mu}),Y.defaultContext=F,Y.realContext=K,Y.positiveContext=ne;var re={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};function he(H,Q){var ee={};if(H.s){var ve=H.s.split("->");if(2!==ve.length)throw SyntaxError("Could not parse rule: "+H.s);ee.l=ve[0],ee.r=ve[1]}else ee.l=H.l,ee.r=H.r;for(var ge of(ee.l=z(n(ee.l)),ee.r=z(n(ee.r)),["imposeContext","repeat","assuming"]))ge in H&&(ee[ge]=H[ge]);if(H.evaluate&&(ee.evaluate=n(H.evaluate)),R(ee.l,Q)){var xe,Be=!I(ee.l,Q);Be&&(xe=pe());var nt=q(ee.l),pt=pe();ee.expanded={},ee.expanded.l=nt([ee.l,pt]),P(ee.expanded.l,Q),T(ee.expanded.l,Q),ee.expanded.r=nt([ee.r,pt]),Be&&(ee.expandedNC1={},ee.expandedNC1.l=nt([xe,ee.l]),ee.expandedNC1.r=nt([xe,ee.r]),ee.expandedNC2={},ee.expandedNC2.l=nt([xe,ee.expanded.l]),ee.expandedNC2.r=nt([xe,ee.expanded.r]))}return ee}Y.rules=[p,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},d,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},d,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];var oe=0;function pe(){return new N("_p"+oe++)}function ue(H,Q){var ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pu(),ve=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},ge=ve.consoleDebug;Q=function ie(H,Q){for(var ee=[],ve=0;ve<H.length;ve++){var ge=H[ve],Be=void 0,xe=typeof ge;switch(xe){case"string":ge={s:ge};case"object":Be=he(ge,Q);break;case"function":Be=ge;break;default:throw TypeError("Unsupported type of rule: "+xe)}ee.push(Be)}return ee}(Q||Y.rules,ve.context);for(var Be=f(H,ee),xe={},nt=(Be=z(Be)).toString({parenthesis:"all"});!xe[nt];){xe[nt]=!0,oe=0;var pt=nt;ge&&console.log("Working on: ",nt);for(var Yt=0;Yt<Q.length;Yt++){var pr="";if("function"==typeof Q[Yt]?(Be=Q[Yt](Be,ve),ge&&(pr=Q[Yt].name)):(P(Be,ve.context),Be=de(Be,Q[Yt],ve.context),ge&&(pr="".concat(Q[Yt].l.toString()," -> ").concat(Q[Yt].r.toString()))),ge){var Er=Be.toString({parenthesis:"all"});Er!==pt&&(console.log("Applying",pr,"produced",Er),pt=Er)}S(Be,ve.context)}nt=Be.toString({parenthesis:"all"})}return Be}function ce(H,Q,ee){var ve=H;if(H)for(var ge=0;ge<H.length;++ge){var Be=de(H[ge],Q,ee);Be!==H[ge]&&(ve===H&&(ve=H.slice()),ve[ge]=Be)}return ve}function de(H,Q,ee){if(Q.assuming)for(var ve in Q.assuming)for(var ge in Q.assuming[ve])if(_(ve,ge,ee)!==Q.assuming[ve][ge])return H;var Be=k(Q.imposeContext,ee),xe=H;if(xe instanceof C||xe instanceof w){var nt=ce(xe.args,Q,ee);nt!==xe.args&&((xe=xe.clone()).args=nt)}else if(xe instanceof E){if(xe.content){var pt=de(xe.content,Q,ee);pt!==xe.content&&(xe=new E(pt))}}else if(xe instanceof v){var Yt=ce(xe.items,Q,ee);Yt!==xe.items&&(xe=new v(Yt))}else if(xe instanceof x){var pr=xe.object;xe.object&&(pr=de(xe.object,Q,ee));var Er=xe.index;xe.index&&(Er=de(xe.index,Q,ee)),(pr!==xe.object||Er!==xe.index)&&(xe=new x(pr,Er))}else if(xe instanceof b){var Un=ce(xe.dimensions,Q,ee);Un!==xe.dimensions&&(xe=new b(Un))}else if(xe instanceof A){var Nn=!1,wo={};for(var ha in xe.properties)wo[ha]=de(xe.properties[ha],Q,ee),wo[ha]!==xe.properties[ha]&&(Nn=!0);Nn&&(xe=new A(wo))}var Hi=Q.r,qt=j(Q.l,xe,Be)[0];if(!qt&&Q.expanded&&(Hi=Q.expanded.r,qt=j(Q.expanded.l,xe,Be)[0]),!qt&&Q.expandedNC1&&(Hi=Q.expandedNC1.r,(qt=j(Q.expandedNC1.l,xe,Be)[0])||(Hi=Q.expandedNC2.r,qt=j(Q.expandedNC2.l,xe,Be)[0])),qt){var xo=xe.implicit;xe=Hi.clone(),xo&&"implicit"in Hi&&(xe.implicit=!0),xe=xe.transform(function(M){return M.isSymbolNode&&Ge(qt.placeholders,M.name)?qt.placeholders[M.name].clone():M})}return Q.repeat&&xe!==H&&(xe=de(xe,Q,ee)),xe}function Fe(H,Q){var ee={placeholders:{}};if(!H.placeholders&&!Q.placeholders)return ee;if(!H.placeholders)return Q;if(!Q.placeholders)return H;for(var ve in H.placeholders)if(Ge(H.placeholders,ve)&&(ee.placeholders[ve]=H.placeholders[ve],Ge(Q.placeholders,ve)&&!se(H.placeholders[ve],Q.placeholders[ve])))return null;for(var ge in Q.placeholders)Ge(Q.placeholders,ge)&&(ee.placeholders[ge]=Q.placeholders[ge]);return ee}function Ue(H,Q){var ee=[];if(0===H.length||0===Q.length)return ee;for(var ve,ge=0;ge<H.length;ge++)for(var Be=0;Be<Q.length;Be++)(ve=Fe(H[ge],Q[Be]))&&ee.push(ve);return ee}function j(H,Q,ee,ve){var ge=[{placeholders:{}}];if(H instanceof C&&Q instanceof C||H instanceof w&&Q instanceof w){if(H instanceof C){if(H.op!==Q.op||H.fn!==Q.fn)return[]}else if(H instanceof w&&H.name!==Q.name)return[];if(!(1===Q.args.length&&1===H.args.length||!R(Q,ee)&&Q.args.length===H.args.length||ve)){if(Q.args.length>=2&&2===H.args.length){for(var pr=function be(H,Q){var ve,ge,ee=[],Be=q(H);if(I(H,Q))for(var xe=0;xe<H.args.length;xe++)(ge=H.args.slice(0)).splice(xe,1),ve=1===ge.length?ge[0]:Be(ge),ee.push(Be([H.args[xe],ve]));else for(var nt=1;nt<H.args.length;nt++){var pt=H.args[0];nt>1&&(pt=Be(H.args.slice(0,nt))),ve=1===(ge=H.args.slice(nt)).length?ge[0]:Be(ge),ee.push(Be([pt,ve]))}return ee}(Q,ee),Er=[],Un=0;Un<pr.length;Un++){var Nn=j(H,pr[Un],ee,!0);Er=Er.concat(Nn)}return Er}if(H.args.length>2)throw Error("Unexpected non-binary associative function: "+H.toString());return[]}for(var Be=[],xe=0;xe<H.args.length;xe++){var nt=j(H.args[xe],Q.args[xe],ee);if(0===nt.length)break;Be.push(nt)}if(Be.length!==H.args.length){if(!I(Q,ee)||1===H.args.length)return[];if(H.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var pt=j(H.args[0],Q.args[1],ee);if(0===pt.length)return[];var Yt=j(H.args[1],Q.args[0],ee);if(0===Yt.length)return[];Be=[pt,Yt]}ge=function U(H){if(0===H.length)return H;for(var Q=H.reduce(Ue),ee=[],ve={},ge=0;ge<Q.length;ge++){var Be=JSON.stringify(Q[ge]);ve[Be]||(ve[Be]=!0,ee.push(Q[ge]))}return ee}(Be)}else if(H instanceof N){if(0===H.name.length)throw new Error("Symbol in rule has 0 length...!?");if(re[H.name]){if(H.name!==Q.name)return[]}else switch(H.name[1]>="a"&&H.name[1]<="z"?H.name.substring(0,2):H.name[0]){case"n":case"_p":ge[0].placeholders[H.name]=Q;break;case"c":case"cl":if(!$t(Q))return[];ge[0].placeholders[H.name]=Q;break;case"v":if($t(Q))return[];ge[0].placeholders[H.name]=Q;break;case"vl":if(!an(Q))return[];ge[0].placeholders[H.name]=Q;break;case"cd":if(!fA(Q))return[];ge[0].placeholders[H.name]=Q;break;case"vd":if(fA(Q))return[];ge[0].placeholders[H.name]=Q;break;case"ce":if(!up(Q))return[];ge[0].placeholders[H.name]=Q;break;case"ve":if(up(Q))return[];ge[0].placeholders[H.name]=Q;break;default:throw new Error("Invalid symbol in rule: "+H.name)}}else{if(!(H instanceof D))return[];if(!l(H.value,Q.value))return[]}return ge}function se(H,Q){if(H instanceof D&&Q instanceof D){if(!l(H.value,Q.value))return!1}else if(H instanceof N&&Q instanceof N){if(H.name!==Q.name)return!1}else{if(!(H instanceof C&&Q instanceof C||H instanceof w&&Q instanceof w))return!1;if(H instanceof C){if(H.op!==Q.op||H.fn!==Q.fn)return!1}else if(H instanceof w&&H.name!==Q.name)return!1;if(H.args.length!==Q.args.length)return!1;for(var ee=0;ee<H.args.length;ee++)if(!se(H.args[ee],Q.args[ee]))return!1}return!0}return Y}),dA="symbolicEqual",Cj=B(dA,["parse","simplify","typed","OperatorNode"],e=>{var{simplify:r,typed:n,OperatorNode:i}=e;function a(o,s){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=new i("-","subtract",[o,s]),l=r(c,{},u);return $t(l)&&!l.value}return n(dA,{"Node, Node":a,"Node, Node, Object":a})}),Sj=B("parser",["typed","Parser"],e=>{var{typed:t,Parser:r}=e;return t("parser",{"":function(){return new r}})}),mA="rationalize",_j=B(mA,["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],e=>{var{typed:r,simplifyConstant:f,simplifyCore:d,simplify:p,ConstantNode:D,OperatorNode:C,SymbolNode:E}=e;function _(T){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},q=arguments.length>2&&void 0!==arguments[2]&&arguments[2],F=function R(){var T=[d,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},f,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],S=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],F=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],K={};return K.firstRules=T.concat(S,F),K.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],K.sucDivRules=F,K.firstRulesAgain=T.concat(S),K.finalRules=[d,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},f,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],K}(),K=function I(T,S,q,F){var K=[],ne=p(T,F,S,{exactFractions:!1}),Y="+-*"+((q=!!q)?"/":"");!function re(he){var ie=he.type;if("FunctionNode"===ie)throw new Error("There is an unsolved function call");if("OperatorNode"===ie)if("^"===he.op){if("ConstantNode"!==he.args[1].type||!We(parseFloat(he.args[1].value)))throw new Error("There is a non-integer exponent");re(he.args[0])}else{if(-1===Y.indexOf(he.op))throw new Error("Operator "+he.op+" invalid in polynomial expression");for(var oe=0;oe<he.args.length;oe++)re(he.args[oe])}else if("SymbolNode"===ie){var pe=he.name;-1===K.indexOf(pe)&&K.push(pe)}else if("ParenthesisNode"===ie)re(he.content);else if("ConstantNode"!==ie)throw new Error("type "+ie+" is not allowed in polynomial expression")}(ne);var z={};return z.expression=ne,z.variables=K,z}(T,S,!0,F.firstRules),ne=K.variables.length,Y={exactFractions:!1},z={exactFractions:!0};if(T=K.expression,ne>=1){T=k(T);var re,he,pe,ie=!0,oe=!1;for(T=p(T,F.firstRules,{},Y);he=ie?F.distrDivRules:F.sucDivRules,ie=!ie,(pe=(T=p(T,he,{},z)).toString())!==re;)oe=!0,re=pe;oe&&(T=p(T,F.firstRulesAgain,{},Y)),T=p(T,F.finalRules,{},Y)}var ue=[],ce={};return"OperatorNode"===T.type&&T.isBinary()&&"/"===T.op?(1===ne&&(T.args[0]=P(T.args[0],ue),T.args[1]=P(T.args[1])),q&&(ce.numerator=T.args[0],ce.denominator=T.args[1])):(1===ne&&(T=P(T,ue)),q&&(ce.numerator=T,ce.denominator=null)),q?(ce.coefficients=ue,ce.variables=K.variables,ce.expression=T,ce):T}return r(mA,{Node:_,"Node, boolean":(T,S)=>_(T,{},S),"Node, Object":_,"Node, Object, boolean":_});function k(T,S,q){var F=T.type,K=arguments.length>1;if("OperatorNode"===F&&T.isBinary()){var Y,ne=!1;if("^"===T.op&&("ParenthesisNode"===T.args[0].type||"OperatorNode"===T.args[0].type)&&"ConstantNode"===T.args[1].type&&(ne=(Y=parseFloat(T.args[1].value))>=2&&We(Y)),ne){if(Y>2){var z=T.args[0],re=new C("^","pow",[T.args[0].cloneDeep(),new D(Y-1)]);T=new C("*","multiply",[z,re])}else T=new C("*","multiply",[T.args[0],T.args[0].cloneDeep()]);K&&("content"===q?S.content=T:S.args[q]=T)}}if("ParenthesisNode"===F)k(T.content,T,"content");else if("ConstantNode"!==F&&"SymbolNode"!==F)for(var he=0;he<T.args.length;he++)k(T.args[he],T,he);if(!K)return T}function P(T,S){void 0===S&&(S=[]),S[0]=0;var F=0,K="";!function pe(ue,ce,de){var be=ue.type;if("FunctionNode"===be)throw new Error("There is an unsolved function call");if("OperatorNode"===be){if(-1==="+-*^".indexOf(ue.op))throw new Error("Operator "+ue.op+" invalid");if(null!==ce){if(("unaryMinus"===ue.fn||"pow"===ue.fn)&&"add"!==ce.fn&&"subtract"!==ce.fn&&"multiply"!==ce.fn)throw new Error("Invalid "+ue.op+" placing");if(("subtract"===ue.fn||"add"===ue.fn||"multiply"===ue.fn)&&"add"!==ce.fn&&"subtract"!==ce.fn)throw new Error("Invalid "+ue.op+" placing");if(("subtract"===ue.fn||"add"===ue.fn||"unaryMinus"===ue.fn)&&0!==de.noFil)throw new Error("Invalid "+ue.op+" placing")}("^"===ue.op||"*"===ue.op)&&(de.fire=ue.op);for(var Fe=0;Fe<ue.args.length;Fe++)"unaryMinus"===ue.fn&&(de.oper="-"),("+"===ue.op||"subtract"===ue.fn)&&(de.fire="",de.cte=1,de.oper=0===Fe?"+":ue.op),de.noFil=Fe,pe(ue.args[Fe],ue,de)}else if("SymbolNode"===be){if(ue.name!==K&&""!==K)throw new Error("There is more than one variable");if(K=ue.name,null===ce)return void(S[1]=1);if("^"===ce.op&&0!==de.noFil)throw new Error("In power the variable should be the first parameter");if("*"===ce.op&&1!==de.noFil)throw new Error("In multiply the variable should be the second parameter");(""===de.fire||"*"===de.fire)&&(F<1&&(S[1]=0),S[1]+=de.cte*("+"===de.oper?1:-1),F=Math.max(1,F))}else{if("ConstantNode"!==be)throw new Error("Type "+be+" is not allowed");var Ue=parseFloat(ue.value);if(null===ce)return void(S[0]=Ue);if("^"===ce.op){if(1!==de.noFil)throw new Error("Constant cannot be powered");if(!We(Ue)||Ue<=0)throw new Error("Non-integer exponent is not allowed");for(var U=F+1;U<Ue;U++)S[U]=0;return Ue>F&&(S[Ue]=0),S[Ue]+=de.cte*("+"===de.oper?1:-1),void(F=Math.max(Ue,F))}de.cte=Ue,""===de.fire&&(S[0]+=de.cte*("+"===de.oper?1:-1))}}(T,null,{cte:1,oper:"+",fire:""});for(var Y,ne=!0,z=F=S.length-1;z>=0;z--)if(0!==S[z]){var re=new D(ne?S[z]:Math.abs(S[z])),he=S[z]<0?"-":"+";if(z>0){var ie=new E(K);if(z>1){var oe=new D(z);ie=new C("^","pow",[ie,oe])}re=-1===S[z]&&ne?new C("-","unaryMinus",[ie]):1===Math.abs(S[z])?ie:new C("*","multiply",[re,ie])}Y=ne?re:"+"===he?new C("+","add",[Y,re]):new C("-","subtract",[Y,re]),ne=!1}return ne?new D(0):Y}}),hA="derivative",Ij=B(hA,["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],e=>{var{typed:t,config:r,parse:n,simplify:i,equal:a,isZero:o,numeric:s,ConstantNode:u,FunctionNode:c,OperatorNode:l,ParenthesisNode:f,SymbolNode:d}=e;function p(v,D){var w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{simplify:!0},b={};y(b,v,D.name);var A=g(v,b);return w.simplify?i(A):A}t.addConversion({from:"identifier",to:"SymbolNode",convert:n});var h=t(hA,{"Node, SymbolNode":p,"Node, SymbolNode, Object":p});t.removeConversion({from:"identifier",to:"SymbolNode",convert:n}),h._simplify=!0,h.toTex=function(v){return m.apply(null,v.args)};var m=t("_derivTex",{"Node, SymbolNode":function(D,w){return $t(D)&&"string"===or(D.value)?m(n(D.value).toString(),w.toString(),1):m(D.toTex(),w.toString(),1)},"Node, ConstantNode":function(D,w){if("string"===or(w.value))return m(D,n(w.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(D,w,b){return m(D.toString(),w.name,b.value)},"string, string, number":function(D,w,b){return(1===b?"{d\\over d"+w+"}":"{d^{"+b+"}\\over d"+w+"^{"+b+"}}")+"\\left[".concat(D,"\\right]")}}),y=t("constTag",{"Object, ConstantNode, string":function(D,w){return D[w]=!0,!0},"Object, SymbolNode, string":function(D,w,b){return w.name!==b&&(D[w]=!0,!0)},"Object, ParenthesisNode, string":function(D,w,b){return y(D,w.content,b)},"Object, FunctionAssignmentNode, string":function(D,w,b){return-1===w.params.indexOf(b)?(D[w]=!0,!0):y(D,w.expr,b)},"Object, FunctionNode | OperatorNode, string":function(D,w,b){if(w.args.length>0){for(var A=y(D,w.args[0],b),C=1;C<w.args.length;++C)A=y(D,w.args[C],b)&&A;if(A)return D[w]=!0,!0}return!1}}),g=t("_derivative",{"ConstantNode, Object":function(D){return x(0)},"SymbolNode, Object":function(D,w){return x(void 0!==w[D]?0:1)},"ParenthesisNode, Object":function(D,w){return new f(g(D.content,w))},"FunctionAssignmentNode, Object":function(D,w){return void 0!==w[D]?x(0):g(D.expr,w)},"FunctionNode, Object":function(D,w){if(void 0!==w[D])return x(0);var A,N,_,I,b=D.args[0],C=!1,E=!1;switch(D.name){case"cbrt":C=!0,N=new l("*","multiply",[x(3),new l("^","pow",[b,new l("/","divide",[x(2),x(3)])])]);break;case"sqrt":case"nthRoot":if(1===D.args.length)C=!0,N=new l("*","multiply",[x(2),new c("sqrt",[b])]);else if(2===D.args.length)return w[A=new l("/","divide",[x(1),D.args[1]])]=w[D.args[1]],g(new l("^","pow",[b,A]),w);break;case"log10":A=x(10);case"log":if(A||1!==D.args.length){if(1===D.args.length&&A||2===D.args.length&&void 0!==w[D.args[1]])N=new l("*","multiply",[b.clone(),new c("log",[A||D.args[1]])]),C=!0;else if(2===D.args.length)return g(new l("/","divide",[new c("log",[b]),new c("log",[D.args[1]])]),w)}else N=b.clone(),C=!0;break;case"pow":if(2===D.args.length)return w[A]=w[D.args[1]],g(new l("^","pow",[b,D.args[1]]),w);break;case"exp":N=new c("exp",[b.clone()]);break;case"sin":N=new c("cos",[b.clone()]);break;case"cos":N=new l("-","unaryMinus",[new c("sin",[b.clone()])]);break;case"tan":N=new l("^","pow",[new c("sec",[b.clone()]),x(2)]);break;case"sec":N=new l("*","multiply",[D,new c("tan",[b.clone()])]);break;case"csc":E=!0,N=new l("*","multiply",[D,new c("cot",[b.clone()])]);break;case"cot":E=!0,N=new l("^","pow",[new c("csc",[b.clone()]),x(2)]);break;case"asin":C=!0,N=new c("sqrt",[new l("-","subtract",[x(1),new l("^","pow",[b.clone(),x(2)])])]);break;case"acos":C=!0,E=!0,N=new c("sqrt",[new l("-","subtract",[x(1),new l("^","pow",[b.clone(),x(2)])])]);break;case"atan":C=!0,N=new l("+","add",[new l("^","pow",[b.clone(),x(2)]),x(1)]);break;case"asec":C=!0,N=new l("*","multiply",[new c("abs",[b.clone()]),new c("sqrt",[new l("-","subtract",[new l("^","pow",[b.clone(),x(2)]),x(1)])])]);break;case"acsc":C=!0,E=!0,N=new l("*","multiply",[new c("abs",[b.clone()]),new c("sqrt",[new l("-","subtract",[new l("^","pow",[b.clone(),x(2)]),x(1)])])]);break;case"acot":C=!0,E=!0,N=new l("+","add",[new l("^","pow",[b.clone(),x(2)]),x(1)]);break;case"sinh":N=new c("cosh",[b.clone()]);break;case"cosh":N=new c("sinh",[b.clone()]);break;case"tanh":N=new l("^","pow",[new c("sech",[b.clone()]),x(2)]);break;case"sech":E=!0,N=new l("*","multiply",[D,new c("tanh",[b.clone()])]);break;case"csch":E=!0,N=new l("*","multiply",[D,new c("coth",[b.clone()])]);break;case"coth":E=!0,N=new l("^","pow",[new c("csch",[b.clone()]),x(2)]);break;case"asinh":C=!0,N=new c("sqrt",[new l("+","add",[new l("^","pow",[b.clone(),x(2)]),x(1)])]);break;case"acosh":C=!0,N=new c("sqrt",[new l("-","subtract",[new l("^","pow",[b.clone(),x(2)]),x(1)])]);break;case"atanh":C=!0,N=new l("-","subtract",[x(1),new l("^","pow",[b.clone(),x(2)])]);break;case"asech":C=!0,E=!0,N=new l("*","multiply",[b.clone(),new c("sqrt",[new l("-","subtract",[x(1),new l("^","pow",[b.clone(),x(2)])])])]);break;case"acsch":C=!0,E=!0,N=new l("*","multiply",[new c("abs",[b.clone()]),new c("sqrt",[new l("+","add",[new l("^","pow",[b.clone(),x(2)]),x(1)])])]);break;case"acoth":C=!0,E=!0,N=new l("-","subtract",[x(1),new l("^","pow",[b.clone(),x(2)])]);break;case"abs":N=new l("/","divide",[new c(new d("abs"),[b.clone()]),b.clone()]);break;default:throw new Error('Cannot process function "'+D.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}C?(_="/",I="divide"):(_="*",I="multiply");var R=g(b,w);return E&&(R=new l("-","unaryMinus",[R])),new l(_,I,[R,N])},"OperatorNode, Object":function(D,w){if(void 0!==w[D])return x(0);if("+"===D.op)return new l(D.op,D.fn,D.args.map(function(P){return g(P,w)}));if("-"===D.op){if(D.isUnary())return new l(D.op,D.fn,[g(D.args[0],w)]);if(D.isBinary())return new l(D.op,D.fn,[g(D.args[0],w),g(D.args[1],w)])}if("*"===D.op){var b=D.args.filter(function(P){return void 0!==w[P]});if(b.length>0){var A=D.args.filter(function(P){return void 0===w[P]}),C=1===A.length?A[0]:new l("*","multiply",A),E=b.concat(g(C,w));return new l("*","multiply",E)}return new l("+","add",D.args.map(function(P){return new l("*","multiply",D.args.map(function(T){return T===P?g(T,w):T.clone()}))}))}if("/"===D.op&&D.isBinary()){var N=D.args[0],_=D.args[1];return void 0!==w[_]?new l("/","divide",[g(N,w),_]):void 0!==w[N]?new l("*","multiply",[new l("-","unaryMinus",[N]),new l("/","divide",[g(_,w),new l("^","pow",[_.clone(),x(2)])])]):new l("/","divide",[new l("-","subtract",[new l("*","multiply",[g(N,w),_.clone()]),new l("*","multiply",[N.clone(),g(_,w)])]),new l("^","pow",[_.clone(),x(2)])])}if("^"===D.op&&D.isBinary()){var I=D.args[0],R=D.args[1];if(void 0!==w[I])return $t(I)&&(o(I.value)||a(I.value,1))?x(0):new l("*","multiply",[D,new l("*","multiply",[new c("log",[I.clone()]),g(R.clone(),w)])]);if(void 0!==w[R]){if($t(R)){if(o(R.value))return x(0);if(a(R.value,1))return g(I,w)}var k=new l("^","pow",[I.clone(),new l("-","subtract",[R,x(1)])]);return new l("*","multiply",[R.clone(),new l("*","multiply",[g(I,w),k])])}return new l("*","multiply",[new l("^","pow",[I.clone(),R.clone()]),new l("+","add",[new l("*","multiply",[g(I,w),new l("/","divide",[R.clone(),I.clone()])]),new l("*","multiply",[g(R,w),new c("log",[I.clone()])])])])}throw new Error('Cannot process operator "'+D.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function x(v,D){return new u(s(v,D||r.number))}return h}),wu=ke(634);function xu(e,t,r,n,i){if(wu.isTypedFunction(e)){var a=[t,r,n],o=wu.resolve(e,a);if(o)return f(o.implementation,a);var s=[t,r],u=wu.resolve(e,s);if(u)return f(u.implementation,s);var c=[t],l=wu.resolve(e,c);return l?f(l.implementation,c):f(e,a)}return e(t,r,n);function f(d,p){try{return d.apply(d,p)}catch(y){var h;if(y instanceof TypeError&&"wrongType"===(null===(h=y.data)||void 0===h?void 0:h.category)){var m=[];throw m.push("value: ".concat(or(t))),p.length>=2&&m.push("index: ".concat(or(r))),p.length>=3&&m.push("array: ".concat(or(n))),new TypeError("Function ".concat(i," cannot apply callback arguments ")+"".concat(e.name,"(").concat(m.join(", "),") at index ").concat(JSON.stringify(r)))}throw new TypeError("Function ".concat(i," cannot apply callback arguments ")+"to function ".concat(e.name,": ").concat(y.message))}}}function d0(e,t,r){var n=e.filter(function(s){return an(s)&&!(s.name in t)&&!r.has(s.name)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+e+'"');var i=n.name,a=cl(r),o=e.compile();return function(u){return a.set(i,u),o.evaluate(a)}}var Rj=B("filter",["typed"],e=>{var{typed:t}=e;function r(i,a,o){var s,u;return i[0]&&(s=i[0].compile().evaluate(o)),i[1]&&(u=an(i[1])||al(i[1])?i[1].compile().evaluate(o):d0(i[1],a,o)),n(s,u)}r.rawArgs=!0;var n=t("filter",{"Array, function":vA,"Matrix, function":function(a,o){return a.create(vA(a.toArray(),o))},"Array, RegExp":Hd,"Matrix, RegExp":function(a,o){return a.create(Hd(a.toArray(),o))}});return r},{isTransformFunction:!0});function vA(e,t){return VC(e,function(r,n,i){return xu(t,r,[n+1],i,"filter")})}var Lj=B("forEach",["typed"],e=>{var{typed:t}=e;function r(i,a,o){var s,u;return i[0]&&(s=i[0].compile().evaluate(o)),i[1]&&(u=an(i[1])||al(i[1])?i[1].compile().evaluate(o):d0(i[1],a,o)),n(s,u)}r.rawArgs=!0;var n=t("forEach",{"Array | Matrix, function":function(a,o){!function u(c,l){if(!Array.isArray(c))return xu(o,c,l,a,"forEach");Vd(c,function(f,d){u(f,l.concat(d+1))})}(a.valueOf(),[])}});return r},{isTransformFunction:!0}),Uj=B("map",["typed"],e=>{var{typed:t}=e;function r(i,a,o){var s,u;return i[0]&&(s=i[0].compile().evaluate(o)),i[1]&&(u=an(i[1])||al(i[1])?i[1].compile().evaluate(o):d0(i[1],a,o)),n(s,u)}r.rawArgs=!0;var n=t("map",{"Array, function":function(a,o){return gA(a,o,a)},"Matrix, function":function(a,o){return a.create(gA(a.valueOf(),o,a))}});return r},{isTransformFunction:!0});function gA(e,t,r){return function n(i,a){return Array.isArray(i)?Fa(i,function(o,s){return n(o,a.concat(s+1))}):xu(t,i,a,r,"map")}(e,[])}var p0=B("apply",["typed","isInteger"],e=>{var{typed:t,isInteger:r}=e;return t("apply",{"Array | Matrix, number | BigNumber, function":function(i,a,o){if(!r(a))throw new TypeError("Integer number expected for dimension");var s=Array.isArray(i)?lt(i):i.size();if(a<0||a>=s.length)throw new Oi(a,s.length);return Je(i)?i.create(cp(i.valueOf(),a,o)):cp(i,a,o)}})});function cp(e,t,r){var n,i,a;if(t<=0){if(Array.isArray(e[0])){for(a=function Vj(e){var n,i,t=e.length,r=e[0].length,a=[];for(i=0;i<r;i++){var o=[];for(n=0;n<t;n++)o.push(e[n][i]);a.push(o)}return a}(e),i=[],n=0;n<a.length;n++)i[n]=cp(a[n],t-1,r);return i}return r(e)}for(i=[],n=0;n<e.length;n++)i[n]=cp(e[n],t-1,r);return i}var jj=B("apply",["typed","isInteger"],e=>{var{typed:t,isInteger:r}=e,n=p0({typed:t,isInteger:r});return t("apply",{"...any":function(a){var o=a[1];Et(o)?a[1]=o-1:It(o)&&(a[1]=o.minus(1));try{return n.apply(null,a)}catch(s){throw Rn(s)}}})},{isTransformFunction:!0}),Pn=B("matAlgo03xDSf",["typed"],e=>{var{typed:t}=e;return function(n,i,a,o){var s=n._data,u=n._size,c=n._datatype,l=i._values,f=i._index,d=i._ptr,p=i._size,h=i._datatype;if(u.length!==p.length)throw new Ct(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g,m=u[0],y=u[1],x=0,v=a;"string"==typeof c&&c===h&&(x=t.convert(0,g=c),v=t.find(a,[g,g]));for(var D=[],w=0;w<m;w++)D[w]=[];for(var b=[],A=[],C=0;C<y;C++){for(var E=C+1,_=d[C+1],I=d[C];I<_;I++){var R=f[I];b[R]=o?v(l[I],s[R][C]):v(s[R][C],l[I]),A[R]=E}for(var k=0;k<m;k++)D[k][C]=A[k]===E?b[k]:o?v(x,s[k][C]):v(s[k][C],x)}return n.createDenseMatrix({data:D,size:[m,y],datatype:g})}}),Jr=B("matAlgo12xSfs",["typed","DenseMatrix"],e=>{var{typed:t,DenseMatrix:r}=e;return function(i,a,o,s){var u=i._values,c=i._index,l=i._ptr,f=i._size,d=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m,p=f[0],h=f[1],y=o;"string"==typeof d&&(a=t.convert(a,m=d),y=t.find(o,[m,m]));for(var g=[],x=[],v=[],D=0;D<h;D++){for(var w=D+1,A=l[D+1],C=l[D];C<A;C++){var E=c[C];x[E]=u[C],v[E]=w}for(var N=0;N<p;N++)0===D&&(g[N]=[]),g[N][D]=v[N]===w?s?y(a,x[N]):y(x[N],a):s?y(a,0):y(0,a)}return new r({data:g,size:[p,h],datatype:m})}}),lp=B("matAlgo05xSfSf",["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return function(i,a,o){var s=i._values,u=i._index,c=i._ptr,l=i._size,f=i._datatype,d=a._values,p=a._index,h=a._ptr,m=a._size,y=a._datatype;if(l.length!==m.length)throw new Ct(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");var v,g=l[0],x=l[1],D=r,w=0,b=o;"string"==typeof f&&f===y&&(D=t.find(r,[v=f,v]),w=t.convert(0,v),b=t.find(o,[v,v]));var k,P,T,S,A=s&&d?[]:void 0,C=[],E=[],N=A?[]:void 0,_=A?[]:void 0,I=[],R=[];for(P=0;P<x;P++){E[P]=C.length;var q=P+1;for(T=c[P],S=c[P+1];T<S;T++)C.push(k=u[T]),I[k]=q,N&&(N[k]=s[T]);for(T=h[P],S=h[P+1];T<S;T++)I[k=p[T]]!==q&&C.push(k),R[k]=q,_&&(_[k]=d[T]);if(A)for(T=E[P];T<C.length;){var F=I[k=C[T]],K=R[k];if(F===q||K===q){var z=b(F===q?N[k]:w,K===q?_[k]:w);D(z,w)?C.splice(T,1):(A.push(z),T++)}}}return E[x]=C.length,i.createSparseMatrix({values:A,index:C,ptr:E,size:[g,x],datatype:v})}}),eG=B("matAlgo13xDD",["typed"],e=>{var{typed:t}=e;return function(i,a,o){var s=i._data,u=i._size,c=i._datatype,l=a._data,f=a._size,d=a._datatype,p=[];if(u.length!==f.length)throw new Ct(u.length,f.length);for(var h=0;h<u.length;h++){if(u[h]!==f[h])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");p[h]=u[h]}var m,y=o;"string"==typeof c&&c===d&&(y=t.find(o,[m=c,m]));var g=p.length>0?r(y,0,p,p[0],s,l):[];return i.createDenseMatrix({data:g,size:p,datatype:m})};function r(n,i,a,o,s,u){var c=[];if(i===a.length-1)for(var l=0;l<o;l++)c[l]=n(s[l],u[l]);else for(var f=0;f<o;f++)c[f]=r(n,i+1,a,a[i+1],s[f],u[f]);return c}}),Pi=B("matAlgo14xDs",["typed"],e=>{var{typed:t}=e;return function(i,a,o,s){var f,u=i._data,c=i._size,l=i._datatype,d=o;"string"==typeof l&&(a=t.convert(a,f=l),d=t.find(o,[f,f]));var p=c.length>0?r(d,0,c,c[0],u,a,s):[];return i.createDenseMatrix({data:p,size:ct(c),datatype:f})};function r(n,i,a,o,s,u,c){var l=[];if(i===a.length-1)for(var f=0;f<o;f++)l[f]=c?n(u,s[f]):n(s[f],u);else for(var d=0;d<o;d++)l[d]=r(n,i+1,a,a[i+1],s[d],u,c);return l}}),aG=B("broadcast",["concat"],e=>{var{concat:t}=e;return function(i,a){var o=Math.max(i._size.length,a._size.length);if(i._size.length===a._size.length&&i._size.every((h,m)=>h===a._size[m]))return[i,a];for(var s=r(i._size,o,0),u=r(a._size,o,0),c=[],l=0;l<o;l++)c[l]=Math.max(s[l],u[l]);jd(s,c),jd(u,c);var f=i.clone(),d=a.clone();f._size.length<o?f.reshape(r(f._size,o,1)):d._size.length<o&&d.reshape(r(d._size,o,1));for(var p=0;p<o;p++)f._size[p]<c[p]&&(f=n(f,c[p],p)),d._size[p]<c[p]&&(d=n(d,c[p],p));return[f,d]};function r(i,a,o){return[...Array(a-i.length).fill(o),...i]}function n(i,a,o){return t(...Array(a).fill(i),o)}}),dr=B("matrixAlgorithmSuite",["typed","matrix","concat"],e=>{var{typed:t,matrix:r,concat:n}=e,i=eG({typed:t}),a=Pi({typed:t}),o=aG({concat:n});return function(u){var f,c=u.elop,l=u.SD||u.DS;c?(f={"DenseMatrix, DenseMatrix":(m,y)=>i(...o(m,y),c),"Array, Array":(m,y)=>i(...o(r(m),r(y)),c).valueOf(),"Array, DenseMatrix":(m,y)=>i(...o(r(m),y),c),"DenseMatrix, Array":(m,y)=>i(...o(m,r(y)),c)},u.SS&&(f["SparseMatrix, SparseMatrix"]=(m,y)=>u.SS(...o(m,y),c,!1)),u.DS&&(f["DenseMatrix, SparseMatrix"]=(m,y)=>u.DS(...o(m,y),c,!1),f["Array, SparseMatrix"]=(m,y)=>u.DS(...o(r(m),y),c,!1)),l&&(f["SparseMatrix, DenseMatrix"]=(m,y)=>l(...o(y,m),c,!0),f["SparseMatrix, Array"]=(m,y)=>l(...o(r(y),m),c,!0))):(f={"DenseMatrix, DenseMatrix":t.referToSelf(m=>(y,g)=>i(...o(y,g),m)),"Array, Array":t.referToSelf(m=>(y,g)=>i(...o(r(y),r(g)),m).valueOf()),"Array, DenseMatrix":t.referToSelf(m=>(y,g)=>i(...o(r(y),g),m)),"DenseMatrix, Array":t.referToSelf(m=>(y,g)=>i(...o(y,r(g)),m))},u.SS&&(f["SparseMatrix, SparseMatrix"]=t.referToSelf(m=>(y,g)=>u.SS(...o(y,g),m,!1))),u.DS&&(f["DenseMatrix, SparseMatrix"]=t.referToSelf(m=>(y,g)=>u.DS(...o(y,g),m,!1)),f["Array, SparseMatrix"]=t.referToSelf(m=>(y,g)=>u.DS(...o(r(y),g),m,!1))),l&&(f["SparseMatrix, DenseMatrix"]=t.referToSelf(m=>(y,g)=>l(...o(g,y),m,!0)),f["SparseMatrix, Array"]=t.referToSelf(m=>(y,g)=>l(...o(r(g),y),m,!0))));var d=u.scalar||"any";(u.Ds||u.Ss)&&(c?(f["DenseMatrix,"+d]=(m,y)=>a(m,y,c,!1),f[d+", DenseMatrix"]=(m,y)=>a(y,m,c,!0),f["Array,"+d]=(m,y)=>a(r(m),y,c,!1).valueOf(),f[d+", Array"]=(m,y)=>a(r(y),m,c,!0).valueOf()):(f["DenseMatrix,"+d]=t.referToSelf(m=>(y,g)=>a(y,g,m,!1)),f[d+", DenseMatrix"]=t.referToSelf(m=>(y,g)=>a(g,y,m,!0)),f["Array,"+d]=t.referToSelf(m=>(y,g)=>a(r(y),g,m,!1).valueOf()),f[d+", Array"]=t.referToSelf(m=>(y,g)=>a(r(g),y,m,!0).valueOf())));var h=void 0!==u.sS?u.sS:u.Ss;return c?(u.Ss&&(f["SparseMatrix,"+d]=(m,y)=>u.Ss(m,y,c,!1)),h&&(f[d+", SparseMatrix"]=(m,y)=>h(y,m,c,!0))):(u.Ss&&(f["SparseMatrix,"+d]=t.referToSelf(m=>(y,g)=>u.Ss(y,g,m,!1))),h&&(f[d+", SparseMatrix"]=t.referToSelf(m=>(y,g)=>h(g,y,m,!0)))),c&&c.signatures&&DC(f,c.signatures),f}}),m0="number, number";function bA(e){return!e}function DA(e,t){return!(!e&&!t)}function wA(e,t){return!!e!=!!t}function xA(e,t){return!(!e||!t)}bA.signature="number",DA.signature=m0,wA.signature=m0,xA.signature=m0;var NA=B("or",["typed","matrix","equalScalar","DenseMatrix","concat"],e=>{var{typed:t,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=e,o=Pn({typed:t}),s=lp({typed:t,equalScalar:n}),u=Jr({typed:t,DenseMatrix:i}),c=dr({typed:t,matrix:r,concat:a});return t("or",{"number, number":DA,"Complex, Complex":function(f,d){return 0!==f.re||0!==f.im||0!==d.re||0!==d.im},"BigNumber, BigNumber":function(f,d){return!f.isZero()&&!f.isNaN()||!d.isZero()&&!d.isNaN()},"Unit, Unit":t.referToSelf(l=>(f,d)=>l(f.value||0,d.value||0))},c({SS:s,DS:o,Ss:u}))}),dG=B("or",["typed","matrix","equalScalar","DenseMatrix","concat"],e=>{var{typed:t,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=e,o=NA({typed:t,matrix:r,equalScalar:n,DenseMatrix:i,concat:a});function s(u,c,l){var f=u[0].compile().evaluate(l);if(!vi(f)&&o(f,!1))return!0;var d=u[1].compile().evaluate(l);return o(f,d)}return s.rawArgs=!0,s},{isTransformFunction:!0}),Bi=B("matAlgo02xDS0",["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return function(i,a,o,s){var u=i._data,c=i._size,l=i._datatype,f=a._values,d=a._index,p=a._ptr,h=a._size,m=a._datatype;if(c.length!==h.length)throw new Ct(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var x,y=c[0],g=c[1],v=r,D=0,w=o;"string"==typeof l&&l===m&&(v=t.find(r,[x=l,x]),D=t.convert(0,x),w=t.find(o,[x,x]));for(var b=[],A=[],C=[],E=0;E<g;E++){C[E]=A.length;for(var _=p[E+1],I=p[E];I<_;I++){var R=d[I],k=s?w(f[I],u[R][E]):w(u[R][E],f[I]);v(k,D)||(A.push(R),b.push(k))}}return C[g]=A.length,a.createSparseMatrix({values:b,index:A,ptr:C,size:[y,g],datatype:x})}}),un=B("matAlgo11xS0s",["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return function(i,a,o,s){var u=i._values,c=i._index,l=i._ptr,f=i._size,d=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m,p=f[0],h=f[1],y=r,g=0,x=o;"string"==typeof d&&(y=t.find(r,[m=d,m]),g=t.convert(0,m),a=t.convert(a,m),x=t.find(o,[m,m]));for(var v=[],D=[],w=[],b=0;b<h;b++){w[b]=D.length;for(var C=l[b+1],E=l[b];E<C;E++){var N=c[E],_=s?x(a,u[E]):x(u[E],a);y(_,g)||(D.push(N),v.push(_))}}return w[h]=D.length,i.createSparseMatrix({values:v,index:D,ptr:w,size:[p,h],datatype:m})}}),fp=B("matAlgo06xS0S0",["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return function(i,a,o){var s=i._values,u=i._size,c=i._datatype,l=a._values,f=a._size,d=a._datatype;if(u.length!==f.length)throw new Ct(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var m,p=u[0],h=u[1],y=r,g=0,x=o;"string"==typeof c&&c===d&&(y=t.find(r,[m=c,m]),g=t.convert(0,m),x=t.find(o,[m,m]));for(var v=s&&l?[]:void 0,D=[],w=[],b=v?[]:void 0,A=[],C=[],E=0;E<h;E++){w[E]=D.length;var N=E+1;if(JC(i,E,A,b,C,N,D,x),JC(a,E,A,b,C,N,D,x),b)for(var _=w[E];_<D.length;){var I=D[_];if(C[I]===N){var R=b[I];y(R,g)?D.splice(_,1):(v.push(R),_++)}else D.splice(_,1)}else for(var k=w[E];k<D.length;)C[D[k]]!==N?D.splice(k,1):k++}return w[h]=D.length,i.createSparseMatrix({values:v,index:D,ptr:w,size:[p,h],datatype:m})}}),AA=B("and",["typed","matrix","equalScalar","zeros","not","concat"],e=>{var{typed:t,matrix:r,equalScalar:n,zeros:i,not:a,concat:o}=e,s=Bi({typed:t,equalScalar:n}),u=fp({typed:t,equalScalar:n}),c=un({typed:t,equalScalar:n}),l=Pi({typed:t}),f=dr({typed:t,matrix:r,concat:o});return t("and",{"number, number":xA,"Complex, Complex":function(p,h){return!(0===p.re&&0===p.im||0===h.re&&0===h.im)},"BigNumber, BigNumber":function(p,h){return!(p.isZero()||h.isZero()||p.isNaN()||h.isNaN())},"Unit, Unit":t.referToSelf(d=>(p,h)=>d(p.value||0,h.value||0)),"SparseMatrix, any":t.referToSelf(d=>(p,h)=>a(h)?i(p.size(),p.storage()):c(p,h,d,!1)),"DenseMatrix, any":t.referToSelf(d=>(p,h)=>a(h)?i(p.size(),p.storage()):l(p,h,d,!1)),"any, SparseMatrix":t.referToSelf(d=>(p,h)=>a(p)?i(p.size(),p.storage()):c(h,p,d,!0)),"any, DenseMatrix":t.referToSelf(d=>(p,h)=>a(p)?i(p.size(),p.storage()):l(h,p,d,!0)),"Array, any":t.referToSelf(d=>(p,h)=>d(r(p),h).valueOf()),"any, Array":t.referToSelf(d=>(p,h)=>d(p,r(h)).valueOf())},f({SS:u,DS:s}))}),xG=B("and",["typed","matrix","zeros","add","equalScalar","not","concat"],e=>{var{typed:t,matrix:r,equalScalar:n,zeros:i,not:a,concat:o}=e,s=AA({typed:t,matrix:r,equalScalar:n,zeros:i,not:a,concat:o});function u(c,l,f){var d=c[0].compile().evaluate(f);if(!vi(d)&&!s(d,!0))return!1;var p=c[1].compile().evaluate(f);return s(d,p)}return u.rawArgs=!0,u},{isTransformFunction:!0}),MA=B("concat",["typed","matrix","isInteger"],e=>{var{typed:t,matrix:r,isInteger:n}=e;return t("concat",{"...Array | Matrix | number | BigNumber":function(a){var o,c,s=a.length,u=-1,l=!1,f=[];for(o=0;o<s;o++){var d=a[o];if(Je(d)&&(l=!0),Et(d)||It(d)){if(o!==s-1)throw new Error("Dimension must be specified as last argument");if(c=u,u=d.valueOf(),!n(u))throw new TypeError("Integer number expected for dimension");if(u<0||o>0&&u>c)throw new Oi(u,c+1)}else{var p=ct(d).valueOf(),h=lt(p);if(f[o]=p,c=u,u=h.length-1,o>0&&u!==c)throw new Ct(c+1,u+1)}}if(0===f.length)throw new SyntaxError("At least one matrix expected");for(var m=f.shift();f.length;)m=jC(m,f.shift(),u);return l?r(m):m},"...string":function(a){return a.join("")}})}),AG=B("concat",["typed","matrix","isInteger"],e=>{var{typed:t,matrix:r,isInteger:n}=e,i=MA({typed:t,matrix:r,isInteger:n});return t("concat",{"...any":function(o){var s=o.length-1,u=o[s];Et(u)?o[s]=u-1:It(u)&&(o[s]=u.minus(1));try{return i.apply(null,o)}catch(c){throw Rn(c)}}})},{isTransformFunction:!0});function Bn(e,t,r){var n;return-1!==String(e).indexOf("Unexpected type")?(n=arguments.length>2?" (type: "+or(r)+", value: "+JSON.stringify(r)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+n)):-1!==String(e).indexOf("complex numbers")?(n=arguments.length>2?" (type: "+or(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+n)):e}var TA=B("max",["typed","config","numeric","larger"],e=>{var{typed:t,config:r,numeric:n,larger:i}=e;return t("max",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,c){return op(u,c.valueOf(),a)},"...":function(u){if(Du(u))throw new TypeError("Scalar values expected in function max");return o(u)}});function a(s,u){try{return i(s,u)?s:u}catch(c){throw Bn(c,"max",u)}}function o(s){var u;if(Oa(s,function(c){try{isNaN(c)&&"number"==typeof c?u=NaN:(void 0===u||i(c,u))&&(u=c)}catch(l){throw Bn(l,"max",c)}}),void 0===u)throw new Error("Cannot calculate max of an empty array");return"string"==typeof u&&(u=n(u,r.number)),u}});function uo(e){if(2===e.length&&vi(e[0])){var t=(e=e.slice())[1];Et(t)?e[1]=t-1:It(t)&&(e[1]=t.minus(1))}return e}var TG=B("max",["typed","config","numeric","larger"],e=>{var{typed:t,config:r,numeric:n,larger:i}=e,a=TA({typed:t,config:r,numeric:n,larger:i});return t("max",{"...any":function(s){s=uo(s);try{return a.apply(null,s)}catch(u){throw Rn(u)}}})},{isTransformFunction:!0}),IA=/\$([\w.]+)/g,OA=B("print",["typed"],e=>{var{typed:t}=e;return t("print",{"string, Object | Array":RA,"string, Object | Array, number | Object":RA})});function RA(e,t,r){return e.replace(IA,function(n,i){var a=i.split("."),o=t[a.shift()];for(void 0!==o&&o.isMatrix&&(o=o.toArray());a.length&&void 0!==o;){var s=a.shift();o=s?o[s]:o+"."}return void 0!==o?Dn(o)?o:Nt(o,r):n})}var OG=B("print",["typed","matrix","zeros","add"],e=>{var{typed:t,matrix:r,zeros:n,add:i}=e,a=OA({typed:t,matrix:r,zeros:n,add:i});return t("print",{"string, Object | Array":function(u,c){return a(o(u),c)},"string, Object | Array, number | Object":function(u,c,l){return a(o(u),c,l)}});function o(s){return s.replace(IA,u=>"$"+u.slice(1).split(".").map(function(f){return!isNaN(f)&&f.length>0?parseInt(f)-1:f}).join("."))}},{isTransformFunction:!0});function RG(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitAnd");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()===t.isNegative()?e:new r(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e}return h0(e,t,function(n,i){return n&i})}function ll(e){if(e.isFinite()&&!e.isInteger())throw new Error("Integer expected in function bitNot");var t=e.constructor,r=t.precision;t.config({precision:1e9});var n=e.plus(new t(1));return n.s=-n.s||null,t.config({precision:r}),n}function PG(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitOr");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);var n=new r(-1);return e.isZero()||t.eq(n)||e.eq(t)?t:t.isZero()||e.eq(n)?e:e.isFinite()&&t.isFinite()?h0(e,t,function(i,a){return i|a}):!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?n:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e}function h0(e,t,r){var i,a,l,f,d,n=e.constructor,o=+(e.s<0),s=+(t.s<0);if(o){i=dp(ll(e));for(var u=0;u<i.length;++u)i[u]^=1}else i=dp(e);if(s){a=dp(ll(t));for(var c=0;c<a.length;++c)a[c]^=1}else a=dp(t);i.length<=a.length?(l=i,f=a,d=o):(l=a,f=i,d=s);var p=l.length,h=f.length,m=1^r(o,s),y=new n(1^m),g=new n(1),x=new n(2),v=n.precision;for(n.config({precision:1e9});p>0;)r(l[--p],f[--h])===m&&(y=y.plus(g)),g=g.times(x);for(;h>0;)r(d,f[--h])===m&&(y=y.plus(g)),g=g.times(x);return n.config({precision:v}),0===m&&(y.s=-y.s),y}function dp(e){for(var t=e.d,r=t[0]+"",n=1;n<t.length;++n){for(var i=t[n]+"",a=7-i.length;a--;)i="0"+i;r+=i}for(var o=r.length;"0"===r.charAt(o);)o--;var s=e.e,u=r.slice(0,o+1||1),c=u.length;if(s>0)if(++s>c)for(s-=c;s--;)u+="0";else s<c&&(u=u.slice(0,s)+"."+u.slice(s));for(var l=[0],f=0;f<u.length;){for(var d=l.length;d--;)l[d]*=10;l[0]+=parseInt(u.charAt(f++));for(var p=0;p<l.length;++p)l[p]>1&&(null==l[p+1]&&(l[p+1]=0),l[p+1]+=l[p]>>1,l[p]&=1)}return l.reverse()}function BG(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitXor");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new r(0);var n=new r(-1);return e.eq(n)?ll(t):t.eq(n)?ll(e):e.isFinite()&&t.isFinite()?h0(e,t,function(i,a){return i^a}):e.isFinite()||t.isFinite()?new r(e.isNegative()===t.isNegative()?1/0:-1/0):n}function LG(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function leftShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:e.isFinite()||t.isFinite()?t.lt(55)?e.times(Math.pow(2,t.toNumber())+""):e.times(new r(2).pow(t)):new r(NaN)}function kG(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function rightArithShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:t.isFinite()?t.lt(55)?e.div(Math.pow(2,t.toNumber())+"").floor():e.div(new r(2).pow(t)).floor():e.isNegative()?new r(-1):e.isFinite()?new r(0):new r(NaN)}var Eu="number, number";function BA(e,t){if(!We(e)||!We(t))throw new Error("Integers expected in function bitAnd");return e&t}function LA(e){if(!We(e))throw new Error("Integer expected in function bitNot");return~e}function kA(e,t){if(!We(e)||!We(t))throw new Error("Integers expected in function bitOr");return e|t}function zA(e,t){if(!We(e)||!We(t))throw new Error("Integers expected in function bitXor");return e^t}function UA(e,t){if(!We(e)||!We(t))throw new Error("Integers expected in function leftShift");return e<<t}function qA(e,t){if(!We(e)||!We(t))throw new Error("Integers expected in function rightArithShift");return e>>t}function VA(e,t){if(!We(e)||!We(t))throw new Error("Integers expected in function rightLogShift");return e>>>t}BA.signature=Eu,LA.signature="number",kA.signature=Eu,zA.signature=Eu,UA.signature=Eu,qA.signature=Eu,VA.signature=Eu;var $A=B("bitAnd",["typed","matrix","equalScalar","concat"],e=>{var{typed:t,matrix:r,equalScalar:n,concat:i}=e,a=Bi({typed:t,equalScalar:n}),o=fp({typed:t,equalScalar:n}),s=un({typed:t,equalScalar:n});return t("bitAnd",{"number, number":BA,"BigNumber, BigNumber":RG},dr({typed:t,matrix:r,concat:i})({SS:o,DS:a,Ss:s}))}),HG=B("bitAnd",["typed","matrix","zeros","add","equalScalar","not","concat"],e=>{var{typed:t,matrix:r,equalScalar:n,zeros:i,not:a,concat:o}=e,s=$A({typed:t,matrix:r,equalScalar:n,zeros:i,not:a,concat:o});function u(c,l,f){var d=c[0].compile().evaluate(f);if(!vi(d)){if(isNaN(d))return NaN;if(0===d||!1===d)return 0}var p=c[1].compile().evaluate(f);return s(d,p)}return u.rawArgs=!0,u},{isTransformFunction:!0}),GA=B("diff",["typed","matrix","subtract","number"],e=>{var{typed:t,matrix:r,subtract:n,number:i}=e;return t("diff",{"Array | Matrix":function(l){return Je(l)?r(o(l.toArray())):o(l)},"Array | Matrix, number":function(l,f){if(!We(f))throw new RangeError("Dimension must be a whole number");return Je(l)?r(a(l.toArray(),f)):a(l,f)},"Array, BigNumber":t.referTo("Array,number",c=>(l,f)=>c(l,i(f))),"Matrix, BigNumber":t.referTo("Matrix,number",c=>(l,f)=>c(l,i(f)))});function a(c,l){if(Je(c)&&(c=c.toArray()),!Array.isArray(c))throw RangeError("Array/Matrix does not have that many dimensions");if(l>0){var f=[];return c.forEach(d=>{f.push(a(d,l-1))}),f}if(0===l)return o(c);throw RangeError("Cannot have negative dimension")}function o(c){for(var l=[],f=c.length,d=1;d<f;d++)l.push(s(c[d-1],c[d]));return l}function s(c,l){Je(c)&&(c=c.toArray()),Je(l)&&(l=l.toArray());var f=Array.isArray(c),d=Array.isArray(l);if(f&&d)return function u(c,l){if(c.length!==l.length)throw RangeError("Not all sub-arrays have the same length");for(var f=[],d=c.length,p=0;p<d;p++)f.push(s(c[p],l[p]));return f}(c,l);if(!f&&!d)return n(l,c);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}}),GG=B("diff",["typed","matrix","subtract","number","bignumber"],e=>{var{typed:t,matrix:r,subtract:n,number:i,bignumber:a}=e,o=GA({typed:t,matrix:r,subtract:n,number:i,bignumber:a});return t("diff",{"...any":function(u){u=uo(u);try{return o.apply(null,u)}catch(c){throw Rn(c)}}})},{isTransformFunction:!0}),YA=B("min",["typed","config","numeric","smaller"],e=>{var{typed:t,config:r,numeric:n,smaller:i}=e;return t("min",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,c){return op(u,c.valueOf(),a)},"...":function(u){if(Du(u))throw new TypeError("Scalar values expected in function min");return o(u)}});function a(s,u){try{return i(s,u)?s:u}catch(c){throw Bn(c,"min",u)}}function o(s){var u;if(Oa(s,function(c){try{isNaN(c)&&"number"==typeof c?u=NaN:(void 0===u||i(c,u))&&(u=c)}catch(l){throw Bn(l,"min",c)}}),void 0===u)throw new Error("Cannot calculate min of an empty array");return"string"==typeof u&&(u=n(u,r.number)),u}}),QG=B("min",["typed","config","numeric","smaller"],e=>{var{typed:t,config:r,numeric:n,smaller:i}=e,a=YA({typed:t,config:r,numeric:n,smaller:i});return t("min",{"...any":function(s){s=uo(s);try{return a.apply(null,s)}catch(u){throw Rn(u)}}})},{isTransformFunction:!0}),XA=B("subset",["typed","matrix","zeros","add"],e=>{var{typed:t,matrix:r,zeros:n,add:i}=e;return t("subset",{"Matrix, Index":function(s,u){return gu(u)?r():(Ud(s,u),s.subset(u))},"Array, Index":t.referTo("Matrix, Index",function(o){return function(s,u){var c=o(r(s),u);return u.isScalar()?c:c.valueOf()}}),"Object, Index":JG,"string, Index":KG,"Matrix, Index, any, any":function(s,u,c,l){return gu(u)?s:(Ud(s,u),s.clone().subset(u,function a(o,s){if("string"==typeof o)throw new Error("can't boradcast a string");if(s._isScalar)return o;var u=s.size();if(!u.every(c=>c>0))return o;try{return i(o,n(u))}catch{return o}}(c,u),l))},"Array, Index, any, any":t.referTo("Matrix, Index, any, any",function(o){return function(s,u,c,l){var f=o(r(s),u,c,l);return f.isMatrix?f.valueOf():f}}),"Array, Index, any":t.referTo("Matrix, Index, any, any",function(o){return function(s,u,c){return o(r(s),u,c,void 0).valueOf()}}),"Matrix, Index, any":t.referTo("Matrix, Index, any, any",function(o){return function(s,u,c){return o(s,u,c,void 0)}}),"string, Index, string":KA,"string, Index, string, string":KA,"Object, Index, any":eW})});function KG(e,t){if(!Rd(t))throw new TypeError("Index expected");if(gu(t))return"";if(Ud(Array.from(e),t),1!==t.size().length)throw new Ct(t.size().length,1);var r=e.length;sr(t.min()[0],r),sr(t.max()[0],r);var n=t.dimension(0),i="";return n.forEach(function(a){i+=e.charAt(a)}),i}function KA(e,t,r,n){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(gu(t))return e;if(Ud(Array.from(e),t),1!==t.size().length)throw new Ct(t.size().length,1);if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=t.dimension(0);if(i.size()[0]!==r.length)throw new Ct(i.size()[0],r.length);var o=e.length;sr(t.min()[0]),sr(t.max()[0]);for(var s=[],u=0;u<o;u++)s[u]=e.charAt(u);if(i.forEach(function(f,d){s[f]=r.charAt(d[0])}),s.length>o)for(var c=o-1,l=s.length;c<l;c++)s[c]||(s[c]=n);return s.join("")}function JG(e,t){if(!gu(t)){if(1!==t.size().length)throw new Ct(t.size(),1);var r=t.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");return On(e,r)}}function eW(e,t,r){if(gu(t))return e;if(1!==t.size().length)throw new Ct(t.size(),1);var n=t.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");var i=ct(e);return du(i,n,r),i}var wS,Ra,nW=B("subset",["typed","matrix","zeros","add"],e=>{var{typed:t,matrix:r,zeros:n,add:i}=e,a=XA({typed:t,matrix:r,zeros:n,add:i});return t("subset",{"...any":function(s){try{return a.apply(null,s)}catch(u){throw Rn(u)}}})},{isTransformFunction:!0}),Yo=B("matAlgo10xSids",["typed","DenseMatrix"],e=>{var{typed:t,DenseMatrix:r}=e;return function(i,a,o,s){var u=i._values,c=i._index,l=i._ptr,f=i._size,d=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m,p=f[0],h=f[1],y=o;"string"==typeof d&&(a=t.convert(a,m=d),y=t.find(o,[m,m]));for(var g=[],x=[],v=[],D=0;D<h;D++){for(var w=D+1,A=l[D+1],C=l[D];C<A;C++){var E=c[C];x[E]=u[C],v[E]=w}for(var N=0;N<p;N++)0===D&&(g[N]=[]),g[N][D]=v[N]===w?s?y(a,x[N]):y(x[N],a):a}return new r({data:g,size:[p,h],datatype:m})}}),v0=B("matAlgo04xSidSid",["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return function(i,a,o){var s=i._values,u=i._index,c=i._ptr,l=i._size,f=i._datatype,d=a._values,p=a._index,h=a._ptr,m=a._size,y=a._datatype;if(l.length!==m.length)throw new Ct(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");var v,g=l[0],x=l[1],D=r,w=0,b=o;"string"==typeof f&&f===y&&(D=t.find(r,[v=f,v]),w=t.convert(0,v),b=t.find(o,[v,v]));var k,P,T,q,A=s&&d?[]:void 0,C=[],E=[],N=s&&d?[]:void 0,_=s&&d?[]:void 0,I=[],R=[];for(P=0;P<x;P++){E[P]=C.length;var F=P+1;for(q=c[P+1],T=c[P];T<q;T++)C.push(k=u[T]),I[k]=F,N&&(N[k]=s[T]);for(q=h[P+1],T=h[P];T<q;T++)if(I[k=p[T]]===F){if(N){var K=b(N[k],d[T]);D(K,w)?I[k]=null:N[k]=K}}else C.push(k),R[k]=F,_&&(_[k]=d[T]);if(N&&_)for(T=E[P];T<C.length;)I[k=C[T]]===F?(A[T]=N[k],T++):R[k]===F?(A[T]=_[k],T++):C.splice(T,1)}return E[x]=C.length,i.createSparseMatrix({values:A,index:C,ptr:E,size:[g,x],datatype:v})}}),co=B("matAlgo01xDSid",["typed"],e=>{var{typed:t}=e;return function(n,i,a,o){var s=n._data,u=n._size,c=n._datatype,l=i._values,f=i._index,d=i._ptr,p=i._size,h=i._datatype;if(u.length!==p.length)throw new Ct(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v,D,m=u[0],y=u[1],g="string"==typeof c&&c===h?c:void 0,x=g?t.find(a,[g,g]):a,w=[];for(v=0;v<m;v++)w[v]=[];var b=[],A=[];for(D=0;D<y;D++){for(var C=D+1,N=d[D+1],_=d[D];_<N;_++)b[v=f[_]]=o?x(l[_],s[v][D]):x(s[v][D],l[_]),A[v]=C;for(v=0;v<m;v++)w[v][D]=A[v]===C?b[v]:s[v][D]}return n.createDenseMatrix({data:w,size:[m,y],datatype:g})}}),eS=B("bitOr",["typed","matrix","equalScalar","DenseMatrix","concat"],e=>{var{typed:t,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=e,o=co({typed:t}),s=v0({typed:t,equalScalar:n}),u=Yo({typed:t,DenseMatrix:i});return t("bitOr",{"number, number":kA,"BigNumber, BigNumber":PG},dr({typed:t,matrix:r,concat:a})({SS:s,DS:o,Ss:u}))}),pW=B("bitOr",["typed","matrix","equalScalar","DenseMatrix","concat"],e=>{var{typed:t,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=e,o=eS({typed:t,matrix:r,equalScalar:n,DenseMatrix:i,concat:a});function s(u,c,l){var f=u[0].compile().evaluate(l);if(!vi(f)){if(isNaN(f))return NaN;if(-1===f)return-1;if(!0===f)return 1}var d=u[1].compile().evaluate(l);return o(f,d)}return s.rawArgs=!0,s},{isTransformFunction:!0}),pp="cumsum",tS=B(pp,["typed","add","unaryPlus"],e=>{var{typed:t,add:r,unaryPlus:n}=e;return t(pp,{Array:i,Matrix:function(c){return c.create(i(c.valueOf()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(c,l){return c.create(o(c.valueOf(),l))},"...":function(c){if(Du(c))throw new TypeError("All values expected to be scalar in function cumsum");return i(c)}});function i(u){try{return a(u)}catch(c){throw Bn(c,pp)}}function a(u){if(0===u.length)return[];for(var c=[n(u[0])],l=1;l<u.length;++l)c.push(r(c[l-1],u[l]));return c}function o(u,c){var l=lt(u);if(c<0||c>=l.length)throw new Oi(c,l.length);try{return s(u,c)}catch(f){throw Bn(f,pp)}}function s(u,c){var l,f,d;if(c<=0){if(Array.isArray(u[0][0])){for(d=KC(u),f=[],l=0;l<d.length;l++)f[l]=s(d[l],c-1);return f}return a(u)}for(f=[],l=0;l<u.length;l++)f[l]=s(u[l],c-1);return f}}),vW=B("cumsum",["typed","add","unaryPlus"],e=>{var{typed:t,add:r,unaryPlus:n}=e,i=tS({typed:t,add:r,unaryPlus:n});return t("cumsum",{"...any":function(o){if(2===o.length&&vi(o[0])){var s=o[1];Et(s)?o[1]=s-1:It(s)&&(o[1]=s.minus(1))}try{return i.apply(null,o)}catch(u){throw Rn(u)}}})},{isTransformFunction:!0}),bW=B("index",["Index","getMatrixDataType"],e=>{var{Index:t,getMatrixDataType:r}=e;return function(){for(var i=[],a=0,o=arguments.length;a<o;a++){var s=arguments[a];if(Gg(s))s.start--,s.end-=s.step>0?0:2;else if(s&&!0===s.isSet)s=s.map(function(c){return c-1});else if(Qt(s)||Je(s))"boolean"!==r(s)&&(s=s.map(function(c){return c-1}));else if(Et(s))s--;else if(It(s))s=s.toNumber()-1;else if("string"!=typeof s)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[a]=s}var u=new t;return t.apply(u,i),u}},{isTransformFunction:!0}),iS=B("sum",["typed","config","add","numeric"],e=>{var{typed:t,config:r,add:n,numeric:i}=e;return t("sum",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function o(s,u){try{return op(s,u,n)}catch(l){throw Bn(l,"sum")}},"...":function(u){if(Du(u))throw new TypeError("Scalar values expected in function sum");return a(u)}});function a(s){var u;return Oa(s,function(c){try{u=void 0===u?c:n(u,c)}catch(l){throw Bn(l,"sum",c)}}),void 0===u&&(u=i(0,r.number)),"string"==typeof u&&(u=i(u,r.number)),u}}),xW=B("sum",["typed","config","add","numeric"],e=>{var{typed:t,config:r,add:n,numeric:i}=e,a=iS({typed:t,config:r,add:n,numeric:i});return t("sum",{"...any":function(s){s=uo(s);try{return a.apply(null,s)}catch(u){throw Rn(u)}}})},{isTransformFunction:!0}),sS=B("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],e=>{var{typed:t,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:u,add:c,isPositive:l}=e;return t("range",{string:d,"string, boolean":d,"number, number":function(y,g){return f(p(y,g,1,!1))},"number, number, number":function(y,g,x){return f(p(y,g,x,!1))},"number, number, boolean":function(y,g,x){return f(p(y,g,1,x))},"number, number, number, boolean":function(y,g,x,v){return f(p(y,g,x,v))},"BigNumber, BigNumber":function(y,g){return f(p(y,g,new(0,y.constructor)(1),!1))},"BigNumber, BigNumber, BigNumber":function(y,g,x){return f(p(y,g,x,!1))},"BigNumber, BigNumber, boolean":function(y,g,x){return f(p(y,g,new(0,y.constructor)(1),x))},"BigNumber, BigNumber, BigNumber, boolean":function(y,g,x,v){return f(p(y,g,x,v))},"Unit, Unit, Unit":function(y,g,x){return f(p(y,g,x,!1))},"Unit, Unit, Unit, boolean":function(y,g,x,v){return f(p(y,g,x,v))}});function f(m){return"Matrix"===r.matrix?n?n(m):nA():m}function d(m,y){var g=function h(m){var g=m.split(":").map(function(v){return Number(v)});if(g.some(function(v){return isNaN(v)}))return null;switch(g.length){case 2:return{start:g[0],end:g[1],step:1};case 3:return{start:g[0],end:g[2],step:g[1]};default:return null}}(m);if(!g)throw new SyntaxError('String "'+m+'" is no valid range');return"BigNumber"===r.number?(void 0===i&&f0(),f(p(i(g.start),i(g.end),i(g.step)))):f(p(g.start,g.end,g.step,y))}function p(m,y,g,x){for(var v=[],D=l(g)?x?o:a:x?u:s,w=m;D(w,y);)v.push(w),w=c(w,g);return v}}),AW=B("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],e=>{var{typed:t,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:u,add:c,isPositive:l}=e,f=sS({typed:t,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:u,add:c,isPositive:l});return t("range",{"...any":function(p){return"boolean"!=typeof p[p.length-1]&&p.push(!0),f.apply(null,p)}})},{isTransformFunction:!0}),cS=B("row",["typed","Index","matrix","range"],e=>{var{typed:t,Index:r,matrix:n,range:i}=e;return t("row",{"Matrix, number":a,"Array, number":function(s,u){return a(n(ct(s)),u).valueOf()}});function a(o,s){if(2!==o.size().length)throw new Error("Only two dimensional matrix is supported");sr(s,o.size()[0]);var u=i(0,o.size()[1]),c=new r(s,u),l=o.subset(c);return Je(l)?l:n([[l]])}}),TW=B("row",["typed","Index","matrix","range"],e=>{var{typed:t,Index:r,matrix:n,range:i}=e,a=cS({typed:t,Index:r,matrix:n,range:i});return t("row",{"...any":function(s){var u=s.length-1,c=s[u];Et(c)&&(s[u]=c-1);try{return a.apply(null,s)}catch(l){throw Rn(l)}}})},{isTransformFunction:!0}),fS=B("column",["typed","Index","matrix","range"],e=>{var{typed:t,Index:r,matrix:n,range:i}=e;return t("column",{"Matrix, number":a,"Array, number":function(s,u){return a(n(ct(s)),u).valueOf()}});function a(o,s){if(2!==o.size().length)throw new Error("Only two dimensional matrix is supported");sr(s,o.size()[1]);var u=i(0,o.size()[0]),c=new r(u,s),l=o.subset(c);return Je(l)?l:n([[l]])}}),RW=B("column",["typed","Index","matrix","range"],e=>{var{typed:t,Index:r,matrix:n,range:i}=e,a=fS({typed:t,Index:r,matrix:n,range:i});return t("column",{"...any":function(s){var u=s.length-1,c=s[u];Et(c)&&(s[u]=c-1);try{return a.apply(null,s)}catch(l){throw Rn(l)}}})},{isTransformFunction:!0}),pS=B("mean",["typed","add","divide"],e=>{var{typed:t,add:r,divide:n}=e;return t("mean",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function i(o,s){try{var u=op(o,s,r),c=Array.isArray(o)?lt(o):o.size();return n(u,c[s])}catch(l){throw Bn(l,"mean")}},"...":function(s){if(Du(s))throw new TypeError("Scalar values expected in function mean");return a(s)}});function a(o){var s,u=0;if(Oa(o,function(c){try{s=void 0===s?c:r(s,c),u++}catch(l){throw Bn(l,"mean",c)}}),0===u)throw new Error("Cannot calculate the mean of an empty array");return n(s,u)}}),kW=B("mean",["typed","add","divide"],e=>{var{typed:t,add:r,divide:n}=e,i=pS({typed:t,add:r,divide:n});return t("mean",{"...any":function(o){o=uo(o);try{return i.apply(null,o)}catch(s){throw Rn(s)}}})},{isTransformFunction:!0}),mS="quantileSeq",hS=B(mS,["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],e=>{var{typed:t,bignumber:r,add:n,subtract:i,divide:a,multiply:o,partitionSelect:s,compare:u,isInteger:c,smaller:l,smallerEq:f,larger:d}=e,p=p0({typed:t,isInteger:c});return t(mS,{"Array | Matrix, number | BigNumber":(x,v)=>m(x,v,!1),"Array | Matrix, number | BigNumber, number":(x,v,D)=>h(x,v,!1,D,m),"Array | Matrix, number | BigNumber, boolean":m,"Array | Matrix, number | BigNumber, boolean, number":(x,v,D,w)=>h(x,v,D,w,m),"Array | Matrix, Array | Matrix":(x,v)=>y(x,v,!1),"Array | Matrix, Array | Matrix, number":(x,v,D)=>h(x,v,!1,D,y),"Array | Matrix, Array | Matrix, boolean":y,"Array | Matrix, Array | Matrix, boolean, number":(x,v,D,w)=>h(x,v,D,w,y)});function h(x,v,D,w,b){return p(x,w,A=>b(A,v,D))}function m(x,v,D){var w,b=x.valueOf();if(l(v,0))throw new Error("N/prob must be non-negative");if(f(v,1))return Et(v)?g(b,v,D):r(g(b,v,D));if(d(v,1)){if(!c(v))throw new Error("N must be a positive integer");if(d(v,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var A=n(v,1);w=[];for(var C=0;l(C,v);C++){var E=a(C+1,A);w.push(g(b,E,D))}return Et(v)?w:r(w)}}function y(x,v,D){for(var w=x.valueOf(),b=v.valueOf(),A=[],C=0;C<b.length;++C)A.push(g(w,b[C],D));return A}function g(x,v,D){var w=jt(x),b=w.length;if(0===b)throw new Error("Cannot calculate quantile of an empty sequence");var N,_,A=Et(v)?v*(b-1):v.times(b-1),C=Et(v)?Math.floor(A):A.floor().toNumber(),E=Et(v)?A%1:A.minus(C);if(c(A))return D?w[A]:s(w,Et(v)?A:A.valueOf());if(D)N=w[C],_=w[C+1];else{_=s(w,C+1),N=w[C];for(var I=0;I<C;++I)u(w[I],N)>0&&(N=w[I])}return n(o(N,i(1,E)),o(_,E))}}),VW=B("quantileSeq",["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],e=>{var{typed:t,bignumber:r,add:n,subtract:i,divide:a,multiply:o,partitionSelect:s,compare:u,isInteger:c,smaller:l,smallerEq:f,larger:d}=e,p=hS({typed:t,bignumber:r,add:n,subtract:i,divide:a,multiply:o,partitionSelect:s,compare:u,isInteger:c,smaller:l,smallerEq:f,larger:d});return t("quantileSeq",{"Array | Matrix, number | BigNumber":p,"Array | Matrix, number | BigNumber, number":(m,y,g)=>p(m,y,h(g)),"Array | Matrix, number | BigNumber, boolean":p,"Array | Matrix, number | BigNumber, boolean, number":(m,y,g,x)=>p(m,y,g,h(x)),"Array | Matrix, Array | Matrix":p,"Array | Matrix, Array | Matrix, number":(m,y,g)=>p(m,y,h(g)),"Array | Matrix, Array | Matrix, boolean":p,"Array | Matrix, Array | Matrix, boolean, number":(m,y,g,x)=>p(m,y,g,h(x))});function h(m){return uo([[],m])[1]}},{isTransformFunction:!0}),g0="unbiased",vS="variance",gS=B(vS,["typed","add","subtract","multiply","divide","apply","isNaN"],e=>{var{typed:t,add:r,subtract:n,multiply:i,divide:a,apply:o,isNaN:s}=e;return t(vS,{"Array | Matrix":function(f){return u(f,g0)},"Array | Matrix, string":u,"Array | Matrix, number | BigNumber":function(f,d){return c(f,d,g0)},"Array | Matrix, number | BigNumber, string":c,"...":function(f){return u(f,g0)}});function u(l,f){var d,p=0;if(0===l.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(Oa(l,function(y){try{d=void 0===d?y:r(d,y),p++}catch(g){throw Bn(g,"variance",y)}}),0===p)throw new Error("Cannot calculate variance of an empty array");var h=a(d,p);if(d=void 0,Oa(l,function(y){var g=n(y,h);d=void 0===d?i(g,g):r(d,i(g,g))}),s(d))return d;switch(f){case"uncorrected":return a(d,p);case"biased":return a(d,p+1);case"unbiased":var m=It(d)?d.mul(0):0;return 1===p?m:a(d,p-1);default:throw new Error('Unknown normalization "'+f+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function c(l,f,d){try{if(0===l.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(l,f,p=>u(p,d))}catch(p){throw Bn(p,"variance")}}}),yS="variance",jW=B(yS,["typed","add","subtract","multiply","divide","apply","isNaN"],e=>{var{typed:t,add:r,subtract:n,multiply:i,divide:a,apply:o,isNaN:s}=e,u=gS({typed:t,add:r,subtract:n,multiply:i,divide:a,apply:o,isNaN:s});return t(yS,{"...any":function(l){l=uo(l);try{return u.apply(null,l)}catch(f){throw Rn(f)}}})},{isTransformFunction:!0}),DS=B("std",["typed","map","sqrt","variance"],e=>{var{typed:t,map:r,sqrt:n,variance:i}=e;return t("std",{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(s){return a(s)}});function a(o,s){if(0===o.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var u=i.apply(null,arguments);return vi(u)?r(u,n):n(u)}catch(c){throw c instanceof TypeError&&-1!==c.message.indexOf(" variance")?new TypeError(c.message.replace(" variance"," std")):c}}}),YW=B("std",["typed","map","sqrt","variance"],e=>{var{typed:t,map:r,sqrt:n,variance:i}=e,a=DS({typed:t,map:r,sqrt:n,variance:i});return t("std",{"...any":function(s){s=uo(s);try{return a.apply(null,s)}catch(u){throw Rn(u)}}})},{isTransformFunction:!0}),Nu=9e15,lo=1e9,y0="0123456789abcdef",mp="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",hp="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",b0={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Nu,maxE:Nu,crypto:!1},ft=!0,vp="[DecimalError] ",fo=vp+"Invalid argument: ",xS=vp+"Precision limit exceeded",ES=vp+"crypto unavailable",NS="[object Decimal]",wn=Math.floor,en=Math.pow,QW=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,XW=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,KW=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,CS=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Li=1e7,rt=7,eZ=mp.length-1,D0=hp.length-1,Ae={toStringTag:NS};function cn(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(r=rt-(n=e[t]+"").length)&&(a+=po(r)),a+=n;(r=rt-(n=(o=e[t])+"").length)&&(a+=po(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}function Qn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(fo+e)}function fl(e,t,r,n){var i,a,o,s;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=rt,i=0):(i=Math.ceil((t+1)/rt),t%=rt),a=en(10,rt-t),s=e[i]%a|0,null==n?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),o=r<4&&99999==s||r>3&&49999==s||5e4==s||0==s):o=(r<4&&s+1==a||r>3&&s+1==a/2)&&(e[i+1]/a/100|0)==en(10,t-2)-1||(s==a/2||0==s)&&0==(e[i+1]/a/100|0):t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),o=(n||r<4)&&9999==s||!n&&r>3&&4999==s):o=((n||r<4)&&s+1==a||!n&&r>3&&s+1==a/2)&&(e[i+1]/a/1e3|0)==en(10,t-3)-1,o}function gp(e,t,r){for(var n,a,i=[0],o=0,s=e.length;o<s;){for(a=i.length;a--;)i[a]*=t;for(i[0]+=y0.indexOf(e.charAt(o++)),n=0;n<i.length;n++)i[n]>r-1&&(void 0===i[n+1]&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}Ae.absoluteValue=Ae.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),Qe(e)},Ae.ceil=function(){return Qe(new this.constructor(this),this.e+1,2)},Ae.clampedTo=Ae.clamp=function(e,t){var n=this,i=n.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(fo+t);return n.cmp(e)<0?e:n.cmp(t)>0?t:new i(n)},Ae.comparedTo=Ae.cmp=function(e){var t,r,n,i,a=this,o=a.d,s=(e=new a.constructor(e)).d,u=a.s,c=e.s;if(!o||!s)return u&&c?u!==c?u:o===s?0:!o^u<0?1:-1:NaN;if(!o[0]||!s[0])return o[0]?u:s[0]?-c:0;if(u!==c)return u;if(a.e!==e.e)return a.e>e.e^u<0?1:-1;for(t=0,r=(n=o.length)<(i=s.length)?n:i;t<r;++t)if(o[t]!==s[t])return o[t]>s[t]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1},Ae.cosine=Ae.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.rounding,n.precision=(e=n.precision)+Math.max(r.e,r.sd())+rt,n.rounding=1,r=function tZ(e,t){var r,n,i;if(t.isZero())return t;(n=t.d.length)<32?i=(1/Dp(4,r=Math.ceil(n/3))).toString():(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=Cu(e,1,t.times(i),new e(1));for(var a=r;a--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}(n,IS(n,r)),n.precision=e,n.rounding=t,Qe(2==Ra||3==Ra?r.neg():r,e,t,!0)):new n(1):new n(NaN)},Ae.cubeRoot=Ae.cbrt=function(){var e,t,r,n,i,a,o,s,u,c,l=this,f=l.constructor;if(!l.isFinite()||l.isZero())return new f(l);for(ft=!1,(a=l.s*en(l.s*l,1/3))&&Math.abs(a)!=1/0?n=new f(a.toString()):(r=cn(l.d),(a=((e=l.e)-r.length+1)%3)&&(r+=1==a||-2==a?"0":"00"),a=en(r,1/3),e=wn((e+1)/3)-(e%3==(e<0?-1:2)),(n=new f(r=a==1/0?"5e"+e:(r=a.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=l.s),o=(e=f.precision)+3;;)if(c=(u=(s=n).times(s).times(s)).plus(l),n=gr(c.plus(l).times(s),c.plus(u),o+2,1),cn(s.d).slice(0,o)===(r=cn(n.d)).slice(0,o)){if("9999"!=(r=r.slice(o-3,o+1))&&(i||"4999"!=r)){(!+r||!+r.slice(1)&&"5"==r.charAt(0))&&(Qe(n,e+1,1),t=!n.times(n).times(n).eq(l));break}if(!i&&(Qe(s,e+1,0),s.times(s).times(s).eq(l))){n=s;break}o+=4,i=1}return ft=!0,Qe(n,e,f.rounding,t)},Ae.decimalPlaces=Ae.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-wn(this.e/rt))*rt,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},Ae.dividedBy=Ae.div=function(e){return gr(this,new this.constructor(e))},Ae.dividedToIntegerBy=Ae.divToInt=function(e){var r=this.constructor;return Qe(gr(this,new r(e),0,1,1),r.precision,r.rounding)},Ae.equals=Ae.eq=function(e){return 0===this.cmp(e)},Ae.floor=function(){return Qe(new this.constructor(this),this.e+1,3)},Ae.greaterThan=Ae.gt=function(e){return this.cmp(e)>0},Ae.greaterThanOrEqualTo=Ae.gte=function(e){var t=this.cmp(e);return 1==t||0===t},Ae.hyperbolicCosine=Ae.cosh=function(){var e,t,r,n,i,a=this,o=a.constructor,s=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return s;n=o.rounding,o.precision=(r=o.precision)+Math.max(a.e,a.sd())+4,o.rounding=1,(i=a.d.length)<32?t=(1/Dp(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=Cu(o,1,a.times(t),new o(1),!0);for(var u,c=e,l=new o(8);c--;)u=a.times(a),a=s.minus(u.times(l.minus(u.times(l))));return Qe(a,o.precision=r,o.rounding=n,!0)},Ae.hyperbolicSine=Ae.sinh=function(){var e,t,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(r=a.rounding,a.precision=(t=a.precision)+Math.max(i.e,i.sd())+4,a.rounding=1,(n=i.d.length)<3)i=Cu(a,2,i,i,!0);else{e=1.4*Math.sqrt(n),i=Cu(a,2,i=i.times(1/Dp(5,e=e>16?16:0|e)),i,!0);for(var o,s=new a(5),u=new a(16),c=new a(20);e--;)o=i.times(i),i=i.times(s.plus(o.times(u.times(o).plus(c))))}return a.precision=t,a.rounding=r,Qe(i,t,r,!0)},Ae.hyperbolicTangent=Ae.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.rounding,n.precision=(e=n.precision)+7,n.rounding=1,gr(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)},Ae.inverseCosine=Ae.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),i=r.precision,a=r.rounding;return-1!==n?0===n?t.isNeg()?ki(r,i,a):new r(0):new r(NaN):t.isZero()?ki(r,i+4,a).times(.5):(r.precision=i+6,r.rounding=1,t=t.asin(),e=ki(r,i+4,a).times(.5),r.precision=i,r.rounding=a,e.minus(t))},Ae.inverseHyperbolicCosine=Ae.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.rounding,n.precision=(e=n.precision)+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,ft=!1,r=r.times(r).minus(1).sqrt().plus(r),ft=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},Ae.inverseHyperbolicSine=Ae.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.rounding,n.precision=(e=n.precision)+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,ft=!1,r=r.times(r).plus(1).sqrt().plus(r),ft=!0,n.precision=e,n.rounding=t,r.ln())},Ae.inverseHyperbolicTangent=Ae.atanh=function(){var e,t,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=a.precision,t=a.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?Qe(new a(i),e,t,!0):(a.precision=r=n-i.e,i=gr(i.plus(1),new a(1).minus(i),r+e,1),a.precision=e+4,a.rounding=1,i=i.ln(),a.precision=e,a.rounding=t,i.times(.5))):new a(NaN)},Ae.inverseSine=Ae.asin=function(){var e,t,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),r=a.precision,n=a.rounding,-1!==t?0===t?((e=ki(a,r+4,n).times(.5)).s=i.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2)))},Ae.inverseTangent=Ae.atan=function(){var e,t,r,n,i,a,o,s,u,c=this,l=c.constructor,f=l.precision,d=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&f+4<=D0)return(o=ki(l,f+4,d).times(.25)).s=c.s,o}else{if(!c.s)return new l(NaN);if(f+4<=D0)return(o=ki(l,f+4,d).times(.5)).s=c.s,o}for(l.precision=s=f+10,l.rounding=1,e=r=Math.min(28,s/rt+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(ft=!1,t=Math.ceil(s/rt),n=1,u=c.times(c),o=new l(c),i=c;-1!==e;)if(i=i.times(u),a=o.minus(i.div(n+=2)),i=i.times(u),void 0!==(o=a.plus(i.div(n+=2))).d[t])for(e=t;o.d[e]===a.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),ft=!0,Qe(o,l.precision=f,l.rounding=d,!0)},Ae.isFinite=function(){return!!this.d},Ae.isInteger=Ae.isInt=function(){return!!this.d&&wn(this.e/rt)>this.d.length-2},Ae.isNaN=function(){return!this.s},Ae.isNegative=Ae.isNeg=function(){return this.s<0},Ae.isPositive=Ae.isPos=function(){return this.s>0},Ae.isZero=function(){return!!this.d&&0===this.d[0]},Ae.lessThan=Ae.lt=function(e){return this.cmp(e)<0},Ae.lessThanOrEqualTo=Ae.lte=function(e){return this.cmp(e)<1},Ae.logarithm=Ae.log=function(e){var t,r,n,i,a,o,s,u,c=this,l=c.constructor,f=l.precision,d=l.rounding;if(null==e)e=new l(10),t=!0;else{if(r=(e=new l(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(r=c.d,c.s<0||!r||!r[0]||c.eq(1))return new l(r&&!r[0]?-1/0:1!=c.s?NaN:r?0:1/0);if(t)if(r.length>1)a=!0;else{for(i=r[0];i%10==0;)i/=10;a=1!==i}if(ft=!1,o=mo(c,s=f+5),n=t?bp(l,s+10):mo(e,s),fl((u=gr(o,n,s,1)).d,i=f,d))do{if(o=mo(c,s+=10),n=t?bp(l,s+10):mo(e,s),u=gr(o,n,s,1),!a){+cn(u.d).slice(i+1,i+15)+1==1e14&&(u=Qe(u,f+1,0));break}}while(fl(u.d,i+=10,d));return ft=!0,Qe(u,f,d)},Ae.minus=Ae.sub=function(e){var t,r,n,i,a,o,s,u,c,l,f,d,p=this,h=p.constructor;if(e=new h(e),!p.d||!e.d)return p.s&&e.s?p.d?e.s=-e.s:e=new h(e.d||p.s!==e.s?p:NaN):e=new h(NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(d=e.d,s=h.precision,u=h.rounding,!(c=p.d)[0]||!d[0]){if(d[0])e.s=-e.s;else{if(!c[0])return new h(3===u?-0:0);e=new h(p)}return ft?Qe(e,s,u):e}if(r=wn(e.e/rt),l=wn(p.e/rt),c=c.slice(),a=l-r){for((f=a<0)?(t=c,a=-a,o=d.length):(t=d,r=l,o=c.length),a>(n=Math.max(Math.ceil(s/rt),o)+2)&&(a=n,t.length=1),t.reverse(),n=a;n--;)t.push(0);t.reverse()}else{for((f=(n=c.length)<(o=d.length))&&(o=n),n=0;n<o;n++)if(c[n]!=d[n]){f=c[n]<d[n];break}a=0}for(f&&(t=c,c=d,d=t,e.s=-e.s),n=d.length-(o=c.length);n>0;--n)c[o++]=0;for(n=d.length;n>a;){if(c[--n]<d[n]){for(i=n;i&&0===c[--i];)c[i]=Li-1;--c[i],c[n]+=Li}c[n]-=d[n]}for(;0===c[--o];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(e.d=c,e.e=yp(c,r),ft?Qe(e,s,u):e):new h(3===u?-0:0)},Ae.modulo=Ae.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?Qe(new n(r),n.precision,n.rounding):(ft=!1,9==n.modulo?(t=gr(r,e.abs(),0,3,1)).s*=e.s:t=gr(r,e,0,n.modulo,1),t=t.times(e),ft=!0,r.minus(t))},Ae.naturalExponential=Ae.exp=function(){return w0(this)},Ae.naturalLogarithm=Ae.ln=function(){return mo(this)},Ae.negated=Ae.neg=function(){var e=new this.constructor(this);return e.s=-e.s,Qe(e)},Ae.plus=Ae.add=function(e){var t,r,n,i,a,o,s,u,c,l,f=this,d=f.constructor;if(e=new d(e),!f.d||!e.d)return f.s&&e.s?f.d||(e=new d(e.d||f.s===e.s?f:NaN)):e=new d(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.minus(e);if(l=e.d,s=d.precision,u=d.rounding,!(c=f.d)[0]||!l[0])return l[0]||(e=new d(f)),ft?Qe(e,s,u):e;if(a=wn(f.e/rt),n=wn(e.e/rt),c=c.slice(),i=a-n){for(i<0?(r=c,i=-i,o=l.length):(r=l,n=a,o=c.length),i>(o=(a=Math.ceil(s/rt))>o?a+1:o+1)&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((o=c.length)-(i=l.length)<0&&(i=o,r=l,l=c,c=r),t=0;i;)t=(c[--i]=c[i]+l[i]+t)/Li|0,c[i]%=Li;for(t&&(c.unshift(t),++n),o=c.length;0==c[--o];)c.pop();return e.d=c,e.e=yp(c,n),ft?Qe(e,s,u):e},Ae.precision=Ae.sd=function(e){var t,r=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(fo+e);return r.d?(t=AS(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t},Ae.round=function(){var e=this,t=e.constructor;return Qe(new t(e),e.e+1,t.rounding)},Ae.sine=Ae.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.rounding,n.precision=(e=n.precision)+Math.max(r.e,r.sd())+rt,n.rounding=1,r=function nZ(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:Cu(e,2,t,t);r=1.4*Math.sqrt(n),t=Cu(e,2,t=t.times(1/Dp(5,r=r>16?16:0|r)),t);for(var i,a=new e(5),o=new e(16),s=new e(20);r--;)i=t.times(t),t=t.times(a.plus(i.times(o.times(i).minus(s))));return t}(n,IS(n,r)),n.precision=e,n.rounding=t,Qe(Ra>2?r.neg():r,e,t,!0)):new n(NaN)},Ae.squareRoot=Ae.sqrt=function(){var e,t,r,n,i,a,o=this,s=o.d,u=o.e,c=o.s,l=o.constructor;if(1!==c||!s||!s[0])return new l(!c||c<0&&(!s||s[0])?NaN:s?o:1/0);for(ft=!1,0==(c=Math.sqrt(+o))||c==1/0?(((t=cn(s)).length+u)%2==0&&(t+="0"),c=Math.sqrt(t),u=wn((u+1)/2)-(u<0||u%2),n=new l(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new l(c.toString()),r=(u=l.precision)+3;;)if(n=(a=n).plus(gr(o,a,r+2,1)).times(.5),cn(a.d).slice(0,r)===(t=cn(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){(!+t||!+t.slice(1)&&"5"==t.charAt(0))&&(Qe(n,u+1,1),e=!n.times(n).eq(o));break}if(!i&&(Qe(a,u+1,0),a.times(a).eq(o))){n=a;break}r+=4,i=1}return ft=!0,Qe(n,u,l.rounding,e)},Ae.tangent=Ae.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.rounding,n.precision=(e=n.precision)+10,n.rounding=1,(r=r.sin()).s=1,r=gr(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,Qe(2==Ra||4==Ra?r.neg():r,e,t,!0)):new n(NaN)},Ae.times=Ae.mul=function(e){var t,r,n,i,a,o,s,u,c,l=this,f=l.constructor,d=l.d,p=(e=new f(e)).d;if(e.s*=l.s,!(d&&d[0]&&p&&p[0]))return new f(!e.s||d&&!d[0]&&!p||p&&!p[0]&&!d?NaN:d&&p?0*e.s:e.s/0);for(r=wn(l.e/rt)+wn(e.e/rt),(u=d.length)<(c=p.length)&&(a=d,d=p,p=a,o=u,u=c,c=o),a=[],n=o=u+c;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=u+n;i>n;)s=a[i]+p[n]*d[i-n-1]+t,a[i--]=s%Li|0,t=s/Li|0;a[i]=(a[i]+t)%Li|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=yp(a,r),ft?Qe(e,f.precision,f.rounding):e},Ae.toBinary=function(e,t){return E0(this,2,e,t)},Ae.toDecimalPlaces=Ae.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(Qn(e,0,lo),void 0===t?t=n.rounding:Qn(t,0,8),Qe(r,e+r.e+1,t))},Ae.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=la(n,!0):(Qn(e,0,lo),void 0===t?t=i.rounding:Qn(t,0,8),r=la(n=Qe(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},Ae.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return void 0===e?r=la(i):(Qn(e,0,lo),void 0===t?t=a.rounding:Qn(t,0,8),r=la(n=Qe(new a(i),e+i.e+1,t),!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},Ae.toFraction=function(e){var t,r,n,i,a,o,s,u,c,l,f,d,p=this,h=p.d,m=p.constructor;if(!h)return new m(p);if(c=r=new m(1),n=u=new m(0),a=(t=new m(n)).e=AS(h)-p.e-1,t.d[0]=en(10,(o=a%rt)<0?rt+o:o),null==e)e=a>0?t:c;else{if(!(s=new m(e)).isInt()||s.lt(c))throw Error(fo+s);e=s.gt(t)?a>0?t:c:s}for(ft=!1,s=new m(cn(h)),l=m.precision,m.precision=a=h.length*rt*2;f=gr(s,t,0,1,1),1!=(i=r.plus(f.times(n))).cmp(e);)r=n,n=i,c=u.plus(f.times(i=c)),u=i,t=s.minus(f.times(i=t)),s=i;return i=gr(e.minus(r),n,0,1,1),u=u.plus(i.times(c)),r=r.plus(i.times(n)),u.s=c.s=p.s,d=gr(c,n,a,1).minus(p).abs().cmp(gr(u,r,a,1).minus(p).abs())<1?[c,n]:[u,r],m.precision=l,ft=!0,d},Ae.toHexadecimal=Ae.toHex=function(e,t){return E0(this,16,e,t)},Ae.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:Qn(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(ft=!1,r=gr(r,e,0,t,1).times(e),ft=!0,Qe(r)):(e.s=r.s,r=e),r},Ae.toNumber=function(){return+this},Ae.toOctal=function(e,t){return E0(this,8,e,t)},Ae.toPower=Ae.pow=function(e){var t,r,n,i,a,o,s=this,u=s.constructor,c=+(e=new u(e));if(!(s.d&&e.d&&s.d[0]&&e.d[0]))return new u(en(+s,c));if((s=new u(s)).eq(1))return s;if(n=u.precision,a=u.rounding,e.eq(1))return Qe(s,n,a);if((t=wn(e.e/rt))>=e.d.length-1&&(r=c<0?-c:c)<=9007199254740991)return i=SS(u,s,r,n),e.s<0?new u(1).div(i):Qe(i,n,a);if((o=s.s)<0){if(t<e.d.length-1)return new u(NaN);if(1&e.d[t]||(o=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=o,s}return(t=0!=(r=en(+s,c))&&isFinite(r)?new u(r+"").e:wn(c*(Math.log("0."+cn(s.d))/Math.LN10+s.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?o/0:0):(ft=!1,u.rounding=s.s=1,r=Math.min(12,(t+"").length),(i=w0(e.times(mo(s,n+r)),n)).d&&fl((i=Qe(i,n+5,1)).d,n,a)&&+cn((i=Qe(w0(e.times(mo(s,(t=n+10)+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=Qe(i,n+1,0)),i.s=o,ft=!0,u.rounding=a,Qe(i,n,a))},Ae.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=la(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Qn(e,1,lo),void 0===t?t=i.rounding:Qn(t,0,8),r=la(n=Qe(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},Ae.toSignificantDigits=Ae.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(Qn(e,1,lo),void 0===t?t=n.rounding:Qn(t,0,8)),Qe(new n(this),e,t)},Ae.toString=function(){var e=this,t=e.constructor,r=la(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r},Ae.truncated=Ae.trunc=function(){return Qe(new this.constructor(this),this.e+1,1)},Ae.valueOf=Ae.toJSON=function(){var e=this,t=e.constructor,r=la(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};var gr=function(){function e(n,i,a){var o,s=0,u=n.length;for(n=n.slice();u--;)n[u]=(o=n[u]*i+s)%a|0,s=o/a|0;return s&&n.unshift(s),n}function t(n,i,a,o){var s,u;if(a!=o)u=a>o?1:-1;else for(s=u=0;s<a;s++)if(n[s]!=i[s]){u=n[s]>i[s]?1:-1;break}return u}function r(n,i,a,o){for(var s=0;a--;)n[a]-=s,n[a]=(s=n[a]<i[a]?1:0)*o+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o,s,u){var c,l,f,d,p,h,m,y,g,x,v,D,w,b,A,C,E,N,_,I,R=n.constructor,k=n.s==i.s?1:-1,P=n.d,T=i.d;if(!(P&&P[0]&&T&&T[0]))return new R(n.s&&i.s&&(P?!T||P[0]!=T[0]:T)?P&&0==P[0]||!T?0*k:k/0:NaN);for(u?(p=1,l=n.e-i.e):(u=Li,l=wn(n.e/(p=rt))-wn(i.e/p)),_=T.length,E=P.length,x=(g=new R(k)).d=[],f=0;T[f]==(P[f]||0);f++);if(T[f]>(P[f]||0)&&l--,null==a?(b=a=R.precision,o=R.rounding):b=s?a+(n.e-i.e)+1:a,b<0)x.push(1),h=!0;else{if(b=b/p+2|0,f=0,1==_){for(d=0,T=T[0],b++;(f<E||d)&&b--;f++)x[f]=(A=d*u+(P[f]||0))/T|0,d=A%T|0;h=d||f<E}else{for((d=u/(T[0]+1)|0)>1&&(T=e(T,d,u),P=e(P,d,u),_=T.length,E=P.length),C=_,D=(v=P.slice(0,_)).length;D<_;)v[D++]=0;(I=T.slice()).unshift(0),N=T[0],T[1]>=u/2&&++N;do{d=0,(c=t(T,v,_,D))<0?(w=v[0],_!=D&&(w=w*u+(v[1]||0)),(d=w/N|0)>1?(d>=u&&(d=u-1),1==(c=t(m=e(T,d,u),v,y=m.length,D=v.length))&&(d--,r(m,_<y?I:T,y,u))):(0==d&&(c=d=1),m=T.slice()),(y=m.length)<D&&m.unshift(0),r(v,m,D,u),-1==c&&(c=t(T,v,_,D=v.length))<1&&(d++,r(v,_<D?I:T,D,u)),D=v.length):0===c&&(d++,v=[0]),x[f++]=d,c&&v[0]?v[D++]=P[C]||0:(v=[P[C]],D=1)}while((C++<E||void 0!==v[0])&&b--);h=void 0!==v[0]}x[0]||x.shift()}if(1==p)g.e=l,wS=h;else{for(f=1,d=x[0];d>=10;d/=10)f++;g.e=f+l*p-1,Qe(g,s?a+g.e+1:a,o,h)}return g}}();function Qe(e,t,r,n){var i,a,o,s,u,c,l,f,d,p=e.constructor;e:if(null!=t){if(!(f=e.d))return e;for(i=1,s=f[0];s>=10;s/=10)i++;if((a=t-i)<0)a+=rt,u=(l=f[d=0])/en(10,i-(o=t)-1)%10|0;else if((d=Math.ceil((a+1)/rt))>=(s=f.length)){if(!n)break e;for(;s++<=d;)f.push(0);l=u=0,i=1,o=(a%=rt)-rt+1}else{for(l=s=f[d],i=1;s>=10;s/=10)i++;u=(o=(a%=rt)-rt+i)<0?0:l/en(10,i-o-1)%10|0}if(n=n||t<0||void 0!==f[d+1]||(o<0?l:l%en(10,i-o-1)),c=r<4?(u||n)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(a>0?o>0?l/en(10,i-o):0:f[d-1])%10&1||r==(e.s<0?8:7)),t<1||!f[0])return f.length=0,c?(f[0]=en(10,(rt-(t-=e.e+1)%rt)%rt),e.e=-t||0):f[0]=e.e=0,e;if(0==a?(f.length=d,s=1,d--):(f.length=d+1,s=en(10,rt-a),f[d]=o>0?(l/en(10,i-o)%en(10,o)|0)*s:0),c)for(;;){if(0==d){for(a=1,o=f[0];o>=10;o/=10)a++;for(o=f[0]+=s,s=1;o>=10;o/=10)s++;a!=s&&(e.e++,f[0]==Li&&(f[0]=1));break}if(f[d]+=s,f[d]!=Li)break;f[d--]=0,s=1}for(a=f.length;0===f[--a];)f.pop()}return ft&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function la(e,t,r){if(!e.isFinite())return TS(e);var n,i=e.e,a=cn(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+po(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):i<0?(a="0."+po(-i-1)+a,r&&(n=r-o)>0&&(a+=po(n))):i>=o?(a+=po(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+po(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=po(n))),a}function yp(e,t){var r=e[0];for(t*=rt;r>=10;r/=10)t++;return t}function bp(e,t,r){if(t>eZ)throw ft=!0,r&&(e.precision=r),Error(xS);return Qe(new e(mp),t,1,!0)}function ki(e,t,r){if(t>D0)throw Error(xS);return Qe(new e(hp),t,r,!0)}function AS(e){var t=e.length-1,r=t*rt+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function po(e){for(var t="";e--;)t+="0";return t}function SS(e,t,r,n){var i,a=new e(1),o=Math.ceil(n/rt+4);for(ft=!1;;){if(r%2&&FS((a=a.times(t)).d,o)&&(i=!0),0===(r=wn(r/2))){r=a.d.length-1,i&&0===a.d[r]&&++a.d[r];break}FS((t=t.times(t)).d,o)}return ft=!0,a}function MS(e){return 1&e.d[e.d.length-1]}function _S(e,t,r){for(var n,i=new e(t[0]),a=0;++a<t.length;){if(!(n=new e(t[a])).s){i=n;break}i[r](n)&&(i=n)}return i}function w0(e,t){var r,n,i,a,o,s,u,c=0,l=0,f=0,d=e.constructor,p=d.rounding,h=d.precision;if(!e.d||!e.d[0]||e.e>17)return new d(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(ft=!1,u=h):u=t,s=new d(.03125);e.e>-2;)e=e.times(s),f+=5;for(u+=n=Math.log(en(2,f))/Math.LN10*2+5|0,r=a=o=new d(1),d.precision=u;;){if(a=Qe(a.times(e),u,1),r=r.times(++l),cn((s=o.plus(gr(a,r,u,1))).d).slice(0,u)===cn(o.d).slice(0,u)){for(i=f;i--;)o=Qe(o.times(o),u,1);if(null!=t)return d.precision=h,o;if(!(c<3&&fl(o.d,u-n,p,c)))return Qe(o,d.precision=h,p,ft=!0);d.precision=u+=10,r=a=s=new d(1),l=0,c++}o=s}}function mo(e,t){var r,n,i,a,o,s,u,c,l,f,d,p=1,m=e,y=m.d,g=m.constructor,x=g.rounding,v=g.precision;if(m.s<0||!y||!y[0]||!m.e&&1==y[0]&&1==y.length)return new g(y&&!y[0]?-1/0:1!=m.s?NaN:y?0:m);if(null==t?(ft=!1,l=v):l=t,g.precision=l+=10,n=(r=cn(y)).charAt(0),!(Math.abs(a=m.e)<15e14))return c=bp(g,l+2,v).times(a+""),m=mo(new g(n+"."+r.slice(1)),l-10).plus(c),g.precision=v,null==t?Qe(m,v,x,ft=!0):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=cn((m=m.times(e)).d)).charAt(0),p++;for(a=m.e,n>1?(m=new g("0."+r),a++):m=new g(n+"."+r.slice(1)),f=m,u=o=m=gr(m.minus(1),m.plus(1),l,1),d=Qe(m.times(m),l,1),i=3;;){if(o=Qe(o.times(d),l,1),cn((c=u.plus(gr(o,new g(i),l,1))).d).slice(0,l)===cn(u.d).slice(0,l)){if(u=u.times(2),0!==a&&(u=u.plus(bp(g,l+2,v).times(a+""))),u=gr(u,new g(p),l,1),null!=t)return g.precision=v,u;if(!fl(u.d,l-10,x,s))return Qe(u,g.precision=v,x,ft=!0);g.precision=l+=10,c=o=m=gr(f.minus(1),f.plus(1),l,1),d=Qe(m.times(m),l,1),i=s=1}u=c,i+=2}}function TS(e){return String(e.s*e.s/0)}function x0(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%rt,r<0&&(n+=rt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=rt;n<i;)e.d.push(+t.slice(n,n+=rt));t=t.slice(n),n=rt-t.length}else n-=i;for(;n--;)t+="0";e.d.push(+t),ft&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Cu(e,t,r,n,i){var a,o,s,u,l=e.precision,f=Math.ceil(l/rt);for(ft=!1,u=r.times(r),s=new e(n);;){if(o=gr(s.times(u),new e(t++*t++),l,1),s=i?n.plus(o):n.minus(o),n=gr(o.times(u),new e(t++*t++),l,1),void 0!==(o=s.plus(n)).d[f]){for(a=f;o.d[a]===s.d[a]&&a--;);if(-1==a)break}a=s,s=n,n=o,o=a}return ft=!0,o.d.length=f+1,o}function Dp(e,t){for(var r=e;--t;)r*=e;return r}function IS(e,t){var r,n=t.s<0,i=ki(e,e.precision,1),a=i.times(.5);if((t=t.abs()).lte(a))return Ra=n?4:1,t;if((r=t.divToInt(i)).isZero())Ra=n?3:2;else{if((t=t.minus(r.times(i))).lte(a))return Ra=MS(r)?n?2:3:n?4:1,t;Ra=MS(r)?n?1:4:n?3:2}return t.minus(i).abs()}function E0(e,t,r,n){var i,a,o,s,u,c,l,f,d,p=e.constructor,h=void 0!==r;if(h?(Qn(r,1,lo),void 0===n?n=p.rounding:Qn(n,0,8)):(r=p.precision,n=p.rounding),e.isFinite()){for(h?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,(o=(l=la(e)).indexOf("."))>=0&&(l=l.replace(".",""),(d=new p(1)).e=l.length-o,d.d=gp(la(d),10,i),d.e=d.d.length),a=u=(f=gp(l,10,i)).length;0==f[--u];)f.pop();if(f[0]){if(o<0?a--:((e=new p(e)).d=f,e.e=a,f=(e=gr(e,d,r,n,0,i)).d,a=e.e,c=wS),o=f[r],s=i/2,c=c||void 0!==f[r+1],c=n<4?(void 0!==o||c)&&(0===n||n===(e.s<0?3:2)):o>s||o===s&&(4===n||c||6===n&&1&f[r-1]||n===(e.s<0?8:7)),f.length=r,c)for(;++f[--r]>i-1;)f[r]=0,r||(++a,f.unshift(1));for(u=f.length;!f[u-1];--u);for(o=0,l="";o<u;o++)l+=y0.charAt(f[o]);if(h){if(u>1)if(16==t||8==t){for(o=16==t?4:3,--u;u%o;u++)l+="0";for(u=(f=gp(l,i,t)).length;!f[u-1];--u);for(o=1,l="1.";o<u;o++)l+=y0.charAt(f[o])}else l=l.charAt(0)+"."+l.slice(1);l=l+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)l="0"+l;l="0."+l}else if(++a>u)for(a-=u;a--;)l+="0";else a<u&&(l=l.slice(0,a)+"."+l.slice(a))}else l=h?"0p+0":"0";l=(16==t?"0x":2==t?"0b":8==t?"0o":"")+l}else l=TS(e);return e.s<0?"-"+l:l}function FS(e,t){if(e.length>t)return e.length=t,!0}function iZ(e){return new this(e).abs()}function aZ(e){return new this(e).acos()}function oZ(e){return new this(e).acosh()}function sZ(e,t){return new this(e).plus(t)}function uZ(e){return new this(e).asin()}function cZ(e){return new this(e).asinh()}function lZ(e){return new this(e).atan()}function fZ(e){return new this(e).atanh()}function dZ(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,a=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?ki(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=ki(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,r=this.atan(gr(e,t,a,1)),t=ki(this,a,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(gr(e,t,a,1)):(r=ki(this,a,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function pZ(e){return new this(e).cbrt()}function mZ(e){return Qe(e=new this(e),e.e+1,2)}function hZ(e,t,r){return new this(e).clamp(t,r)}function vZ(e){if(!e||"object"!=typeof e)throw Error(vp+"Object expected");var t,r,n,i=!0===e.defaults,a=["precision",1,lo,"rounding",0,8,"toExpNeg",-Nu,0,"toExpPos",0,Nu,"maxE",0,Nu,"minE",-Nu,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],i&&(this[r]=b0[r]),void 0!==(n=e[r])){if(!(wn(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(fo+r+": "+n);this[r]=n}if(r="crypto",i&&(this[r]=b0[r]),void 0!==(n=e[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(fo+r+": "+n);if(n){if(!(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes)))throw Error(ES);this[r]=!0}else this[r]=!1}return this}function gZ(e){return new this(e).cos()}function yZ(e){return new this(e).cosh()}function bZ(e,t){return new this(e).div(t)}function DZ(e){return new this(e).exp()}function wZ(e){return Qe(e=new this(e),e.e+1,3)}function xZ(){var e,t,r=new this(0);for(ft=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return ft=!0,new this(1/0);r=t}return ft=!0,r.sqrt()}function RS(e){return e instanceof dl||e&&e.toStringTag===NS||!1}function EZ(e){return new this(e).ln()}function NZ(e,t){return new this(e).log(t)}function CZ(e){return new this(e).log(2)}function AZ(e){return new this(e).log(10)}function SZ(){return _S(this,arguments,"lt")}function MZ(){return _S(this,arguments,"gt")}function _Z(e,t){return new this(e).mod(t)}function TZ(e,t){return new this(e).mul(t)}function IZ(e,t){return new this(e).pow(t)}function FZ(e){var t,r,n,i,a=0,o=new this(1),s=[];if(void 0===e?e=this.precision:Qn(e,1,lo),n=Math.ceil(e/rt),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));a<n;)(i=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=i%1e7;else{if(!crypto.randomBytes)throw Error(ES);for(t=crypto.randomBytes(n*=4);a<n;)(i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(s.push(i%1e7),a+=4);a=n/4}else for(;a<n;)s[a++]=1e7*Math.random()|0;for(n=s[--a],e%=rt,n&&e&&(i=en(10,rt-e),s[a]=(n/i|0)*i);0===s[a];a--)s.pop();if(a<0)r=0,s=[0];else{for(r=-1;0===s[0];r-=rt)s.shift();for(n=1,i=s[0];i>=10;i/=10)n++;n<rt&&(r-=rt-n)}return o.e=r,o.d=s,o}function OZ(e){return Qe(e=new this(e),e.e+1,this.rounding)}function RZ(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function PZ(e){return new this(e).sin()}function BZ(e){return new this(e).sinh()}function LZ(e){return new this(e).sqrt()}function kZ(e,t){return new this(e).sub(t)}function zZ(){var e=0,t=arguments,r=new this(t[e]);for(ft=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return ft=!0,Qe(r,this.precision,this.rounding)}function UZ(e){return new this(e).tan()}function qZ(e){return new this(e).tanh()}function VZ(e){return Qe(e=new this(e),e.e+1,1)}Ae[Symbol.for("nodejs.util.inspect.custom")]=Ae.toString,Ae[Symbol.toStringTag]="Decimal";var dl=Ae.constructor=function OS(e){var t,r,n;function i(a){var o,s,u,c=this;if(!(c instanceof i))return new i(a);if(c.constructor=i,RS(a))return c.s=a.s,void(ft?!a.d||a.e>i.maxE?(c.e=NaN,c.d=null):a.e<i.minE?(c.e=0,c.d=[0]):(c.e=a.e,c.d=a.d.slice()):(c.e=a.e,c.d=a.d?a.d.slice():a.d));if("number"==(u=typeof a)){if(0===a)return c.s=1/a<0?-1:1,c.e=0,void(c.d=[0]);if(a<0?(a=-a,c.s=-1):c.s=1,a===~~a&&a<1e7){for(o=0,s=a;s>=10;s/=10)o++;return void(ft?o>i.maxE?(c.e=NaN,c.d=null):o<i.minE?(c.e=0,c.d=[0]):(c.e=o,c.d=[a]):(c.e=o,c.d=[a]))}return 0*a!=0?(a||(c.s=NaN),c.e=NaN,void(c.d=null)):x0(c,a.toString())}if("string"!==u)throw Error(fo+a);return 45===(s=a.charCodeAt(0))?(a=a.slice(1),c.s=-1):(43===s&&(a=a.slice(1)),c.s=1),CS.test(a)?x0(c,a):function rZ(e,t){var r,n,i,a,o,s,u,c,l;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),CS.test(t))return x0(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(XW.test(t))r=16,t=t.toLowerCase();else if(QW.test(t))r=2;else{if(!KW.test(t))throw Error(fo+t);r=8}for((a=t.search(/p/i))>0?(u=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),a=t.indexOf("."),n=e.constructor,(o=a>=0)&&(a=(s=(t=t.replace(".","")).length)-a,i=SS(n,new n(r),a,2*a)),a=l=(c=gp(t,r,Li)).length-1;0===c[a];--a)c.pop();return a<0?new n(0*e.s):(e.e=yp(c,l),e.d=c,ft=!1,o&&(e=gr(e,i,4*s)),u&&(e=e.times(Math.abs(u)<54?en(2,u):dl.pow(2,u))),ft=!0,e)}(c,a)}if(i.prototype=Ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=vZ,i.clone=OS,i.isDecimal=RS,i.abs=iZ,i.acos=aZ,i.acosh=oZ,i.add=sZ,i.asin=uZ,i.asinh=cZ,i.atan=lZ,i.atanh=fZ,i.atan2=dZ,i.cbrt=pZ,i.ceil=mZ,i.clamp=hZ,i.cos=gZ,i.cosh=yZ,i.div=bZ,i.exp=DZ,i.floor=wZ,i.hypot=xZ,i.ln=EZ,i.log=NZ,i.log10=AZ,i.log2=CZ,i.max=SZ,i.min=MZ,i.mod=_Z,i.mul=TZ,i.pow=IZ,i.random=FZ,i.round=OZ,i.sign=RZ,i.sin=PZ,i.sinh=BZ,i.sqrt=LZ,i.sub=kZ,i.sum=zZ,i.tan=UZ,i.tanh=qZ,i.trunc=VZ,void 0===e&&(e={}),e&&!0!==e.defaults)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}(b0);mp=new dl(mp),hp=new dl(hp);const wp=dl;var jZ=B("BigNumber",["?on","config"],e=>{var{on:t,config:r}=e,n=wp.clone({precision:r.precision,modulo:wp.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},t&&t("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0}),ln=ke(241),ZZ=B("Complex",[],()=>(Object.defineProperty(ln,"name",{value:"Complex"}),ln.prototype.constructor=ln,ln.prototype.type="Complex",ln.prototype.isComplex=!0,ln.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},ln.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},ln.prototype.format=function(e){var r=this.im,n=this.re,i=Zo(this.re,e),a=Zo(this.im,e),o=Et(e)?e:e?e.precision:null;if(null!==o){var s=Math.pow(10,-o);Math.abs(n/r)<s&&(n=0),Math.abs(r/n)<s&&(r=0)}return 0===r?i:0===n?1===r?"i":-1===r?"-i":a+"i":r<0?-1===r?i+" - i":i+" - "+a.substring(1)+"i":1===r?i+" + i":i+" + "+a+"i"},ln.fromPolar=function(e){switch(arguments.length){case 1:var t=arguments[0];if("object"==typeof t)return ln(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var r=arguments[0],n=arguments[1];if(Et(r)){if(hi(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Et(n))return new ln({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},ln.prototype.valueOf=ln.prototype.toString,ln.fromJSON=function(e){return new ln(e)},ln.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},ln),{isClass:!0});function QZ(e){var t=0,r=1,n=Object.create(null),i=Object.create(null),a=0,o=function(u){var c=i[u];if(c&&(delete n[c],delete i[u],--t,r===c)){if(!t)return a=0,void(r=1);for(;!Object.prototype.hasOwnProperty.call(n,++r););}};return e=Math.abs(e),{hit:function(u){var c=i[u],l=++a;if(n[l]=u,i[u]=l,!c)return++t<=e?void 0:(o(u=n[r]),u);if(delete n[c],r===c)for(;!Object.prototype.hasOwnProperty.call(n,++r););},delete:o,clear:function(){t=a=0,r=1,n=Object.create(null),i=Object.create(null)}}}function pl(e){var{hasher:t,limit:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r=r??Number.POSITIVE_INFINITY,t=t??JSON.stringify,function n(){"object"!=typeof n.cache&&(n.cache={values:new Map,lru:QZ(r||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=t(i);if(n.cache.values.has(o))return n.cache.lru.hit(o),n.cache.values.get(o);var s=e.apply(e,i);return n.cache.values.set(o,s),n.cache.values.delete(n.cache.lru.hit(o)),s}}function PS(e){return Object.keys(e.signatures||{}).reduce(function(t,r){var n=(r.match(/,/g)||[]).length+1;return Math.max(t,n)},-1)}var XZ=pl(function(e){return new e(1).exp()},{hasher:xp}),KZ=pl(function(e){return new e(1).plus(new e(5).sqrt()).div(2)},{hasher:xp}),N0=pl(function(e){return e.acos(-1)},{hasher:xp}),JZ=pl(function(e){return N0(e).times(2)},{hasher:xp});function xp(e){return e[0].precision}var eY=Math.PI,tY=2*Math.PI,rY=Math.E,iY=B("true",[],()=>!0),aY=B("false",[],()=>!1),oY=B("null",[],()=>null),sY=oi("Infinity",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?new r(1/0):1/0}),uY=oi("NaN",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?new r(NaN):NaN}),cY=oi("pi",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?N0(r):eY}),lY=oi("tau",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?JZ(r):tY}),fY=oi("e",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?XZ(r):rY}),dY=oi("phi",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?KZ(r):1.618033988749895}),pY=oi("LN2",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?new r(2).ln():Math.LN2}),mY=oi("LN10",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?new r(10).ln():Math.LN10}),hY=oi("LOG2E",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?new r(1).div(new r(2).ln()):Math.LOG2E}),vY=oi("LOG10E",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?new r(1).div(new r(10).ln()):Math.LOG10E}),gY=oi("SQRT1_2",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?new r("0.5").sqrt():Math.SQRT1_2}),yY=oi("SQRT2",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?new r(2).sqrt():Math.SQRT2}),bY=oi("i",["Complex"],e=>{var{Complex:t}=e;return t.I}),DY=B("version",[],()=>"12.3.0");function oi(e,t,r){return B(e,t,r,{recreateOnConfigChange:!0})}var wY=dt("speedOfLight","299792458","m s^-1"),xY=dt("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),EY=dt("planckConstant","6.62607015e-34","J s"),NY=dt("reducedPlanckConstant","1.0545718176461565e-34","J s"),CY=dt("magneticConstant","1.25663706212e-6","N A^-2"),AY=dt("electricConstant","8.8541878128e-12","F m^-1"),SY=dt("vacuumImpedance","376.730313667","ohm"),MY=dt("coulomb","8.987551792261171e9","N m^2 C^-2"),_Y=dt("elementaryCharge","1.602176634e-19","C"),TY=dt("bohrMagneton","9.2740100783e-24","J T^-1"),IY=dt("conductanceQuantum","7.748091729863649e-5","S"),FY=dt("inverseConductanceQuantum","12906.403729652257","ohm"),OY=dt("magneticFluxQuantum","2.0678338484619295e-15","Wb"),RY=dt("nuclearMagneton","5.0507837461e-27","J T^-1"),PY=dt("klitzing","25812.807459304513","ohm"),BY=dt("bohrRadius","5.29177210903e-11","m"),LY=dt("classicalElectronRadius","2.8179403262e-15","m"),kY=dt("electronMass","9.1093837015e-31","kg"),zY=dt("fermiCoupling","1.1663787e-5","GeV^-2"),UY=Ep("fineStructure",.0072973525693),qY=dt("hartreeEnergy","4.3597447222071e-18","J"),VY=dt("protonMass","1.67262192369e-27","kg"),HY=dt("deuteronMass","3.3435830926e-27","kg"),$Y=dt("neutronMass","1.6749271613e-27","kg"),jY=dt("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),GY=dt("rydberg","10973731.568160","m^-1"),WY=dt("thomsonCrossSection","6.6524587321e-29","m^2"),ZY=Ep("weakMixingAngle",.2229),YY=Ep("efimovFactor",22.7),QY=dt("atomicMass","1.66053906660e-27","kg"),XY=dt("avogadro","6.02214076e23","mol^-1"),KY=dt("boltzmann","1.380649e-23","J K^-1"),JY=dt("faraday","96485.33212331001","C mol^-1"),eQ=dt("firstRadiation","3.7417718521927573e-16","W m^2"),tQ=dt("loschmidt","2.686780111798444e25","m^-3"),rQ=dt("gasConstant","8.31446261815324","J K^-1 mol^-1"),nQ=dt("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),iQ=dt("molarVolume","0.022413969545014137","m^3 mol^-1"),aQ=Ep("sackurTetrode",-1.16487052358),oQ=dt("secondRadiation","0.014387768775039337","m K"),sQ=dt("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),uQ=dt("wienDisplacement","2.897771955e-3","m K"),cQ=dt("molarMass","0.99999999965e-3","kg mol^-1"),lQ=dt("molarMassC12","11.9999999958e-3","kg mol^-1"),fQ=dt("gravity","9.80665","m s^-2"),dQ=dt("planckLength","1.616255e-35","m"),pQ=dt("planckMass","2.176435e-8","kg"),mQ=dt("planckTime","5.391245e-44","s"),hQ=dt("planckCharge","1.87554603778e-18","C"),vQ=dt("planckTemperature","1.416785e+32","K");function dt(e,t,r){return B(e,["config","Unit","BigNumber"],i=>{var{config:a,Unit:o,BigNumber:s}=i,c=new o("BigNumber"===a.number?new s(t):parseFloat(t),r);return c.fixPrefix=!0,c})}function Ep(e,t){return B(e,["config","BigNumber"],n=>{var{config:i,BigNumber:a}=n;return"BigNumber"===i.number?new a(t):t})}var Pa=ke(780),bQ=B("Fraction",[],()=>(Object.defineProperty(Pa,"name",{value:"Fraction"}),Pa.prototype.constructor=Pa,Pa.prototype.type="Fraction",Pa.prototype.isFraction=!0,Pa.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Pa.fromJSON=function(e){return new Pa(e)},Pa),{isClass:!0}),xQ=B("Matrix",[],()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0}),CQ=B("Range",[],()=>{function e(t,r,n){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");var i=null!=t,a=null!=r,o=null!=n;if(i)if(It(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(a)if(It(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter end must be a number");if(o)if(It(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(t):0,this.end=a?parseFloat(r):0,this.step=o?parseFloat(n):1}return e.prototype.type="Range",e.prototype.isRange=!0,e.parse=function(t){if("string"!=typeof t)return null;var n=t.split(":").map(function(a){return parseFloat(a)});if(n.some(function(a){return isNaN(a)}))return null;switch(n.length){case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[2],n[1]);default:return null}},e.prototype.clone=function(){return new e(this.start,this.end,this.step)},e.prototype.size=function(){var t=0,n=this.step,a=this.end-this.start;return so(n)===so(a)?t=Math.ceil(a/n):0===a&&(t=0),isNaN(t)&&(t=0),[t]},e.prototype.min=function(){var t=this.size()[0];if(t>0)return this.step>0?this.start:this.start+(t-1)*this.step},e.prototype.max=function(){var t=this.size()[0];if(t>0)return this.step>0?this.start+(t-1)*this.step:this.start},e.prototype.forEach=function(t){var r=this.start,n=this.step,i=this.end,a=0;if(n>0)for(;r<i;)t(r,[a],this),r+=n,a++;else if(n<0)for(;r>i;)t(r,[a],this),r+=n,a++},e.prototype.map=function(t){var r=[];return this.forEach(function(n,i,a){r[i[0]]=t(n,i,a)}),r},e.prototype.toArray=function(){var t=[];return this.forEach(function(r,n){t[n[0]]=r}),t},e.prototype.valueOf=function(){return this.toArray()},e.prototype.format=function(t){var r=Zo(this.start,t);return 1!==this.step&&(r+=":"+Zo(this.step,t)),r+":"+Zo(this.end,t)},e.prototype.toString=function(){return this.format()},e.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},e.fromJSON=function(t){return new e(t.start,t.end,t.step)},e},{isClass:!0}),MQ=B("ResultSet",[],()=>{function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return e.prototype.type="ResultSet",e.prototype.isResultSet=!0,e.prototype.valueOf=function(){return this.entries},e.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},e.fromJSON=function(t){return new e(t.entries)},e},{isClass:!0}),IQ=B("DenseMatrix",["Matrix"],e=>{var{Matrix:t}=e;function r(l,f){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!Dn(f))throw new Error("Invalid datatype: "+f);if(Je(l))"DenseMatrix"===l.type?(this._data=ct(l._data),this._size=ct(l._size),this._datatype=f||l._datatype):(this._data=l.toArray(),this._size=l.size(),this._datatype=f||l._datatype);else if(l&&Qt(l.data)&&Qt(l.size))this._data=l.data,this._size=l.size,LC(this._data,this._size),this._datatype=f||l.datatype;else if(Qt(l))this._data=c(l),this._size=lt(this._data),LC(this._data,this._size),this._datatype=f;else{if(l)throw new TypeError("Unsupported type of data ("+or(l)+")");this._data=[],this._size=[0],this._datatype=f}}function i(l,f,d,p){var h=p===d-1,m=f.dimension(p);return h?m.map(function(y){return sr(y,l.length),l[y]}).valueOf():m.map(function(y){return sr(y,l.length),i(l[y],f,d,p+1)}).valueOf()}function o(l,f,d,p,h){var m=h===p-1;f.dimension(h).forEach(m?function(g,x){sr(g),l[g]=d[x[0]]}:function(g,x){sr(g),o(l[g],f,d[x[0]],p,h+1)})}function s(l,f,d){if(0===f.length){for(var p=l._data;Qt(p);)p=p[0];return p}return l._size=f.slice(0),l._data=yu(l._data,l._size,d),l}function u(l,f,d){for(var p=l._size.slice(0),h=!1;p.length<f.length;)p.push(0),h=!0;for(var m=0,y=f.length;m<y;m++)f[m]>p[m]&&(p[m]=f[m],h=!0);h&&s(l,p,d)}function c(l){return Je(l)?c(l.valueOf()):Qt(l)?l.map(c):l}return(r.prototype=new t).createDenseMatrix=function(l,f){return new r(l,f)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return sl(this._data,or)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(l,f){return new r(l,f)},r.prototype.subset=function(l,f,d){switch(arguments.length){case 1:return function n(l,f){if(!Rd(f))throw new TypeError("Invalid index");if(f.isScalar())return l.get(f.min());var p=f.size();if(p.length!==l._size.length)throw new Ct(p.length,l._size.length);for(var h=f.min(),m=f.max(),y=0,g=l._size.length;y<g;y++)sr(h[y],l._size[y]),sr(m[y],l._size[y]);return new r(i(l._data,f,p.length,0),l._datatype)}(this,l);case 2:case 3:return function a(l,f,d,p){if(!f||!0!==f.isIndex)throw new TypeError("Invalid index");var y,h=f.size(),m=f.isScalar();if(Je(d)?(y=d.size(),d=d.valueOf()):y=lt(d),m){if(0!==y.length)throw new TypeError("Scalar expected");l.set(f.min(),d,p)}else{if(!Wo(y,h))try{y=lt(d=a0(0===y.length?[d]:d,h))}catch{}if(h.length<l._size.length)throw new Ct(h.length,l._size.length,"<");if(y.length<h.length){for(var g=0,x=0;1===h[g]&&1===y[g];)g++;for(;1===h[g];)x++,g++;d=UC(d,h.length,x,y)}if(!Wo(h,y))throw new Ct(h,y,">");u(l,f.max().map(function(b){return b+1}),p),o(l._data,f,d,h.length,0)}return l}(this,l,f,d);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(l){if(!Qt(l))throw new TypeError("Array expected");if(l.length!==this._size.length)throw new Ct(l.length,this._size.length);for(var f=0;f<l.length;f++)sr(l[f],this._size[f]);for(var d=this._data,p=0,h=l.length;p<h;p++){var m=l[p];sr(m,d.length),d=d[m]}return d},r.prototype.set=function(l,f,d){if(!Qt(l))throw new TypeError("Array expected");if(l.length<this._size.length)throw new Ct(l.length,this._size.length,"<");var p,h,m;u(this,l.map(function(x){return x+1}),d);var g=this._data;for(p=0,h=l.length-1;p<h;p++)sr(m=l[p],g.length),g=g[m];return sr(m=l[l.length-1],g.length),g[m]=f,this},r.prototype.resize=function(l,f,d){if(!vi(l))throw new TypeError("Array or Matrix expected");var p=l.valueOf().map(m=>Array.isArray(m)&&1===m.length?m[0]:m);return s(d?this.clone():this,p,f)},r.prototype.reshape=function(l,f){var d=f?this.clone():this;d._data=r0(d._data,l);var p=d._size.reduce((h,m)=>h*m);return d._size=n0(l,p),d},r.prototype.clone=function(){return new r({data:ct(this._data),size:ct(this._size),datatype:this._datatype})},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(l){var f=this,d=PS(l),h=function y(g,x){return Qt(g)?g.map(function(v,D){return y(v,x.concat(D))}):1===d?l(g):2===d?l(g,x):l(g,x,f)}(this._data,[]);return new r(h,void 0!==this._datatype?sl(h,or):void 0)},r.prototype.forEach=function(l){var f=this;!function p(h,m){Qt(h)?h.forEach(function(y,g){p(y,m.concat(g))}):l(h,m,f)}(this._data,[])},r.prototype[Symbol.iterator]=function*(){yield*function*f(d,p){if(Qt(d))for(var h=0;h<d.length;h++)yield*f(d[h],p.concat(h));else yield{value:d,index:p}}(this._data,[])},r.prototype.rows=function(){var l=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var d=this._data;for(var p of d)l.push(new r([p],this._datatype));return l},r.prototype.columns=function(){var l=this,f=[],d=this.size();if(2!==d.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,h=function(g){var x=p.map(v=>[v[g]]);f.push(new r(x,l._datatype))},m=0;m<d[1];m++)h(m);return f},r.prototype.toArray=function(){return ct(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(l){return Nt(this._data,l)},r.prototype.toString=function(){return Nt(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(l){if(l){if(It(l)&&(l=l.toNumber()),!Et(l)||!We(l))throw new TypeError("The parameter k must be an integer number")}else l=0;for(var f=l>0?l:0,d=l<0?-l:0,m=Math.min(this._size[0]-d,this._size[1]-f),y=[],g=0;g<m;g++)y[g]=this._data[g+d][g+f];return new r({data:y,size:[m],datatype:this._datatype})},r.diagonal=function(l,f,d,p){if(!Qt(l))throw new TypeError("Array expected, size parameter");if(2!==l.length)throw new Error("Only two dimensions matrix are supported");if(l=l.map(function(A){if(It(A)&&(A=A.toNumber()),!Et(A)||!We(A)||A<1)throw new Error("Size values must be positive integers");return A}),d){if(It(d)&&(d=d.toNumber()),!Et(d)||!We(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var v,h=d>0?d:0,m=d<0?-d:0,y=l[0],g=l[1],x=Math.min(y-m,g-h);if(Qt(f)){if(f.length!==x)throw new Error("Invalid value array length");v=function(C){return f[C]}}else if(Je(f)){var D=f.size();if(1!==D.length||D[0]!==x)throw new Error("Invalid matrix length");v=function(C){return f.get([C])}}else v=function(){return f};p||(p=It(v(0))?v(0).mul(0):0);var w=[];if(l.length>0){w=yu(w,l,p);for(var b=0;b<x;b++)w[b+m][b+h]=v(b)}return new r({data:w,size:[y,g]})},r.fromJSON=function(l){return new r(l)},r.prototype.swapRows=function(l,f){if(!(Et(l)&&We(l)&&Et(f)&&We(f)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return sr(l,this._size[0]),sr(f,this._size[0]),r._swapRows(l,f,this._data),this},r._swapRows=function(l,f,d){var p=d[l];d[l]=d[f],d[f]=p},r},{isClass:!0}),RQ=B("replacer",[],()=>function(t,r){return"number"!=typeof r||isFinite(r)&&!isNaN(r)?r:{mathjs:"number",value:String(r)}}),BS=function(){return BS=wu.create,wu},BQ=B("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(t){var{BigNumber:r,Complex:n,DenseMatrix:i,Fraction:a}=t,o=BS();return o.clear(),o.addTypes([{name:"number",test:Et},{name:"Complex",test:Ta},{name:"BigNumber",test:It},{name:"Fraction",test:il},{name:"Unit",test:hi},{name:"identifier",test:s=>Dn&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:Dn},{name:"Chain",test:yC},{name:"Array",test:Qt},{name:"Matrix",test:Je},{name:"DenseMatrix",test:Od},{name:"SparseMatrix",test:jo},{name:"Range",test:Gg},{name:"Index",test:Rd},{name:"boolean",test:P7},{name:"ResultSet",test:B7},{name:"Help",test:gC},{name:"function",test:L7},{name:"Date",test:k7},{name:"RegExp",test:z7},{name:"null",test:U7},{name:"undefined",test:q7},{name:"AccessorNode",test:Go},{name:"ArrayNode",test:gi},{name:"AssignmentNode",test:V7},{name:"BlockNode",test:H7},{name:"ConditionalNode",test:$7},{name:"ConstantNode",test:$t},{name:"FunctionNode",test:oo},{name:"FunctionAssignmentNode",test:al},{name:"IndexNode",test:fu},{name:"Node",test:ir},{name:"ObjectNode",test:Bd},{name:"OperatorNode",test:$r},{name:"ParenthesisNode",test:Ia},{name:"RangeNode",test:j7},{name:"RelationalNode",test:G7},{name:"SymbolNode",test:an},{name:"Map",test:Xg},{name:"Object",test:Pd}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(u){if(r||C0(u),function yz(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}(u)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+u+"). Use function bignumber(x) to convert to BigNumber.");return new r(u)}},{from:"number",to:"Complex",convert:function(u){return n||Np(u),new n(u,0)}},{from:"BigNumber",to:"Complex",convert:function(u){return n||Np(u),new n(u.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(u){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(u){return n||Np(u),new n(u.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(u){a||A0(u);var c=new a(u);if(c.valueOf()!==u)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+u+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(u){var c=Number(u);if(isNaN(c))throw new Error('Cannot convert "'+u+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(u){r||C0(u);try{return new r(u)}catch{throw new Error('Cannot convert "'+u+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(u){a||A0(u);try{return new a(u)}catch{throw new Error('Cannot convert "'+u+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(u){n||Np(u);try{return new n(u)}catch{throw new Error('Cannot convert "'+u+'" to Complex')}}},{from:"boolean",to:"number",convert:function(u){return+u}},{from:"boolean",to:"BigNumber",convert:function(u){return r||C0(u),new r(+u)}},{from:"boolean",to:"Fraction",convert:function(u){return a||A0(u),new a(+u)}},{from:"boolean",to:"string",convert:function(u){return String(u)}},{from:"Array",to:"Matrix",convert:function(u){return i||function LQ(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new i(u)}},{from:"Matrix",to:"Array",convert:function(u){return u.valueOf()}}]),o.onMismatch=(s,u,c)=>{var l=o.createError(s,u,c);if(["wrongType","mismatch"].includes(l.data.category)&&1===u.length&&vi(u[0])&&c.some(d=>!d.params.includes(","))){var f=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw f.data=l.data,f}throw l},o.onMismatch=(s,u,c)=>{var l=o.createError(s,u,c);if(["wrongType","mismatch"].includes(l.data.category)&&1===u.length&&vi(u[0])&&c.some(d=>!d.params.includes(","))){var f=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw f.data=l.data,f}throw l},o});function C0(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Np(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function A0(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var Xn="number",Ba="number, number";function LS(e){return Math.abs(e)}function kS(e,t){return e+t}function zS(e,t){return e-t}function US(e,t){return e*t}function qS(e){return-e}function VS(e){return e}function ml(e){return mz(e)}function HS(e){return e*e*e}function $S(e){return Math.exp(e)}function jS(e){return hz(e)}function GS(e,t){if(!We(e)||!We(t))throw new Error("Parameters in function lcm must be integer numbers");if(0===e||0===t)return 0;for(var r,n=e*t;0!==t;)t=e%(r=t),e=r;return Math.abs(n/e)}function WS(e){return pz(e)}function ZS(e){return dz(e)}function YS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=t<0;if(r&&(t=-t),0===t)throw new Error("Root must be non-zero");if(e<0&&Math.abs(t)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===e)return r?1/0:0;if(!isFinite(e))return r?0:e;var n=Math.pow(Math.abs(e),1/t);return n=e<0?-n:n,r?1/n:n}function S0(e){return so(e)}function QS(e){return e*e}function XS(e,t){var r,n,i,a=0,o=1,s=1,u=0;if(!We(e)||!We(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)i=e-(n=Math.floor(e/t))*t,r=a,a=o-n*a,o=r,r=s,s=u-n*s,u=r,e=t,t=i;return e<0?[-e,-o,-u]:[e,e?o:0,u]}function KS(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}function JS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!We(t)||t<0||t>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(_C(e,t))}LS.signature=Xn,kS.signature=Ba,zS.signature=Ba,US.signature=Ba,qS.signature=Xn,VS.signature=Xn,ml.signature=Xn,HS.signature=Xn,$S.signature=Xn,jS.signature=Xn,GS.signature=Ba,WS.signature=Xn,ZS.signature=Xn,S0.signature=Xn,QS.signature=Xn,XS.signature=Ba,KS.signature=Ba;var eM="unaryPlus",GQ=B(eM,["typed","config","BigNumber"],e=>{var{typed:t,config:r,BigNumber:n}=e;return t(eM,{number:VS,Complex:function(a){return a},BigNumber:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":t.referToSelf(i=>a=>At(a,i,!0)),"boolean | string":function(a){return"BigNumber"===r.number?new n(+a):+a}})}),ZQ=B("abs",["typed"],e=>{var{typed:t}=e;return t("abs",{number:LS,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),"Array | Matrix":t.referToSelf(r=>n=>At(n,r,!0))})}),QQ=B("acos",["typed","config","Complex"],e=>{var{typed:t,config:r,Complex:n}=e;return t("acos",{number:function(a){return a>=-1&&a<=1||r.predictable?Math.acos(a):new n(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})}),Sr="number";function nM(e){return Dz(e)}function iM(e){return Math.atan(1/e)}function aM(e){return isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0}function oM(e){return Math.asin(1/e)}function sM(e){var t=1/e;return Math.log(t+Math.sqrt(t*t+1))}function uM(e){return Math.acos(1/e)}function cM(e){var t=1/e,r=Math.sqrt(t*t-1);return Math.log(r+t)}function lM(e){return wz(e)}function fM(e){return xz(e)}function dM(e){return 1/Math.tan(e)}function pM(e){var t=Math.exp(2*e);return(t+1)/(t-1)}function mM(e){return 1/Math.sin(e)}function hM(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*so(e)}function vM(e){return 1/Math.cos(e)}function gM(e){return 2/(Math.exp(e)+Math.exp(-e))}function yM(e){return Ez(e)}nM.signature=Sr,iM.signature=Sr,aM.signature=Sr,oM.signature=Sr,sM.signature=Sr,uM.signature=Sr,cM.signature=Sr,lM.signature=Sr,fM.signature=Sr,dM.signature=Sr,pM.signature=Sr,mM.signature=Sr,hM.signature=Sr,vM.signature=Sr,gM.signature=Sr,yM.signature=Sr;var uX=B("acot",["typed","BigNumber"],e=>{var{typed:t,BigNumber:r}=e;return t("acot",{number:iM,Complex:function(i){return i.acot()},BigNumber:function(i){return new r(1).div(i).atan()}})}),lX=B("acsc",["typed","config","Complex","BigNumber"],e=>{var{typed:t,config:r,Complex:n,BigNumber:i}=e;return t("acsc",{number:function(o){return o<=-1||o>=1||r.predictable?oM(o):new n(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new i(1).div(o).asin()}})}),wM="addScalar",dX=B(wM,["typed"],e=>{var{typed:t}=e;return t(wM,{"number, number":kS,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(null==n.value)throw new Error("Parameter x contains a unit with undefined value");if(null==i.value)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=t.find(r,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),mX=B("arg",["typed"],e=>{var{typed:t}=e;return t("arg",{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":t.referToSelf(r=>n=>At(n,r))})}),vX=B("asech",["typed","config","Complex","BigNumber"],e=>{var{typed:t,config:r,Complex:n,BigNumber:i}=e;return t("asech",{number:function(o){if(o<=1&&o>=-1||r.predictable){var s=1/o;if(s>0||r.predictable)return cM(o);var u=Math.sqrt(s*s-1);return new n(Math.log(u-s),Math.PI)}return new n(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new i(1).div(o).acosh()}})}),bX=B("asinh",["typed"],e=>{var{typed:t}=e;return t("asinh",{number:lM,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()}})}),xX=B("atan",["typed"],e=>{var{typed:t}=e;return t("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})}),NX=B("atanh",["typed","config","Complex"],e=>{var{typed:t,config:r,Complex:n}=e;return t("atanh",{number:function(a){return a<=1&&a>=-1||r.predictable?fM(a):new n(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})}),SX=B("bignumber",["typed","BigNumber"],e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(i){return new r(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var o=a[2],s=r(a[1]),u=new r(2).pow(Number(o));if(s.gt(u.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var c=new r(2).pow(Number(o)-1);return s.gte(c)?s.sub(u):s}return new r(i)},BigNumber:function(i){return i},Unit:t.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Fraction:function(i){return new r(i.n).div(i.d).times(i.s)},null:function(i){return new r(0)},"Array | Matrix":t.referToSelf(n=>i=>At(i,n))})}),_X=B("bitNot",["typed"],e=>{var{typed:t}=e;return t("bitNot",{number:LA,BigNumber:ll,"Array | Matrix":t.referToSelf(r=>n=>At(n,r))})}),AM="boolean",IX=B(AM,["typed"],e=>{var{typed:t}=e;return t(AM,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var i=n.toLowerCase();if("true"===i)return!0;if("false"===i)return!1;var a=Number(n);if(""!==n&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":t.referToSelf(r=>n=>At(n,r))})}),OX=B("clone",["typed"],e=>{var{typed:t}=e;return t("clone",{any:ct})});function La(e,t){if(t<e)return 1;if(t===e)return t;var r=t+e>>1;return La(e,r)*La(r+1,t)}function MM(e,t){if(!We(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!We(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");for(var r=e-t,n=1,a=2,o=t<r?t:r,s=t<r?r+1:t+1;s<=e;++s)for(n*=s;a<=o&&n%a==0;)n/=a,++a;return a<=o&&(n/=La(a,o)),n}MM.signature="number, number";var _M="combinations",PX=B(_M,["typed"],e=>{var{typed:t}=e;return t(_M,{"number, number":MM,"BigNumber, BigNumber":function(n,i){var o,s,a=n.constructor,u=n.minus(i),c=new a(1);if(!TM(n)||!TM(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(o=c,i.lt(u))for(s=c;s.lte(u);s=s.plus(c))o=o.times(i.plus(s)).dividedBy(s);else for(s=c;s.lte(i);s=s.plus(c))o=o.times(u.plus(s)).dividedBy(s);return o}})});function TM(e){return e.isInteger()&&e.gte(0)}var kX=B("complex",["typed","Complex"],e=>{var{typed:t,Complex:r}=e;return t("complex",{"":function(){return r.ZERO},number:function(i){return new r(i,0)},"number, number":function(i,a){return new r(i,a)},"BigNumber, BigNumber":function(i,a){return new r(i.toNumber(),a.toNumber())},Fraction:function(i){return new r(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return r(i)},null:function(i){return r(0)},Object:function(i){if("re"in i&&"im"in i)return new r(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new r(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":t.referToSelf(n=>i=>At(i,n))})}),UX=B("conj",["typed"],e=>{var{typed:t}=e;return t("conj",{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":t.referToSelf(r=>n=>At(n,r))})}),Au=B("trigUnit",["typed"],e=>{var{typed:t}=e;return{Unit:t.referToSelf(r=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return t.find(r,n.valueType())(n.value)})}}),VX=B("cos",["typed"],e=>{var{typed:t}=e,r=Au({typed:t});return t("cos",{number:Math.cos,"Complex | BigNumber":n=>n.cos()},r)}),$X=B("cot",["typed","BigNumber"],e=>{var{typed:t,BigNumber:r}=e;return t("cot",{number:dM,Complex:i=>i.cot(),BigNumber:i=>new r(1).div(i.tan())},Au({typed:t}))}),GX=B("csc",["typed","BigNumber"],e=>{var{typed:t,BigNumber:r}=e;return t("csc",{number:mM,Complex:i=>i.csc(),BigNumber:i=>new r(1).div(i.sin())},Au({typed:t}))}),ZX=B("cube",["typed"],e=>{var{typed:t}=e;return t("cube",{number:HS,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},Fraction:function(n){return n.pow(3)},Unit:function(n){return n.pow(3)}})});function fa(e,t,r){if(null==r)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var n=e.minus(t).abs();if(n.isZero())return!0;var i=e.constructor.max(e.abs(),t.abs());return n.lte(i.times(r))}return!1}var Su=B("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return t.find(r,[n.valueType(),i.valueType()])(n.value,i.value)})}}),Cp="equalScalar",XX=B(Cp,["typed","config"],e=>{var{typed:t,config:r}=e,n=Su({typed:t});return t(Cp,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return ai(a,o,r.epsilon)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||fa(a,o,r.epsilon)},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return function YX(e,t,r){return ai(e.re,t.re,r)&&ai(e.im,t.im,r)}(a,o,r.epsilon)}},n)}),eK=(B(Cp,["typed","config"],e=>{var{typed:t,config:r}=e;return t(Cp,{"number, number":function(i,a){return ai(i,a,r.epsilon)}})}),B("erf",["typed"],e=>{var{typed:t}=e;return t("name",{number:function(o){var s=Math.abs(o);return s>=nK?so(o):s<=tK?so(o)*function r(a){var c,o=a*a,s=ka[0][4]*o,u=o;for(c=0;c<3;c+=1)s=(s+ka[0][c])*o,u=(u+Mu[0][c])*o;return a*(s+ka[0][3])/(u+Mu[0][3])}(s):s<=4?so(o)*(1-function n(a){var u,o=ka[1][8]*a,s=a;for(u=0;u<7;u+=1)o=(o+ka[1][u])*a,s=(s+Mu[1][u])*a;var c=(o+ka[1][7])/(s+Mu[1][7]),l=parseInt(16*a)/16,f=(a-l)*(a+l);return Math.exp(-l*l)*Math.exp(-f)*c}(s)):so(o)*(1-function i(a){var c,o=1/(a*a),s=ka[2][5]*o,u=o;for(c=0;c<4;c+=1)s=(s+ka[2][c])*o,u=(u+Mu[2][c])*o;var l=o*(s+ka[2][4])/(u+Mu[2][4]);l=(rK-l)/a;var f=(a-(o=parseInt(16*a)/16))*(a+o);return Math.exp(-o*o)*Math.exp(-f)*l}(s))},"Array | Matrix":t.referToSelf(a=>o=>At(o,a))})})),tK=.46875,rK=.5641895835477563,ka=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Mu=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],nK=Math.pow(2,53),aK=B("exp",["typed"],e=>{var{typed:t}=e;return t("exp",{number:$S,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})}),sK=B("expm1",["typed","Complex"],e=>{var{typed:t,Complex:r}=e;return t("expm1",{number:jS,Complex:function(i){var a=Math.exp(i.re);return new r(a*Math.cos(i.im)-1,a*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})}),lK=B("filter",["typed"],e=>{var{typed:t}=e;return t("filter",{"Array, function":kM,"Matrix, function":function(n,i){return n.create(kM(n.toArray(),i))},"Array, RegExp":Hd,"Matrix, RegExp":function(n,i){return n.create(Hd(n.toArray(),i))}})});function kM(e,t){return VC(e,function(r,n,i){return xu(t,r,[n],i,"filter")})}var zM="forEach",dK=B(zM,["typed"],e=>{var{typed:t}=e;return t(zM,{"Array, function":pK,"Matrix, function":function(n,i){n.forEach(i)}})});function pK(e,t){!function n(i,a){if(!Array.isArray(i))return xu(t,i,a,e,"forEach");Vd(i,function(o,s){n(o,a.concat(s))})}(e,[])}var hK=B("format",["typed"],e=>{var{typed:t}=e;return t("format",{any:Nt,"any, Object | function | number":Nt})}),qM="getMatrixDataType",gK=B(qM,["typed"],e=>{var{typed:t}=e;return t(qM,{Array:function(n){return sl(n,or)},Matrix:function(n){return n.getDataType()}})}),bK=B("hex",["typed","format"],e=>{var{typed:t,format:r}=e;return t("hex",{"number | BigNumber":function(i){return r(i,{notation:"hex"})},"number | BigNumber, number":function(i,a){return r(i,{notation:"hex",wordSize:a})}})}),wK=B("im",["typed"],e=>{var{typed:t}=e;return t("im",{number:()=>0,"BigNumber | Fraction":r=>r.mul(0),Complex:r=>r.im,"Array | Matrix":t.referToSelf(r=>n=>At(n,r))})}),$M="isInteger",EK=B($M,["typed"],e=>{var{typed:t}=e;return t($M,{number:We,BigNumber:function(n){return n.isInt()},Fraction:function(n){return 1===n.d&&isFinite(n.n)},"Array | Matrix":t.referToSelf(r=>n=>At(n,r))})}),hl="number";function jM(e){return e<0}function GM(e){return e>0}function WM(e){return 0===e}function ZM(e){return Number.isNaN(e)}jM.signature=hl,GM.signature=hl,WM.signature=hl,ZM.signature=hl;var YM="isNegative",AK=B(YM,["typed"],e=>{var{typed:t}=e;return t(YM,{number:jM,BigNumber:function(n){return n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s<0},Unit:t.referToSelf(r=>n=>t.find(r,n.valueType())(n.value)),"Array | Matrix":t.referToSelf(r=>n=>At(n,r))})}),QM="isPositive",MK=B(QM,["typed"],e=>{var{typed:t}=e;return t(QM,{number:GM,BigNumber:function(n){return!n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s>0&&n.n>0},Unit:t.referToSelf(r=>n=>t.find(r,n.valueType())(n.value)),"Array | Matrix":t.referToSelf(r=>n=>At(n,r))})}),TK=B("isZero",["typed"],e=>{var{typed:t}=e;return t("isZero",{number:WM,BigNumber:function(n){return n.isZero()},Complex:function(n){return 0===n.re&&0===n.im},Fraction:function(n){return 1===n.d&&0===n.n},Unit:t.referToSelf(r=>n=>t.find(r,n.valueType())(n.value)),"Array | Matrix":t.referToSelf(r=>n=>At(n,r))})});function Ap(e){var t;if(We(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:La(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*Ap(1-e));if(e>=171.35)return 1/0;if(e>85){var r=e*e,n=r*e,i=n*e,a=i*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*r)-139/(51840*n)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*e))}--e,t=_u[0];for(var o=1;o<_u.length;++o)t+=_u[o]/(e+o);var s=e+KM+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,e+.5)*Math.exp(-s)*t}Ap.signature="number";var KM=4.7421875,_u=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],JM=.9189385332046728,e_=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function Sp(e){if(e<0)return NaN;if(0===e)return 1/0;if(!isFinite(e))return e;if(e<.5)return Math.log(Math.PI/Math.sin(Math.PI*e))-Sp(1-e);for(var t=5+(e-=1)+.5,r=e_[0],n=6;n>=1;n--)r+=e_[n]/(e+n);return JM+(e+.5)*Math.log(t)-t+Math.log(r)}Sp.signature="number";var RK=B("lgamma",["Complex","typed"],e=>{var{Complex:t,typed:r}=e,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return r("lgamma",{number:Sp,Complex:function o(c){if(c.isNaN())return new t(NaN,NaN);if(0===c.im)return new t(Sp(c.re),0);if(c.re>=7||Math.abs(c.im)>=7)return s(c);if(c.re<=.1){var p=function Nz(e,t){return(e>0||!(e<0)&&1/e==1/0)^(t>0||!(t<0)&&1/t==1/0)?-e:e}(6.283185307179586,c.im)*Math.floor(.5*c.re+.25),h=c.mul(Math.PI).sin().log(),m=o(new t(1-c.re,-c.im));return new t(1.1447298858494002,p).sub(h).sub(m)}return c.im>=0?u(c):u(c.conjugate()).conjugate()},BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function s(c){for(var l=c.sub(.5).mul(c.log()).sub(c).add(JM),f=new t(1,0).div(c),d=f.div(c),p=a[0],h=a[1],m=2*d.re,y=d.re*d.re+d.im*d.im,g=2;g<8;g++){var x=h;h=-y*p+a[g],p=m*p+x}var v=f.mul(d.mul(p).add(h));return l.add(v)}function u(c){var l=0,f=0,d=c;for(c=c.add(1);c.re<=7;){var p=(d=d.mul(c)).im<0?1:0;0!==p&&0===f&&l++,f=p,c=c.add(1)}return s(c).sub(d.log()).sub(new t(0,2*l*Math.PI*1))}}),BK=B("log10",["typed","config","Complex"],e=>{var{typed:t,config:r,Complex:n}=e;return t("log10",{number:function(a){return a>=0||r.predictable?WS(a):new n(a,0).log().div(Math.LN10)},Complex:function(a){return new n(a).log().div(Math.LN10)},BigNumber:function(a){return!a.isNegative()||r.predictable?a.log():new n(a.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":t.referToSelf(i=>a=>At(a,i))})}),kK=B("log2",["typed","config","Complex"],e=>{var{typed:t,config:r,Complex:n}=e;return t("log2",{number:function(o){return o>=0||r.predictable?ZS(o):i(new n(o,0))},Complex:i,BigNumber:function(o){return!o.isNegative()||r.predictable?o.log(2):i(new n(o.toNumber(),0))},"Array | Matrix":t.referToSelf(a=>o=>At(o,a))});function i(a){var o=Math.sqrt(a.re*a.re+a.im*a.im);return new n(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(a.im,a.re)/Math.LN2)}}),UK=B("map",["typed"],e=>{var{typed:t}=e;return t("map",{"Array, function":qK,"Matrix, function":function(n,i){return n.map(i)}})});function qK(e,t){return function n(i,a){return Array.isArray(i)?i.map(function(o,s){return n(o,a.concat(s))}):xu(t,i,a,e,"map")}(e,[])}var $K=B("multiplyScalar",["typed"],e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":US,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),GK=B("not",["typed"],e=>{var{typed:t}=e;return t("not",{"null | undefined":()=>!0,number:bA,Complex:function(n){return 0===n.re&&0===n.im},BigNumber:function(n){return n.isZero()||n.isNaN()},Unit:t.referToSelf(r=>n=>t.find(r,n.valueType())(n.value)),"Array | Matrix":t.referToSelf(r=>n=>At(n,r))})}),XK=B("number",["typed"],e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(i){return i},string:function(i){if("NaN"===i)return NaN;var a=function YK(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);return t?{input:e,radix:{"0b":2,"0o":8,"0x":16}[t[1]],integerPart:t[2],fractionalPart:t[3]}:null}(i);if(a)return function QK(e){for(var t=parseInt(e.integerPart,e.radix),r=0,n=0;n<e.fractionalPart.length;n++)r+=parseInt(e.fractionalPart[n],e.radix)/Math.pow(e.radix,n+1);var a=t+r;if(isNaN(a))throw new SyntaxError('String "'+e.input+'" is not a valid number');return a}(a);var o=0,s=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(o=Number(s[2]),i=s[1]);var u=Number(i);if(isNaN(u))throw new SyntaxError('String "'+i+'" is not a valid number');if(s){if(u>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));u>=2**(o-1)&&(u-=2**o)}return u},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:t.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":t.referToSelf(n=>i=>At(i,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),JK=B("oct",["typed","format"],e=>{var{typed:t,format:r}=e;return t("oct",{"number | BigNumber":function(i){return r(i,{notation:"oct"})},"number | BigNumber, number":function(i,a){return r(i,{notation:"oct",wordSize:a})}})}),s_=ke(128),eJ=s_(Date.now());function Tu(e){var t;return function r(i){t=null===i?eJ:s_(String(i))}(e),function n(){return t()}}var u_="pickRandom",rJ=B(u_,["typed","config","?on"],e=>{var{typed:t,config:r,on:n}=e,i=Tu(r.randomSeed);return n&&n("config",function(o,s){o.randomSeed!==s.randomSeed&&(i=Tu(o.randomSeed))}),t(u_,{"Array | Matrix":function(s){return a(s,{})},"Array | Matrix, Object":function(s,u){return a(s,u)},"Array | Matrix, number":function(s,u){return a(s,{number:u})},"Array | Matrix, Array | Matrix":function(s,u){return a(s,{weights:u})},"Array | Matrix, Array | Matrix, number":function(s,u,c){return a(s,{number:c,weights:u})},"Array | Matrix, number, Array | Matrix":function(s,u,c){return a(s,{number:u,weights:c})}});function a(o,s){var{number:u,weights:c,elementWise:l=!0}=s,f=typeof u>"u";f&&(u=1);var d=Je(o)?o.create:Je(c)?c.create:null;o=o.valueOf(),c&&(c=c.valueOf()),!0===l&&(o=jt(o),c=jt(c));var p=0;if(typeof c<"u"){if(c.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var h=0,m=c.length;h<m;h++){if(!Et(c[h])||c[h]<0)throw new Error("Weights must be an array of positive numbers");p+=c[h]}}for(var x,y=o.length,g=[];g.length<u;){if(typeof c>"u")x=o[Math.floor(i()*y)];else for(var v=i()*p,D=0,w=o.length;D<w;D++)if((v-=c[D])<0){x=o[D];break}g.push(x)}return f?g[0]:d?d(g):g}});function M0(e,t){var r=[];if((e=e.slice(0)).length>1)for(var n=0,i=e.shift();n<i;n++)r.push(M0(e,t));else for(var a=0,o=e.shift();a<o;a++)r.push(t());return r}var iJ=B("random",["typed","config","?on"],e=>{var{typed:t,config:r,on:n}=e,i=Tu(r.randomSeed);return n&&n("config",function(s,u){s.randomSeed!==u.randomSeed&&(i=Tu(s.randomSeed))}),t("random",{"":()=>o(0,1),number:s=>o(0,s),"number, number":(s,u)=>o(s,u),"Array | Matrix":s=>a(s,0,1),"Array | Matrix, number":(s,u)=>a(s,0,u),"Array | Matrix, number, number":(s,u,c)=>a(s,u,c)});function a(s,u,c){var l=M0(s.valueOf(),()=>o(u,c));return Je(s)?s.create(l):l}function o(s,u){return s+i()*(u-s)}}),oJ=B("re",["typed"],e=>{var{typed:t}=e;return t("re",{"number | BigNumber | Fraction":r=>r,Complex:r=>r.re,"Array | Matrix":t.referToSelf(r=>n=>At(n,r))})}),uJ=B("sec",["typed","BigNumber"],e=>{var{typed:t,BigNumber:r}=e;return t("sec",{number:vM,Complex:i=>i.sec(),BigNumber:i=>new r(1).div(i.cos())},Au({typed:t}))}),lJ=B("sign",["typed","BigNumber","Fraction","complex"],e=>{var{typed:t,BigNumber:r,complex:n,Fraction:i}=e;return t("sign",{number:S0,Complex:function(o){return 0===o.im?n(S0(o.re)):o.sign()},BigNumber:function(o){return new r(o.cmp(0))},Fraction:function(o){return new i(o.s,1)},"Array | Matrix":t.referToSelf(a=>o=>At(o,a,!0)),Unit:t.referToSelf(a=>o=>{if(!o._isDerived()&&0!==o.units[0].unit.offset)throw new TypeError("sign is ambiguous for units with offset");return t.find(a,o.valueType())(o.value)})})}),dJ=B("sin",["typed"],e=>{var{typed:t}=e,r=Au({typed:t});return t("sin",{number:Math.sin,"Complex | BigNumber":n=>n.sin()},r)}),hJ=B("SparseMatrix",["typed","equalScalar","Matrix"],e=>{var{typed:t,equalScalar:r,Matrix:n}=e;function i(m,y){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(y&&!Dn(y))throw new Error("Invalid datatype: "+y);if(Je(m))!function a(m,y,g){"SparseMatrix"===y.type?(m._values=y._values?ct(y._values):void 0,m._index=ct(y._index),m._ptr=ct(y._ptr),m._size=ct(y._size),m._datatype=g||y._datatype):o(m,y.valueOf(),g||y._datatype)}(this,m,y);else if(m&&Qt(m.index)&&Qt(m.ptr)&&Qt(m.size))this._values=m.values,this._index=m.index,this._ptr=m.ptr,this._size=m.size,this._datatype=y||m.datatype;else if(Qt(m))o(this,m,y);else{if(m)throw new TypeError("Unsupported type of data ("+or(m)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=y}}function o(m,y,g){m._values=[],m._index=[],m._ptr=[],m._datatype=g;var x=y.length,v=0,D=r,w=0;if(Dn(g)&&(D=t.find(r,[g,g])||r,w=t.convert(0,g)),x>0){var b=0;do{m._ptr.push(m._index.length);for(var A=0;A<x;A++){var C=y[A];if(Qt(C)){if(0===b&&v<C.length&&(v=C.length),b<C.length){var E=C[b];D(E,w)||(m._values.push(E),m._index.push(A))}}else 0===b&&v<1&&(v=1),D(C,w)||(m._values.push(C),m._index.push(A))}b++}while(b<v)}m._ptr.push(m._index.length),m._size=[x,v]}function c(m,y,g,x){if(g-y==0)return g;for(var v=y;v<g;v++)if(x[v]===m)return v;return y}function f(m,y,g,x,v,D,w){v.splice(m,0,x),D.splice(m,0,y);for(var b=g+1;b<w.length;b++)w[b]++}function d(m,y,g,x){var v=x||0,D=r,w=0;Dn(m._datatype)&&(D=t.find(r,[m._datatype,m._datatype])||r,w=t.convert(0,m._datatype),v=t.convert(v,m._datatype));var E,N,_,b=!D(v,w),A=m._size[0],C=m._size[1];if(g>C){for(N=C;N<g;N++)if(m._ptr[N]=m._values.length,b)for(E=0;E<A;E++)m._values.push(v),m._index.push(E);m._ptr[g]=m._values.length}else g<C&&(m._ptr.splice(g+1,C-g),m._values.splice(m._ptr[g],m._values.length),m._index.splice(m._ptr[g],m._index.length));if(C=g,y>A){if(b){var I=0;for(N=0;N<C;N++){m._ptr[N]=m._ptr[N]+I,_=m._ptr[N+1]+I;var R=0;for(E=A;E<y;E++,R++)m._values.splice(_+R,0,v),m._index.splice(_+R,0,E),I++}m._ptr[C]=m._values.length}}else if(y<A){var k=0;for(N=0;N<C;N++){m._ptr[N]=m._ptr[N]-k;var T=m._ptr[N+1]-k;for(_=m._ptr[N];_<T;_++)(E=m._index[_])>y-1&&(m._values.splice(_,1),m._index.splice(_,1),k++)}m._ptr[N]=m._values.length}return m._size[0]=y,m._size[1]=g,m}function h(m,y,g,x,v){var A,C,D=x[0],w=x[1],b=[];for(A=0;A<D;A++)for(b[A]=[],C=0;C<w;C++)b[A][C]=0;for(C=0;C<w;C++)for(var N=g[C+1],_=g[C];_<N;_++)b[A=y[_]][C]=m?v?ct(m[_]):m[_]:1;return b}return(i.prototype=new n).createSparseMatrix=function(m,y){return new i(m,y)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return sl(this._values,or)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(m,y){return new i(m,y)},i.prototype.density=function(){var m=this._size[0],y=this._size[1];return 0!==m&&0!==y?this._index.length/(m*y):0},i.prototype.subset=function(m,y,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function s(m,y){if(!Rd(y))throw new TypeError("Invalid index");if(y.isScalar())return m.get(y.min());var x=y.size();if(x.length!==m._size.length)throw new Ct(x.length,m._size.length);var v,D,w,b,A=y.min(),C=y.max();for(v=0,D=m._size.length;v<D;v++)sr(A[v],m._size[v]),sr(C[v],m._size[v]);var E=m._values,N=m._index,_=m._ptr,I=y.dimension(0),R=y.dimension(1),k=[],P=[];I.forEach(function(F,K){P[F]=K[0],k[F]=!0});var T=E?[]:void 0,S=[],q=[];return R.forEach(function(F){for(q.push(S.length),w=_[F],b=_[F+1];w<b;w++)!0===k[v=N[w]]&&(S.push(P[v]),T&&T.push(E[w]))}),q.push(S.length),new i({values:T,index:S,ptr:q,size:x,datatype:m._datatype})}(this,m);case 2:case 3:return function u(m,y,g,x){if(!y||!0!==y.isIndex)throw new TypeError("Invalid index");var w,v=y.size(),D=y.isScalar();if(Je(g)?(w=g.size(),g=g.toArray()):w=lt(g),D){if(0!==w.length)throw new TypeError("Scalar expected");m.set(y.min(),g,x)}else{if(1!==v.length&&2!==v.length)throw new Ct(v.length,m._size.length,"<");if(w.length<v.length){for(var b=0,A=0;1===v[b]&&1===w[b];)b++;for(;1===v[b];)A++,b++;g=UC(g,v.length,A,w)}if(!Wo(v,w))throw new Ct(v,w,">");if(1===v.length)y.dimension(0).forEach(function(_,I){sr(_),m.set([_,0],g[I[0]],x)});else{var E=y.dimension(0),N=y.dimension(1);E.forEach(function(_,I){sr(_),N.forEach(function(R,k){sr(R),m.set([_,R],g[I[0]][k[0]],x)})})}}return m}(this,m,y,g);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(m){if(!Qt(m))throw new TypeError("Array expected");if(m.length!==this._size.length)throw new Ct(m.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var y=m[0],g=m[1];sr(y,this._size[0]),sr(g,this._size[1]);var x=c(y,this._ptr[g],this._ptr[g+1],this._index);return x<this._ptr[g+1]&&this._index[x]===y?this._values[x]:0},i.prototype.set=function(m,y,g){if(!Qt(m))throw new TypeError("Array expected");if(m.length!==this._size.length)throw new Ct(m.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var x=m[0],v=m[1],D=this._size[0],w=this._size[1],b=r,A=0;Dn(this._datatype)&&(b=t.find(r,[this._datatype,this._datatype])||r,A=t.convert(0,this._datatype)),(x>D-1||v>w-1)&&(d(this,Math.max(x+1,D),Math.max(v+1,w),g),D=this._size[0],w=this._size[1]),sr(x,D),sr(v,w);var C=c(x,this._ptr[v],this._ptr[v+1],this._index);return C<this._ptr[v+1]&&this._index[C]===x?b(y,A)?function l(m,y,g,x,v){g.splice(m,1),x.splice(m,1);for(var D=y+1;D<v.length;D++)v[D]--}(C,v,this._values,this._index,this._ptr):this._values[C]=y:b(y,A)||f(C,x,v,y,this._values,this._index,this._ptr),this},i.prototype.resize=function(m,y,g){if(!vi(m))throw new TypeError("Array or Matrix expected");var x=m.valueOf().map(D=>Array.isArray(D)&&1===D.length?D[0]:D);if(2!==x.length)throw new Error("Only two dimensions matrix are supported");return x.forEach(function(D){if(!Et(D)||!We(D)||D<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Nt(x)+")")}),d(g?this.clone():this,x[0],x[1],y)},i.prototype.reshape=function(m,y){if(!Qt(m))throw new TypeError("Array expected");if(2!==m.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");m.forEach(function(F){if(!Et(F)||!We(F)||F<=-2||0===F)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Nt(m)+")")});var g=this._size[0]*this._size[1];if(g!==(m=n0(m,g))[0]*m[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var v=y?this.clone():this;if(this._size[0]===m[0]&&this._size[1]===m[1])return v;for(var D=[],w=0;w<v._ptr.length;w++)for(var b=0;b<v._ptr[w+1]-v._ptr[w];b++)D.push(w);for(var A=v._values.slice(),C=v._index.slice(),E=0;E<v._index.length;E++){var I=C[E]*v._size[1]+D[E];D[E]=I%m[1],C[E]=Math.floor(I/m[1])}v._values.length=0,v._index.length=0,v._ptr.length=m[1]+1,v._size=m.slice();for(var R=0;R<v._ptr.length;R++)v._ptr[R]=0;for(var k=0;k<A.length;k++){var P=C[k],T=D[k],S=A[k];f(c(P,v._ptr[T],v._ptr[T+1],v._index),P,T,S,v._values,v._index,v._ptr)}return v},i.prototype.clone=function(){return new i({values:this._values?ct(this._values):void 0,index:ct(this._index),ptr:ct(this._ptr),size:ct(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(m,y){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,x=this._size[0],v=this._size[1],D=PS(m);return function p(m,y,g,x,v,D,w){var b=[],A=[],C=[],E=r,N=0;Dn(m._datatype)&&(E=t.find(r,[m._datatype,m._datatype])||r,N=t.convert(0,m._datatype));for(var _=function(z,re,he){z=D(z,re,he),E(z,N)||(b.push(z),A.push(re))},I=x;I<=v;I++){C.push(b.length);var R=m._ptr[I],k=m._ptr[I+1];if(w)for(var P=R;P<k;P++){var T=m._index[P];T>=y&&T<=g&&_(m._values[P],T-y,I-x)}else{for(var S={},q=R;q<k;q++)S[m._index[q]]=m._values[q];for(var K=y;K<=g;K++)_(K in S?S[K]:0,K-y,I-x)}}return C.push(b.length),new i({values:b,index:A,ptr:C,size:[g-y+1,v-x+1]})}(this,0,x-1,0,v-1,function(A,C,E){return 1===D?m(A):2===D?m(A,[C,E]):m(A,[C,E],g)},y)},i.prototype.forEach=function(m,y){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var x=this._size[0],v=this._size[1],D=0;D<v;D++){var w=this._ptr[D],b=this._ptr[D+1];if(y)for(var A=w;A<b;A++)m(this._values[A],[this._index[A],D],this);else{for(var E={},N=w;N<b;N++)E[this._index[N]]=this._values[N];for(var I=0;I<x;I++)m(I in E?E[I]:0,[I,D],this)}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var m=this._size[1],y=0;y<m;y++)for(var x=this._ptr[y+1],v=this._ptr[y];v<x;v++){var D=this._index[v];yield{value:this._values[v],index:[D,y]}}},i.prototype.toArray=function(){return h(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return h(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(m){for(var y=this._size[0],g=this._size[1],x=this.density(),v="Sparse Matrix ["+Nt(y,m)+" x "+Nt(g,m)+"] density: "+Nt(x,m)+"\n",D=0;D<g;D++)for(var b=this._ptr[D+1],A=this._ptr[D];A<b;A++)v+="\n    ("+Nt(this._index[A],m)+", "+Nt(D,m)+") ==> "+(this._values?Nt(this._values[A],m):"X");return v},i.prototype.toString=function(){return Nt(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(m){if(m){if(It(m)&&(m=m.toNumber()),!Et(m)||!We(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var y=m>0?m:0,g=m<0?-m:0,v=this._size[1],D=Math.min(this._size[0]-g,v-y),w=[],b=[],A=[];A[0]=0;for(var C=y;C<v&&w.length<D;C++)for(var N=this._ptr[C+1],_=this._ptr[C];_<N;_++){var I=this._index[_];if(I===C-y+g){w.push(this._values[_]),b[w.length-1]=I-g;break}}return A.push(w.length),new i({values:w,index:b,ptr:A,size:[D,1]})},i.fromJSON=function(m){return new i(m)},i.diagonal=function(m,y,g,x,v){if(!Qt(m))throw new TypeError("Array expected, size parameter");if(2!==m.length)throw new Error("Only two dimensions matrix are supported");if(m=m.map(function(F){if(It(F)&&(F=F.toNumber()),!Et(F)||!We(F)||F<1)throw new Error("Size values must be positive integers");return F}),g){if(It(g)&&(g=g.toNumber()),!Et(g)||!We(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var D=r,w=0;Dn(v)&&(D=t.find(r,[v,v])||r,w=t.convert(0,v));var _,b=g>0?g:0,A=g<0?-g:0,C=m[0],E=m[1],N=Math.min(C-A,E-b);if(Qt(y)){if(y.length!==N)throw new Error("Invalid value array length");_=function(K){return y[K]}}else if(Je(y)){var I=y.size();if(1!==I.length||I[0]!==N)throw new Error("Invalid matrix length");_=function(K){return y.get([K])}}else _=function(){return y};for(var R=[],k=[],P=[],T=0;T<E;T++){P.push(R.length);var S=T-b;if(S>=0&&S<N){var q=_(S);D(q,w)||(k.push(S+A),R.push(q))}}return P.push(R.length),new i({values:R,index:k,ptr:P,size:[C,E]})},i.prototype.swapRows=function(m,y){if(!(Et(m)&&We(m)&&Et(y)&&We(y)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return sr(m,this._size[0]),sr(y,this._size[0]),i._swapRows(m,y,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(m,y,g,x,v){for(var w=x[m+1],b=x[m];b<w;b++)v(g[b],y[b])},i._swapRows=function(m,y,g,x,v,D){for(var w=0;w<g;w++){var b=D[w],A=D[w+1],C=c(m,b,A,v),E=c(y,b,A,v);if(C<A&&E<A&&v[C]===m&&v[E]===y){if(x){var N=x[C];x[C]=x[E],x[E]=N}}else if(C<A&&v[C]===m&&(E>=A||v[E]!==y)){var _=x?x[C]:void 0;v.splice(E,0,y),x&&x.splice(E,0,_),v.splice(E<=C?C+1:C,1),x&&x.splice(E<=C?C+1:C,1)}else if(E<A&&v[E]===y&&(C>=A||v[C]!==m)){var I=x?x[E]:void 0;v.splice(C,0,m),x&&x.splice(C,0,I),v.splice(C<=E?E+1:E,1),x&&x.splice(C<=E?E+1:E,1)}}},i},{isClass:!0}),m_="splitUnit",gJ=B(m_,["typed"],e=>{var{typed:t}=e;return t(m_,{"Unit, Array":function(n,i){return n.splitUnit(i)}})}),bJ=B("square",["typed"],e=>{var{typed:t}=e;return t("square",{number:QS,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})}),wJ=B("string",["typed"],e=>{var{typed:t}=e;return t("string",{"":function(){return""},number:Zo,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":t.referToSelf(r=>n=>At(n,r)),any:function(n){return String(n)}})}),g_="subtractScalar",EJ=B(g_,["typed"],e=>{var{typed:t}=e;return t(g_,{"number, number":zS,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(null==n.value)throw new Error("Parameter x contains a unit with undefined value");if(null==i.value)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=t.find(r,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),CJ=B("tan",["typed"],e=>{var{typed:t}=e,r=Au({typed:t});return t("tan",{number:Math.tan,"Complex | BigNumber":n=>n.tan()},r)}),SJ=B("typeOf",["typed"],e=>{var{typed:t}=e;return t("typeOf",{any:or})}),_J=B("acosh",["typed","config","Complex"],e=>{var{typed:t,config:r,Complex:n}=e;return t("acosh",{number:function(a){return a>=1||r.predictable?nM(a):a<=-1?new n(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new n(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})}),IJ=B("acsch",["typed","BigNumber"],e=>{var{typed:t,BigNumber:r}=e;return t("acsch",{number:sM,Complex:function(i){return i.acsch()},BigNumber:function(i){return new r(1).div(i).asinh()}})}),OJ=B("asec",["typed","config","Complex","BigNumber"],e=>{var{typed:t,config:r,Complex:n,BigNumber:i}=e;return t("asec",{number:function(o){return o<=-1||o>=1||r.predictable?uM(o):new n(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new i(1).div(o).acos()}})}),PJ=B("bin",["typed","format"],e=>{var{typed:t,format:r}=e;return t("bin",{"number | BigNumber":function(i){return r(i,{notation:"bin"})},"number | BigNumber, number":function(i,a){return r(i,{notation:"bin",wordSize:a})}})}),N_="combinationsWithRep",LJ=B(N_,["typed"],e=>{var{typed:t}=e;return t(N_,{"number, number":function(n,i){if(!We(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!We(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");return i<n-1?La(n,n+i-1)/La(1,i):La(i+1,n+i-1)/La(1,n-1)},"BigNumber, BigNumber":function(n,i){var o,s,u=new(0,n.constructor)(1),c=n.minus(u);if(!C_(n)||!C_(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(u))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=u,i.lt(c))for(s=u;s.lte(c);s=s.plus(u))o=o.times(i.plus(s)).dividedBy(s);else for(s=u;s.lte(i);s=s.plus(u))o=o.times(c.plus(s)).dividedBy(s);return o}})});function C_(e){return e.isInteger()&&e.gte(0)}var zJ=B("cosh",["typed"],e=>{var{typed:t}=e;return t("cosh",{number:IC,"Complex | BigNumber":r=>r.cosh()})}),qJ=B("csch",["typed","BigNumber"],e=>{var{typed:t,BigNumber:r}=e;return t("csch",{number:hM,Complex:n=>n.csch(),BigNumber:n=>new r(1).div(n.sinh())})}),HJ=B("isNaN",["typed"],e=>{var{typed:t}=e;return t("isNaN",{number:ZM,BigNumber:function(n){return n.isNaN()},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":function(n){return At(n,Number.isNaN)}})}),__="isPrime",jJ=B(__,["typed"],e=>{var{typed:t}=e;return t(__,{number:function(n){if(0*n!=0)return!1;if(n<=3)return n>1;if(n%2==0||n%3==0)return!1;for(var i=5;i*i<=n;i+=6)if(n%i==0||n%(i+2)==0)return!1;return!0},BigNumber:function(n){if(0*n.toNumber()!=0)return!1;if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var i=n.toNumber(),a=5;a*a<=i;a+=6)if(i%a==0||i%(a+2)==0)return!1;return!0}function o(x,v,D){for(var w=1;!v.eq(0);)v.mod(2).eq(0)?(v=v.div(2),x=x.mul(x).mod(D)):(v=v.sub(1),w=x.mul(w).mod(D));return w}for(var s=n.constructor.clone({precision:2*n.toFixed(0).length}),u=0,c=(n=new s(n)).sub(1);c.mod(2).eq(0);)c=c.div(2),u+=1;var l=null;if(n.lt("3317044064679887385961981"))l=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(x=>x<n);else{var f=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));l=[];for(var d=2;d<=f;d+=1)l.push(f)}for(var p=0;p<l.length;p+=1){var h=l[p],m=o(n.sub(n).add(h),c,n);if(!m.eq(1))for(var y=0,g=m;!g.eq(n.sub(1));y+=1,g=g.mul(g).mod(n))if(y===u-1)return!1}return!0},"Array | Matrix":t.referToSelf(r=>n=>At(n,r))})}),T_="randomInt",WJ=B(T_,["typed","config","?on"],e=>{var{typed:t,config:r,on:n}=e,i=Tu(r.randomSeed);return n&&n("config",function(s,u){s.randomSeed!==u.randomSeed&&(i=Tu(s.randomSeed))}),t(T_,{"":()=>o(0,1),number:s=>o(0,s),"number, number":(s,u)=>o(s,u),"Array | Matrix":s=>a(s,0,1),"Array | Matrix, number":(s,u)=>a(s,0,u),"Array | Matrix, number, number":(s,u,c)=>a(s,u,c)});function a(s,u,c){var l=M0(s.valueOf(),()=>o(u,c));return Je(s)?s.create(l):l}function o(s,u){return Math.floor(s+i()*(u-s))}}),YJ=B("sech",["typed","BigNumber"],e=>{var{typed:t,BigNumber:r}=e;return t("sech",{number:gM,Complex:n=>n.sech(),BigNumber:n=>new r(1).div(n.cosh())})}),XJ=B("sinh",["typed"],e=>{var{typed:t}=e;return t("sinh",{number:yM,"Complex | BigNumber":r=>r.sinh()})}),JJ=B("sparse",["typed","SparseMatrix"],e=>{var{typed:t,SparseMatrix:r}=e;return t("sparse",{"":function(){return new r([])},string:function(i){return new r([],i)},"Array | Matrix":function(i){return new r(i)},"Array | Matrix, string":function(i,a){return new r(i,a)}})}),ree=B("sqrt",["config","typed","Complex"],e=>{var{config:t,typed:r,Complex:n}=e;return r("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||t.predictable?o.sqrt():i(o.toNumber())},Unit:function(o){return o.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||t.predictable?Math.sqrt(a):new n(a,0).sqrt()}}),aee=B("tanh",["typed"],e=>{var{typed:t}=e;return t("tanh",{number:FC,"Complex | BigNumber":r=>r.tanh()})}),R_="unaryMinus",see=B(R_,["typed"],e=>{var{typed:t}=e;return t(R_,{number:qS,"Complex | BigNumber | Fraction":r=>r.neg(),Unit:t.referToSelf(r=>n=>{var i=n.clone();return i.value=t.find(r,i.valueType())(n.value),i}),"Array | Matrix":t.referToSelf(r=>n=>At(n,r,!0))})}),cee=B("acoth",["typed","config","Complex","BigNumber"],e=>{var{typed:t,config:r,Complex:n,BigNumber:i}=e;return t("acoth",{number:function(o){return o>=1||o<=-1||r.predictable?aM(o):new n(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new i(1).div(o).atanh()}})}),fee=B("coth",["typed","BigNumber"],e=>{var{typed:t,BigNumber:r}=e;return t("coth",{number:pM,Complex:n=>n.coth(),BigNumber:n=>new r(1).div(n.tanh())})}),mee=B("fraction",["typed","Fraction"],e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new r(i)},string:function(i){return new r(i)},"number, number":function(i,a){return new r(i,a)},null:function(i){return new r(0)},BigNumber:function(i){return new r(i.toString())},Fraction:function(i){return i},Unit:t.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Object:function(i){return new r(i)},"Array | Matrix":t.referToSelf(n=>i=>At(i,n))})}),L_="isNumeric",vee=B(L_,["typed"],e=>{var{typed:t}=e;return t(L_,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":t.referToSelf(r=>n=>At(n,r))})}),yee=B("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],e=>{var{typed:t,DenseMatrix:n,SparseMatrix:i}=e;return t("matrix",{"":function(){return a([])},string:function(s){return a([],s)},"string, string":function(s,u){return a([],s,u)},Array:function(s){return a(s)},Matrix:function(s){return a(s,s.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,s,u){if("dense"===s||"default"===s||void 0===s)return new n(o,u);if("sparse"===s)return new i(o,u);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),z_="matrixFromFunction",Dee=B(z_,["typed","matrix","isZero"],e=>{var{typed:t,matrix:r,isZero:n}=e;return t(z_,{"Array | Matrix, function, string, string":function(o,s,u,c){return i(o,s,u,c)},"Array | Matrix, function, string":function(o,s,u){return i(o,s,u)},"Matrix, function":function(o,s){return i(o,s,"dense")},"Array, function":function(o,s){return i(o,s,"dense").toArray()},"Array | Matrix, string, function":function(o,s,u){return i(o,u,s)},"Array | Matrix, string, string, function":function(o,s,u,c){return i(o,c,s,u)}});function i(a,o,s,u){var c;return(c=void 0!==u?r(s,u):r(s)).resize(a),c.forEach(function(l,f){var d=o(f);n(d)||c.set(f,d)}),c}}),xee=B("mode",["typed","isNaN","isNumeric"],e=>{var{typed:t,isNaN:r,isNumeric:n}=e;return t("mode",{"Array | Matrix":i,"...":function(o){return i(o)}});function i(a){if(0===(a=jt(a.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var s={},u=[],c=0,l=0;l<a.length;l++){var f=a[l];if(n(f)&&r(f))throw new Error("Cannot calculate mode of an array containing NaN values");f in s||(s[f]=0),s[f]++,s[f]===c?u.push(f):s[f]>c&&(c=s[f],u=[f])}return u}}),Cee=B("numeric",["number","?bignumber","?fraction"],e=>{var{number:t,bignumber:r,fraction:n}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:o=>t(o),BigNumber:r?o=>r(o):f0,Fraction:n?o=>n(o):rA};return function(s){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";if(void 0!==(arguments.length>2?arguments[2]:void 0))throw new SyntaxError("numeric() takes one or two arguments");var l=or(s);if(!(l in i))throw new TypeError("Cannot convert "+s+' of type "'+l+'"; valid input types are '+Object.keys(i).join(", "));if(!(u in a))throw new TypeError("Cannot convert "+s+' to type "'+u+'"; valid output types are '+Object.keys(a).join(", "));return u===l?s:a[u](s)}}),See=B("prod",["typed","config","multiplyScalar","numeric"],e=>{var{typed:t,config:r,multiplyScalar:n,numeric:i}=e;return t("prod",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(s,u){throw new Error("prod(A, dim) is not yet supported")},"...":function(s){return a(s)}});function a(o){var s;if(Oa(o,function(u){try{s=void 0===s?u:n(s,u)}catch(c){throw Bn(c,"prod",u)}}),"string"==typeof s&&(s=i(s,r.number)),void 0===s)throw new Error("Cannot calculate prod of an empty array");return s}}),V_="reshape",_ee=B(V_,["typed","isInteger","matrix"],e=>{var{typed:t,isInteger:r}=e;return t(V_,{"Matrix, Array":function(i,a){return i.reshape(a,!0)},"Array, Array":function(i,a){return a.forEach(function(o){if(!r(o))throw new TypeError("Invalid size for dimension: "+o)}),r0(i,a)}})}),Iee=B("size",["typed","config","?matrix"],e=>{var{typed:t,config:r,matrix:n}=e;return t("size",{Matrix:function(a){return a.create(a.size())},Array:lt,string:function(a){return"Array"===r.matrix?[a.length]:n([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return"Array"===r.matrix?[]:n?n([]):nA()}})}),$_="squeeze",Oee=B($_,["typed","matrix"],e=>{var{typed:t,matrix:r}=e;return t($_,{Array:function(i){return qd(ct(i))},Matrix:function(i){var a=qd(i.toArray());return Array.isArray(a)?r(a):a},any:function(i){return ct(i)}})}),j_="transpose",Pee=B(j_,["typed","matrix"],e=>{var{typed:t,matrix:r}=e;return t(j_,{Array:o=>n(r(o)).valueOf(),Matrix:n,any:ct});function n(o){var u,s=o.size();switch(s.length){case 1:u=o.clone();break;case 2:var c=s[0],l=s[1];if(0===l)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Nt(s)+")");switch(o.storage()){case"dense":u=function i(o,s,u){for(var f,c=o._data,l=[],d=0;d<u;d++){f=l[d]=[];for(var p=0;p<s;p++)f[p]=ct(c[p][d])}return o.createDenseMatrix({data:l,size:[u,s],datatype:o._datatype})}(o,c,l);break;case"sparse":u=function a(o,s,u){for(var c=o._values,l=o._index,f=o._ptr,d=c?[]:void 0,p=[],h=[],m=[],y=0;y<s;y++)m[y]=0;var g,x,v;for(g=0,x=l.length;g<x;g++)m[l[g]]++;for(var D=0,w=0;w<s;w++)h.push(D),D+=m[w],m[w]=h[w];for(h.push(D),v=0;v<u;v++)for(var A=f[v+1],C=f[v];C<A;C++){var E=m[l[C]]++;p[E]=v,c&&(d[E]=ct(c[C]))}return o.createSparseMatrix({values:d,index:p,ptr:h,size:[u,s],datatype:o._datatype})}(o,c,l)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Nt(s)+")")}return u}}),Lee=B("xgcd",["typed","config","matrix","BigNumber"],e=>{var{typed:t,config:r,matrix:n,BigNumber:i}=e;return t("xgcd",{"number, number":function(s,u){var c=XS(s,u);return"Array"===r.matrix?c:n(c)},"BigNumber, BigNumber":function a(o,s){var u,c,l,g,f=new i(0),d=new i(1),p=f,h=d,m=d,y=f;if(!o.isInt()||!s.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!s.isZero();)c=o.div(s).floor(),l=o.mod(s),u=p,p=h.minus(c.times(p)),h=u,u=m,m=y.minus(c.times(m)),y=u,o=s,s=l;return g=o.lt(f)?[o.neg(),h.neg(),y.neg()]:[o,o.isZero()?0:h,y],"Array"===r.matrix?g:n(g)}})}),zee=B("zeros",["typed","config","matrix","BigNumber"],e=>{var{typed:t,config:r,matrix:n,BigNumber:i}=e;return t("zeros",{"":function(){return"Array"===r.matrix?a([]):a([],"default")},"...number | BigNumber | string":function(c){if("string"==typeof c[c.length-1]){var f=c.pop();return a(c,f)}return"Array"===r.matrix?a(c):a(c,"default")},Array:a,Matrix:function(c){var l=c.storage();return a(c.valueOf(),l)},"Array | Matrix, string":function(c,l){return a(c.valueOf(),l)}});function a(u,c){var l=function o(u){var c=!1;return u.forEach(function(l,f,d){It(l)&&(c=!0,d[f]=l.toNumber())}),c}(u),f=l?new i(0):0;if(function s(u){u.forEach(function(c){if("number"!=typeof c||!We(c)||c<0)throw new Error("Parameters in function zeros must be positive integers")})}(u),c){var d=n(c);return u.length>0?d.resize(u,f):d}var p=[];return u.length>0?yu(p,u,f):p}}),qee=B("asin",["typed","config","Complex"],e=>{var{typed:t,config:r,Complex:n}=e;return t("asin",{number:function(a){return a>=-1&&a<=1||r.predictable?Math.asin(a):new n(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})}),Hee=B("cbrt",["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],e=>{var{config:t,typed:r,isNegative:n,unaryMinus:i,matrix:a,Complex:o,BigNumber:s,Fraction:u}=e;return r("cbrt",{number:ml,Complex:c,"Complex, boolean":c,BigNumber:function(d){return d.cbrt()},Unit:function l(f){if(f.value&&Ta(f.value)){var d=f.clone();return d.value=1,(d=d.pow(1/3)).value=c(f.value),d}var h,p=n(f.value);p&&(f.value=i(f.value)),h=It(f.value)?new s(1).div(3):il(f.value)?new u(1,3):1/3;var m=f.pow(h);return p&&(m.value=i(m.value)),m}});function c(f,d){var p=f.arg()/3,h=f.abs(),m=new o(ml(h),0).mul(new o(0,p).exp());if(d){var y=[m,new o(ml(h),0).mul(new o(0,p+2*Math.PI/3).exp()),new o(ml(h),0).mul(new o(0,p-2*Math.PI/3).exp())];return"Array"===t.matrix?y:a(y)}return m}}),jee=B("count",["typed","size","prod"],e=>{var{typed:t,size:r,prod:n}=e;return t("count",{string:function(a){return a.length},"Matrix | Array":function(a){return n(r(a))}})}),X_="ctranspose",Wee=B(X_,["typed","transpose","conj"],e=>{var{typed:t,transpose:r,conj:n}=e;return t(X_,{any:function(a){return n(r(a))}})}),Yee=B("diag",["typed","matrix","DenseMatrix","SparseMatrix"],e=>{var{typed:t,matrix:r,DenseMatrix:n,SparseMatrix:i}=e;return t("diag",{Array:function(c){return a(c,0,lt(c),null)},"Array, number":function(c,l){return a(c,l,lt(c),null)},"Array, BigNumber":function(c,l){return a(c,l.toNumber(),lt(c),null)},"Array, string":function(c,l){return a(c,0,lt(c),l)},"Array, number, string":function(c,l,f){return a(c,l,lt(c),f)},"Array, BigNumber, string":function(c,l,f){return a(c,l.toNumber(),lt(c),f)},Matrix:function(c){return a(c,0,c.size(),c.storage())},"Matrix, number":function(c,l){return a(c,l,c.size(),c.storage())},"Matrix, BigNumber":function(c,l){return a(c,l.toNumber(),c.size(),c.storage())},"Matrix, string":function(c,l){return a(c,0,c.size(),l)},"Matrix, number, string":function(c,l,f){return a(c,l,c.size(),f)},"Matrix, BigNumber, string":function(c,l,f){return a(c,l.toNumber(),c.size(),f)}});function a(u,c,l,f){if(!We(c))throw new TypeError("Second parameter in function diag must be an integer");var d=c>0?c:0,p=c<0?-c:0;switch(l.length){case 1:return function o(u,c,l,f,d,p){var h=[f+d,f+p];if(l&&"sparse"!==l&&"dense"!==l)throw new TypeError("Unknown matrix type ".concat(l,'"'));var m="sparse"===l?i.diagonal(h,u,c):n.diagonal(h,u,c);return null!==l?m:m.valueOf()}(u,c,f,l[0],p,d);case 2:return function s(u,c,l,f,d,p){if(Je(u)){var h=u.diagonal(c);return null!==l?l!==h.storage()?r(h,l):h:h.valueOf()}for(var m=Math.min(f[0]-d,f[1]-p),y=[],g=0;g<m;g++)y[g]=u[g+d][g+p];return null!==l?r(y):y}(u,c,f,l,p,d)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}),J_="divideScalar",Xee=B(J_,["typed","numeric"],e=>{var{typed:t}=e;return t(J_,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})}),da=B("matAlgo07xSSf",["typed","DenseMatrix"],e=>{var{typed:t,DenseMatrix:r}=e;return function(a,o,s){var u=a._size,c=a._datatype,l=o._size,f=o._datatype;if(u.length!==l.length)throw new Ct(u.length,l.length);if(u[0]!==l[0]||u[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+l+")");var h,d=u[0],p=u[1],m=0,y=s;"string"==typeof c&&c===f&&(m=t.convert(0,h=c),y=t.find(s,[h,h]));var g,x,v=[];for(g=0;g<d;g++)v[g]=[];var D=[],w=[],b=[],A=[];for(x=0;x<p;x++){var C=x+1;for(n(a,x,b,D,C),n(o,x,A,w,C),g=0;g<d;g++)v[g][x]=y(b[g]===C?D[g]:m,A[g]===C?w[g]:m)}return new r({data:v,size:[d,p],datatype:h})};function n(i,a,o,s,u){for(var c=i._values,l=i._index,f=i._ptr,d=f[a],p=f[a+1];d<p;d++){var h=l[d];o[h]=u,s[h]=c[d]}}}),e2="dotDivide",tte=B(e2,["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],e=>{var{typed:t,matrix:r,equalScalar:n,divideScalar:i,DenseMatrix:a,concat:o}=e,s=Bi({typed:t,equalScalar:n}),u=Pn({typed:t}),c=da({typed:t,DenseMatrix:a}),l=un({typed:t,equalScalar:n}),f=Jr({typed:t,DenseMatrix:a}),d=dr({typed:t,matrix:r,concat:o});return t(e2,d({elop:i,SS:c,DS:u,SD:s,Ss:l,sS:f}))}),Mp="equal",nte=B(Mp,["typed","matrix","equalScalar","DenseMatrix","concat"],e=>{var{typed:t,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=e,o=Pn({typed:t}),s=da({typed:t,DenseMatrix:i}),u=Jr({typed:t,DenseMatrix:i}),c=dr({typed:t,matrix:r,concat:a});return t(Mp,ite({typed:t,equalScalar:n}),c({elop:n,SS:s,DS:o,Ss:u}))}),ite=B(Mp,["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return t(Mp,{"any, any":function(i,a){return null===i?null===a:null===a?null===i:void 0===i?void 0===a:void 0===a?void 0===i:r(i,a)}})}),t2="flatten",ote=B(t2,["typed","matrix"],e=>{var{typed:t,matrix:r}=e;return t(t2,{Array:function(i){return jt(i)},Matrix:function(i){var a=jt(i.toArray());return r(a)}})}),r2="hasNumericValue",ute=B(r2,["typed","isNumeric"],e=>{var{typed:t,isNumeric:r}=e;return t(r2,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return r(i)}})}),n2="identity",lte=B(n2,["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],e=>{var{typed:t,config:r,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=e;return t(n2,{"":function(){return"Matrix"===r.matrix?n([]):[]},string:function(l){return n(l)},"number | BigNumber":function(l){return u(l,l,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, string":function(l,f){return u(l,l,f)},"number | BigNumber, number | BigNumber":function(l,f){return u(l,f,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(l,f,d){return u(l,f,d)},Array:function(l){return s(l)},"Array, string":function(l,f){return s(l,f)},Matrix:function(l){return s(l.valueOf(),l.storage())},"Matrix, string":function(l,f){return s(l.valueOf(),f)}});function s(c,l){switch(c.length){case 0:return l?n(l):[];case 1:return u(c[0],c[0],l);case 2:return u(c[0],c[1],l);default:throw new Error("Vector containing two values expected")}}function u(c,l,f){var d=It(c)||It(l)?i:null;if(It(c)&&(c=c.toNumber()),It(l)&&(l=l.toNumber()),!We(c)||c<1)throw new Error("Parameters in function identity must be positive integers");if(!We(l)||l<1)throw new Error("Parameters in function identity must be positive integers");var p=d?new i(1):1,h=d?new d(0):0,m=[c,l];if(f){if("sparse"===f)return o.diagonal(m,p,0,h);if("dense"===f)return a.diagonal(m,p,0,h);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var y=yu([],m,h),g=c<l?c:l,x=0;x<g;x++)y[x][x]=p;return y}}),dte=B("kron",["typed","matrix","multiplyScalar"],e=>{var{typed:t,matrix:r,multiplyScalar:n}=e;return t("kron",{"Matrix, Matrix":function(o,s){return r(i(o.toArray(),s.toArray()))},"Matrix, Array":function(o,s){return r(i(o.toArray(),s))},"Array, Matrix":function(o,s){return r(i(o,s.toArray()))},"Array, Array":i});function i(a,o){if(1===lt(a).length&&(a=[a]),1===lt(o).length&&(o=[o]),lt(a).length>2||lt(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(o.length)+")");var s=[],u=[];return a.map(function(c){return o.map(function(l){return s.push(u=[]),c.map(function(f){return l.map(function(d){return u.push(n(f,d))})})})})&&s}}),_p="largerEq",mte=B(_p,["typed","config","matrix","DenseMatrix","concat"],e=>{var{typed:t,config:r,matrix:n,DenseMatrix:i,concat:a}=e,o=Pn({typed:t}),s=da({typed:t,DenseMatrix:i}),u=Jr({typed:t,DenseMatrix:i}),c=dr({typed:t,matrix:n,concat:a}),l=Su({typed:t});return t(_p,hte({typed:t,config:r}),{"boolean, boolean":(f,d)=>f>=d,"BigNumber, BigNumber":function(d,p){return d.gte(p)||fa(d,p,r.epsilon)},"Fraction, Fraction":(f,d)=>-1!==f.compare(d),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},l,c({SS:s,DS:o,Ss:u}))}),hte=B(_p,["typed","config"],e=>{var{typed:t,config:r}=e;return t(_p,{"number, number":function(i,a){return i>=a||ai(i,a,r.epsilon)}})}),_0=B("matAlgo08xS0Sid",["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return function(i,a,o){var s=i._values,u=i._index,c=i._ptr,l=i._size,f=i._datatype,d=a._values,p=a._index,h=a._ptr,m=a._size,y=a._datatype;if(l.length!==m.length)throw new Ct(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");if(!s||!d)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var v,g=l[0],x=l[1],D=r,w=0,b=o;"string"==typeof f&&f===y&&(D=t.find(r,[v=f,v]),w=t.convert(0,v),b=t.find(o,[v,v]));for(var I,k,P,A=[],C=[],E=[],N=[],_=[],T=0;T<x;T++){E[T]=C.length;var S=T+1;for(k=c[T+1],I=c[T];I<k;I++)_[P=u[I]]=S,N[P]=s[I],C.push(P);for(k=h[T+1],I=h[T];I<k;I++)_[P=p[I]]===S&&(N[P]=b(N[P],d[I]));for(I=E[T];I<C.length;){var q=N[P=C[I]];D(q,w)?C.splice(I,1):(A.push(q),I++)}}return E[x]=C.length,i.createSparseMatrix({values:A,index:C,ptr:E,size:[g,x],datatype:v})}}),T0=B("useMatrixForArrayScalar",["typed","matrix"],e=>{var{typed:t,matrix:r}=e;return{"Array, number":t.referTo("DenseMatrix, number",n=>(i,a)=>n(r(i),a).valueOf()),"Array, BigNumber":t.referTo("DenseMatrix, BigNumber",n=>(i,a)=>n(r(i),a).valueOf()),"number, Array":t.referTo("number, DenseMatrix",n=>(i,a)=>n(i,r(a)).valueOf()),"BigNumber, Array":t.referTo("BigNumber, DenseMatrix",n=>(i,a)=>n(i,r(a)).valueOf())}}),a2="leftShift",bte=B(a2,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],e=>{var{typed:t,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=e,s=co({typed:t}),u=Bi({typed:t,equalScalar:n}),c=_0({typed:t,equalScalar:n}),l=Yo({typed:t,DenseMatrix:a}),f=un({typed:t,equalScalar:n}),d=Pi({typed:t}),p=dr({typed:t,matrix:r,concat:o}),h=T0({typed:t,matrix:r});return t(a2,{"number, number":UA,"BigNumber, BigNumber":LG,"SparseMatrix, number | BigNumber":t.referToSelf(m=>(y,g)=>n(g,0)?y.clone():f(y,g,m,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(m=>(y,g)=>n(g,0)?y.clone():d(y,g,m,!1)),"number | BigNumber, SparseMatrix":t.referToSelf(m=>(y,g)=>n(y,0)?i(g.size(),g.storage()):l(g,y,m,!0)),"number | BigNumber, DenseMatrix":t.referToSelf(m=>(y,g)=>n(y,0)?i(g.size(),g.storage()):d(g,y,m,!0))},h,p({SS:c,DS:s,SD:u}))});function vl(e){var{DenseMatrix:t}=e;return function(n,i,a){var o=n.size();if(2!==o.length)throw new RangeError("Matrix must be two dimensional (size: "+Nt(o)+")");var s=o[0];if(s!==o[1])throw new RangeError("Matrix must be square (size: "+Nt(o)+")");var c=[];if(Je(i)){var l=i.size(),f=i._data;if(1===l.length){if(l[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var d=0;d<s;d++)c[d]=[f[d]];return new t({data:c,size:[s,1],datatype:i._datatype})}if(2===l.length){if(l[0]!==s||1!==l[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(Od(i)){if(a){c=[];for(var p=0;p<s;p++)c[p]=[f[p][0]];return new t({data:c,size:[s,1],datatype:i._datatype})}return i}if(jo(i)){for(var h=0;h<s;h++)c[h]=[0];for(var m=i._values,y=i._index,g=i._ptr,x=g[1],v=g[0];v<x;v++)c[y[v]][0]=m[v];return new t({data:c,size:[s,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Qt(i)){var w=lt(i);if(1===w.length){if(w[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var b=0;b<s;b++)c[b]=[i[b]];return new t({data:c,size:[s,1]})}if(2===w.length){if(w[0]!==s||1!==w[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var A=0;A<s;A++)c[A]=[i[A][0]];return new t({data:c,size:[s,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var wte=B("lsolve",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=e,u=vl({DenseMatrix:s});return t("lsolve",{"SparseMatrix, Array | Matrix":function(d,p){return function l(f,d){for(var p=(d=u(f,d,!0))._data,h=f._size[0],m=f._size[1],y=f._values,g=f._index,x=f._ptr,v=[],D=0;D<m;D++){var w=p[D][0]||0;if(o(w,0))v[D]=[0];else{for(var b=0,A=[],C=[],N=x[D+1],_=x[D];_<N;_++){var I=g[_];I===D?b=y[_]:I>D&&(A.push(y[_]),C.push(I))}if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var R=n(w,b),k=0,P=C.length;k<P;k++){var T=C[k];p[T]=[a(p[T][0]||0,i(R,A[k]))]}v[D]=[R]}}return new s({data:v,size:[h,1]})}(d,p)},"DenseMatrix, Array | Matrix":function(d,p){return c(d,p)},"Array, Array | Matrix":function(d,p){return c(r(d),p).valueOf()}});function c(f,d){for(var p=(d=u(f,d,!0))._data,h=f._size[0],m=f._size[1],y=[],g=f._data,x=0;x<m;x++){var v=p[x][0]||0,D=void 0;if(o(v,0))D=0;else{var w=g[x][x];if(o(w,0))throw new Error("Linear system cannot be solved since matrix is singular");D=n(v,w);for(var b=x+1;b<h;b++)p[b]=[a(p[b][0]||0,i(D,g[b][x]))]}y[x]=[D]}return new s({data:y,size:[h,1]})}}),s2="matrixFromColumns",Ete=B(s2,["typed","matrix","flatten","size"],e=>{var{typed:t,matrix:r,flatten:n,size:i}=e;return t(s2,{"...Array":function(u){return a(u)},"...Matrix":function(u){return r(a(u.map(c=>c.toArray())))}});function a(s){if(0===s.length)throw new TypeError("At least one column is needed to construct a matrix.");for(var u=o(s[0]),c=[],l=0;l<u;l++)c[l]=[];for(var f of s){var d=o(f);if(d!==u)throw new TypeError("The vectors had different length: "+(0|u)+" \u2260 "+(0|d));for(var p=n(f),h=0;h<u;h++)c[h].push(p[h])}return c}function o(s){var u=i(s);if(1===u.length)return u[0];if(2===u.length){if(1===u[0])return u[1];if(1===u[1])return u[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),u2="nthRoot",Cte=B(u2,["typed","matrix","equalScalar","BigNumber","concat"],e=>{var{typed:t,matrix:r,equalScalar:n,BigNumber:i,concat:a}=e,o=co({typed:t}),s=Bi({typed:t,equalScalar:n}),u=fp({typed:t,equalScalar:n}),c=un({typed:t,equalScalar:n}),l=dr({typed:t,matrix:r,concat:a});function f(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return t(u2,{number:YS,"number, number":YS,BigNumber:p=>d(p,new i(2)),"BigNumber, BigNumber":d,Complex:f,"Complex, number":f,Array:t.referTo("DenseMatrix,number",p=>h=>p(r(h),2).valueOf()),DenseMatrix:t.referTo("DenseMatrix,number",p=>h=>p(h,2)),SparseMatrix:t.referTo("SparseMatrix,number",p=>h=>p(h,2)),"SparseMatrix, SparseMatrix":t.referToSelf(p=>(h,m)=>{if(1===m.density())return u(h,m,p);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":t.referToSelf(p=>(h,m)=>{if(1===m.density())return o(h,m,p,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":t.referTo("DenseMatrix,SparseMatrix",p=>(h,m)=>p(r(h),m)),"number | BigNumber, SparseMatrix":t.referToSelf(p=>(h,m)=>{if(1===m.density())return c(m,h,p,!0);throw new Error("Root must be non-zero")})},l({scalar:"number | BigNumber",SD:s,Ss:c,sS:!1}));function d(p,h){var m=i.precision,y=i.clone({precision:m+2}),g=new i(0),x=new y(1),v=h.isNegative();if(v&&(h=h.neg()),h.isZero())throw new Error("Root must be non-zero");if(p.isNegative()&&!h.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(p.isZero())return v?new y(1/0):0;if(!p.isFinite())return v?g:p;var D=p.abs().pow(x.div(h));return D=p.isNeg()?D.neg():D,new i((v?x.div(D):D).toPrecision(m))}}),Mte=B("ones",["typed","config","matrix","BigNumber"],e=>{var{typed:t,config:r,matrix:n,BigNumber:i}=e;return t("ones",{"":function(){return"Array"===r.matrix?a([]):a([],"default")},"...number | BigNumber | string":function(c){if("string"==typeof c[c.length-1]){var f=c.pop();return a(c,f)}return"Array"===r.matrix?a(c):a(c,"default")},Array:a,Matrix:function(c){var l=c.storage();return a(c.valueOf(),l)},"Array | Matrix, string":function(c,l){return a(c.valueOf(),l)}});function a(u,c){var l=function o(u){var c=!1;return u.forEach(function(l,f,d){It(l)&&(c=!0,d[f]=l.toNumber())}),c}(u),f=l?new i(1):1;if(function s(u){u.forEach(function(c){if("number"!=typeof c||!We(c)||c<0)throw new Error("Parameters in function ones must be positive integers")})}(u),c){var d=n(c);return u.length>0?d.resize(u,f):d}var p=[];return u.length>0?yu(p,u,f):p}}),Tte=B("qr",["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],e=>{var{typed:t,matrix:r,zeros:n,identity:i,isZero:a,equal:o,sign:s,sqrt:u,conj:c,unaryMinus:l,addScalar:f,divideScalar:d,multiplyScalar:p,subtractScalar:h,complex:m}=e;return Xr(t("qr",{DenseMatrix:function(D){return g(D)},SparseMatrix:function(D){return function x(v){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(D){var b=g(r(D));return{Q:b.Q.valueOf(),R:b.R.valueOf()}}}),{_denseQRimpl:y});function y(v){var N,_,I,D=v._size[0],w=v._size[1],b=i([D],"dense"),A=b._data,C=v.clone(),E=C._data,R=n([D],"");for(I=0;I<Math.min(w,D);++I){var k=E[I][I],P=l(o(k,0)?1:s(k)),T=c(P),S=0;for(N=I;N<D;N++)S=f(S,p(E[N][I],c(E[N][I])));var q=p(P,u(S));if(!a(q)){var F=h(k,q);for(R[I]=1,N=I+1;N<D;N++)R[N]=d(E[N][I],F);var K=l(c(d(F,q))),ne=void 0;for(_=I;_<w;_++){for(ne=0,N=I;N<D;N++)ne=f(ne,p(c(R[N]),E[N][_]));for(ne=p(ne,K),N=I;N<D;N++)E[N][_]=p(h(E[N][_],p(R[N],ne)),T)}for(N=0;N<D;N++){for(ne=0,_=I;_<D;_++)ne=f(ne,p(A[N][_],R[_]));for(ne=p(ne,K),_=I;_<D;++_)A[N][_]=d(h(A[N][_],p(ne,c(R[_]))),T)}}}return{Q:b,R:C,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function g(v){var D=y(v),w=D.R._data;if(v._data.length>0)for(var b="Complex"===w[0][0].type?m(0):0,A=0;A<w.length;++A)for(var C=0;C<A&&C<(w[0]||[]).length;++C)w[A][C]=b;return D}});function Qo(e,t,r,n){if(!(this instanceof Qo))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+r+(null!=n?"-"+n:"")+" expected)",this.stack=(new Error).stack}(Qo.prototype=new Error).constructor=Error,Qo.prototype.name="ArgumentsError",Qo.prototype.isArgumentsError=!0;var Ote=B("resize",["config","matrix"],e=>{var{config:t,matrix:r}=e;return function(a,o,s){if(2!==arguments.length&&3!==arguments.length)throw new Qo("resize",arguments.length,2,3);if(Je(o)&&(o=o.valueOf()),It(o[0])&&(o=o.map(function(l){return It(l)?l.toNumber():l})),Je(a))return a.resize(o,s,!0);if("string"==typeof a)return function n(i,a,o){if(void 0!==o){if("string"!=typeof o||1!==o.length)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(1!==a.length)throw new Ct(a.length,1);var s=a[0];if("number"!=typeof s||!We(s))throw new TypeError("Invalid size, must contain positive integers (size: "+Nt(a)+")");if(i.length>s)return i.substring(0,s);if(i.length<s){for(var u=i,c=0,l=s-i.length;c<l;c++)u+=o;return u}return i}(a,o,s);var u=!Array.isArray(a)&&"Array"!==t.matrix;if(0===o.length){for(;Array.isArray(a);)a=a[0];return ct(a)}Array.isArray(a)||(a=[a]);var c=yu(a=ct(a),o,s);return u?r(c):c}}),l2="rightArithShift",Pte=B(l2,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],e=>{var{typed:t,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=e,s=co({typed:t}),u=Bi({typed:t,equalScalar:n}),c=_0({typed:t,equalScalar:n}),l=Yo({typed:t,DenseMatrix:a}),f=un({typed:t,equalScalar:n}),d=Pi({typed:t}),p=dr({typed:t,matrix:r,concat:o}),h=T0({typed:t,matrix:r});return t(l2,{"number, number":qA,"BigNumber, BigNumber":kG,"SparseMatrix, number | BigNumber":t.referToSelf(m=>(y,g)=>n(g,0)?y.clone():f(y,g,m,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(m=>(y,g)=>n(g,0)?y.clone():d(y,g,m,!1)),"number | BigNumber, SparseMatrix":t.referToSelf(m=>(y,g)=>n(y,0)?i(g.size(),g.storage()):l(g,y,m,!0)),"number | BigNumber, DenseMatrix":t.referToSelf(m=>(y,g)=>n(y,0)?i(g.size(),g.storage()):d(g,y,m,!0))},h,p({SS:c,DS:s,SD:u}))}),Iu="Number of decimals in function round must be an integer",Lte=B("round",["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],e=>{var{typed:t,matrix:r,equalScalar:n,zeros:i,BigNumber:a,DenseMatrix:o}=e,s=un({typed:t,equalScalar:n}),u=Jr({typed:t,DenseMatrix:o}),c=Pi({typed:t});return t("round",{number:JS,"number, number":JS,"number, BigNumber":function(f,d){if(!d.isInteger())throw new TypeError(Iu);return new a(f).toDecimalPlaces(d.toNumber())},Complex:function(f){return f.round()},"Complex, number":function(f,d){if(d%1)throw new TypeError(Iu);return f.round(d)},"Complex, BigNumber":function(f,d){if(!d.isInteger())throw new TypeError(Iu);var p=d.toNumber();return f.round(p)},BigNumber:function(f){return f.toDecimalPlaces(0)},"BigNumber, BigNumber":function(f,d){if(!d.isInteger())throw new TypeError(Iu);return f.toDecimalPlaces(d.toNumber())},Fraction:function(f){return f.round()},"Fraction, number":function(f,d){if(d%1)throw new TypeError(Iu);return f.round(d)},"Fraction, BigNumber":function(f,d){if(!d.isInteger())throw new TypeError(Iu);return f.round(d.toNumber())},"Unit, number, Unit":t.referToSelf(l=>function(f,d,p){var h=f.toNumeric(p);return p.multiply(l(h,d))}),"Unit, BigNumber, Unit":t.referToSelf(l=>(f,d,p)=>l(f,d.toNumber(),p)),"Unit, Unit":t.referToSelf(l=>(f,d)=>l(f,0,d)),"Array | Matrix, number, Unit":t.referToSelf(l=>(f,d,p)=>At(f,h=>l(h,d,p),!0)),"Array | Matrix, BigNumber, Unit":t.referToSelf(l=>(f,d,p)=>l(f,d.toNumber(),p)),"Array | Matrix, Unit":t.referToSelf(l=>(f,d)=>l(f,0,d)),"Array | Matrix":t.referToSelf(l=>f=>At(f,l,!0)),"SparseMatrix, number | BigNumber":t.referToSelf(l=>(f,d)=>s(f,d,l,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(l=>(f,d)=>c(f,d,l,!1)),"Array, number | BigNumber":t.referToSelf(l=>(f,d)=>c(r(f),d,l,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":t.referToSelf(l=>(f,d)=>n(f,0)?i(d.size(),d.storage()):u(d,f,l,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":t.referToSelf(l=>(f,d)=>n(f,0)?i(d.size(),d.storage()):c(d,f,l,!0)),"number | Complex | BigNumber | Fraction, Array":t.referToSelf(l=>(f,d)=>c(r(d),f,l,!0).valueOf())})}),Tp="smaller",zte=B(Tp,["typed","config","matrix","DenseMatrix","concat"],e=>{var{typed:t,config:r,matrix:n,DenseMatrix:i,concat:a}=e,o=Pn({typed:t}),s=da({typed:t,DenseMatrix:i}),u=Jr({typed:t,DenseMatrix:i}),c=dr({typed:t,matrix:n,concat:a}),l=Su({typed:t});return t(Tp,Ute({typed:t,config:r}),{"boolean, boolean":(f,d)=>f<d,"BigNumber, BigNumber":function(d,p){return d.lt(p)&&!fa(d,p,r.epsilon)},"Fraction, Fraction":(f,d)=>-1===f.compare(d),"Complex, Complex":function(d,p){throw new TypeError("No ordering relation is defined for complex numbers")}},l,c({SS:s,DS:o,Ss:u}))}),Ute=B(Tp,["typed","config"],e=>{var{typed:t,config:r}=e;return t(Tp,{"number, number":function(i,a){return i<a&&!ai(i,a,r.epsilon)}})}),d2="subtract",Vte=B(d2,["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],e=>{var{typed:t,matrix:r,equalScalar:n,subtractScalar:i,DenseMatrix:o,concat:s}=e,u=co({typed:t}),c=Pn({typed:t}),l=lp({typed:t,equalScalar:n}),f=Yo({typed:t,DenseMatrix:o}),d=Jr({typed:t,DenseMatrix:o}),p=dr({typed:t,matrix:r,concat:s});return t(d2,{"any, any":i},p({elop:i,SS:l,DS:u,SD:c,Ss:d,sS:f}))}),$te=B("to",["typed","matrix","concat"],e=>{var{typed:t,matrix:r,concat:n}=e;return t("to",{"Unit, Unit | string":(a,o)=>a.to(o)},dr({typed:t,matrix:r,concat:n})({Ds:!0}))}),Ip="unequal",Gte=B(Ip,["typed","config","equalScalar","matrix","DenseMatrix","concat"],e=>{var{typed:t,equalScalar:n,matrix:i,DenseMatrix:a,concat:o}=e,s=Pn({typed:t}),u=da({typed:t,DenseMatrix:a}),c=Jr({typed:t,DenseMatrix:a}),l=dr({typed:t,matrix:i,concat:o});return t(Ip,Wte({typed:t,equalScalar:n}),l({elop:function f(d,p){return!n(d,p)},SS:u,DS:s,Ss:c}))}),Wte=B(Ip,["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return t(Ip,{"any, any":function(i,a){return null===i?null!==a:null===a?null!==i:void 0===i?void 0!==a:void 0===a?void 0!==i:!r(i,a)}})}),Yte=B("usolve",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=e,u=vl({DenseMatrix:s});return t("usolve",{"SparseMatrix, Array | Matrix":function(d,p){return function l(f,d){for(var p=(d=u(f,d,!0))._data,h=f._size[0],y=f._values,g=f._index,x=f._ptr,v=[],D=f._size[1]-1;D>=0;D--){var w=p[D][0]||0;if(o(w,0))v[D]=[0];else{for(var b=0,A=[],C=[],E=x[D],_=x[D+1]-1;_>=E;_--){var I=g[_];I===D?b=y[_]:I<D&&(A.push(y[_]),C.push(I))}if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var R=n(w,b),k=0,P=C.length;k<P;k++){var T=C[k];p[T]=[a(p[T][0],i(R,A[k]))]}v[D]=[R]}}return new s({data:v,size:[h,1]})}(d,p)},"DenseMatrix, Array | Matrix":function(d,p){return c(d,p)},"Array, Array | Matrix":function(d,p){return c(r(d),p).valueOf()}});function c(f,d){for(var p=(d=u(f,d,!0))._data,h=f._size[0],y=[],g=f._data,x=f._size[1]-1;x>=0;x--){var v=p[x][0]||0,D=void 0;if(o(v,0))D=0;else{var w=g[x][x];if(o(w,0))throw new Error("Linear system cannot be solved since matrix is singular");D=n(v,w);for(var b=x-1;b>=0;b--)p[b]=[a(p[b][0]||0,i(D,g[b][x]))]}y[x]=[D]}return new s({data:y,size:[h,1]})}}),Xte=B("xor",["typed","matrix","DenseMatrix","concat"],e=>{var{typed:t,matrix:r,DenseMatrix:n,concat:i}=e,a=Pn({typed:t}),o=da({typed:t,DenseMatrix:n}),s=Jr({typed:t,DenseMatrix:n}),u=dr({typed:t,matrix:r,concat:i});return t("xor",{"number, number":wA,"Complex, Complex":function(l,f){return(0!==l.re||0!==l.im)!=(0!==f.re||0!==f.im)},"BigNumber, BigNumber":function(l,f){return(!l.isZero()&&!l.isNaN())!=(!f.isZero()&&!f.isNaN())},"Unit, Unit":t.referToSelf(c=>(l,f)=>c(l.value||0,f.value||0))},u({SS:o,DS:a,Ss:s}))}),Jte=B("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],e=>{var{typed:t,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:a,concat:s}=e,u=co({typed:t}),c=v0({typed:t,equalScalar:i}),l=Yo({typed:t,DenseMatrix:a}),f=dr({typed:t,matrix:r,concat:s});return t("add",{"any, any":n,"any, any, ...any":t.referToSelf(d=>(p,h,m)=>{for(var y=d(p,h),g=0;g<m.length;g++)y=d(y,m[g]);return y})},f({elop:n,DS:u,SS:c,Ss:l}))}),g2=B("matAlgo09xS0Sf",["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return function(i,a,o){var s=i._values,u=i._index,c=i._ptr,l=i._size,f=i._datatype,d=a._values,p=a._index,h=a._ptr,m=a._size,y=a._datatype;if(l.length!==m.length)throw new Ct(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");var v,g=l[0],x=l[1],D=r,w=0,b=o;"string"==typeof f&&f===y&&(D=t.find(r,[v=f,v]),w=t.convert(0,v),b=t.find(o,[v,v]));var I,R,k,T,A=s&&d?[]:void 0,C=[],E=[],N=A?[]:void 0,_=[];for(R=0;R<x;R++){E[R]=C.length;var S=R+1;if(N)for(T=h[R+1],k=h[R];k<T;k++)_[I=p[k]]=S,N[I]=d[k];for(T=c[R+1],k=c[R];k<T;k++)if(I=u[k],N){var F=b(s[k],_[I]===S?N[I]:w);D(F,w)||(C.push(I),A.push(F))}else C.push(I)}return E[x]=C.length,i.createSparseMatrix({values:A,index:C,ptr:E,size:[g,x],datatype:v})}}),nre=B("atan2",["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],e=>{var{typed:t,matrix:r,equalScalar:n,BigNumber:i,DenseMatrix:a,concat:o}=e,s=Bi({typed:t,equalScalar:n}),u=Pn({typed:t}),c=g2({typed:t,equalScalar:n}),l=un({typed:t,equalScalar:n}),f=Jr({typed:t,DenseMatrix:a}),d=dr({typed:t,matrix:r,concat:o});return t("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":(p,h)=>i.atan2(p,h)},d({scalar:"number | BigNumber",SS:c,DS:u,SD:s,Ss:l,sS:f}))}),are=B("bitXor",["typed","matrix","DenseMatrix","concat"],e=>{var{typed:t,matrix:r,DenseMatrix:n,concat:i}=e,a=Pn({typed:t}),o=da({typed:t,DenseMatrix:n}),s=Jr({typed:t,DenseMatrix:n});return t("bitXor",{"number, number":zA,"BigNumber, BigNumber":BG},dr({typed:t,matrix:r,concat:i})({SS:o,DS:a,Ss:s}))}),D2="catalan",sre=B(D2,["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],e=>{var{typed:t,addScalar:r,divideScalar:n,multiplyScalar:i,combinations:a,isNegative:o,isInteger:s}=e;return t(D2,{"number | BigNumber":function(c){if(!s(c)||o(c))throw new TypeError("Non-negative integer value expected in function catalan");return n(a(i(c,2),c),r(c,1))}})}),Fp="compare",cre=B(Fp,["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],e=>{var{typed:t,config:r,equalScalar:n,matrix:i,BigNumber:a,Fraction:o,DenseMatrix:s,concat:u}=e,c=Pn({typed:t}),l=lp({typed:t,equalScalar:n}),f=Jr({typed:t,DenseMatrix:s}),d=dr({typed:t,matrix:i,concat:u}),p=Su({typed:t});return t(Fp,lre({typed:t,config:r}),{"boolean, boolean":function(m,y){return m===y?0:m>y?1:-1},"BigNumber, BigNumber":function(m,y){return fa(m,y,r.epsilon)?new a(0):new a(m.cmp(y))},"Fraction, Fraction":function(m,y){return new o(m.compare(y))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},p,d({SS:l,DS:c,Ss:f}))}),lre=B(Fp,["typed","config"],e=>{var{typed:t,config:r}=e;return t(Fp,{"number, number":function(i,a){return ai(i,a,r.epsilon)?0:i>a?1:-1}})}),w2="compareText",fre=["typed","matrix","concat"];e0.signature="any, any";var dre=B(w2,fre,e=>{var{typed:t,matrix:r,concat:n}=e,i=dr({typed:t,matrix:r,concat:n});return t(w2,e0,i({elop:e0,Ds:!0}))}),x2="deepEqual",mre=B(x2,["typed","equal"],e=>{var{typed:t,equal:r}=e;return t(x2,{"any, any":function(a,o){return n(a.valueOf(),o.valueOf())}});function n(i,a){if(Array.isArray(i)){if(Array.isArray(a)){var o=i.length;if(o!==a.length)return!1;for(var s=0;s<o;s++)if(!n(i[s],a[s]))return!1;return!0}return!1}return!Array.isArray(a)&&r(i,a)}}),E2="distance",vre=B(E2,["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],e=>{var{typed:t,addScalar:r,subtractScalar:n,multiplyScalar:i,divideScalar:a,deepEqual:o,sqrt:s,abs:u}=e;return t(E2,{"Array, Array, Array":function(w,b,A){if(2===w.length&&2===b.length&&2===A.length){if(!l(w))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!l(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!l(A))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(b,A))throw new TypeError("LinePoint1 should not be same with LinePoint2");var C=n(A[1],b[1]),E=n(b[0],A[0]),N=n(i(A[0],b[1]),i(b[0],A[1]));return y(w[0],w[1],C,E,N)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(w,b,A){if(2===Object.keys(w).length&&2===Object.keys(b).length&&2===Object.keys(A).length){if(!l(w))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!l(b))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!l(A))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(h(b),h(A)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in w&&"pointY"in w&&"lineOnePtX"in b&&"lineOnePtY"in b&&"lineTwoPtX"in A&&"lineTwoPtY"in A){var C=n(A.lineTwoPtY,b.lineOnePtY),E=n(b.lineOnePtX,A.lineTwoPtX),N=n(i(A.lineTwoPtX,b.lineOnePtY),i(b.lineOnePtX,A.lineTwoPtY));return y(w.pointX,w.pointY,C,E,N)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(w,b){if(2===w.length&&3===b.length){if(!l(w))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(b))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return y(w[0],w[1],b[0],b[1],b[2])}if(3===w.length&&6===b.length){if(!f(w))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!p(b))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return g(w[0],w[1],w[2],b[0],b[1],b[2],b[3],b[4],b[5])}if(w.length===b.length&&w.length>0){if(!d(w))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!d(b))throw new TypeError("All values of an array should be numbers or BigNumbers");return x(w,b)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(w,b){if(2===Object.keys(w).length&&3===Object.keys(b).length){if(!l(w))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(b))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in w&&"pointY"in w&&"xCoeffLine"in b&&"yCoeffLine"in b&&"constant"in b)return y(w.pointX,w.pointY,b.xCoeffLine,b.yCoeffLine,b.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(w).length&&6===Object.keys(b).length){if(!f(w))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!p(b))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in w&&"pointY"in w&&"x0"in b&&"y0"in b&&"z0"in b&&"a"in b&&"b"in b&&"c"in b)return g(w.pointX,w.pointY,w.pointZ,b.x0,b.y0,b.z0,b.a,b.b,b.c);throw new TypeError("Key names do not match")}if(2===Object.keys(w).length&&2===Object.keys(b).length){if(!l(w))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!l(b))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in w&&"pointOneY"in w&&"pointTwoX"in b&&"pointTwoY"in b)return x([w.pointOneX,w.pointOneY],[b.pointTwoX,b.pointTwoY]);throw new TypeError("Key names do not match")}if(3===Object.keys(w).length&&3===Object.keys(b).length){if(!f(w))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(b))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in w&&"pointOneY"in w&&"pointOneZ"in w&&"pointTwoX"in b&&"pointTwoY"in b&&"pointTwoZ"in b)return x([w.pointOneX,w.pointOneY,w.pointOneZ],[b.pointTwoX,b.pointTwoY,b.pointTwoZ]);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(w){if(!function m(D){if(2===D[0].length&&c(D[0][0])&&c(D[0][1])){if(D.some(w=>2!==w.length||!c(w[0])||!c(w[1])))return!1}else{if(!(3===D[0].length&&c(D[0][0])&&c(D[0][1])&&c(D[0][2])))return!1;if(D.some(w=>3!==w.length||!c(w[0])||!c(w[1])||!c(w[2])))return!1}return!0}(w))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function v(D){for(var w=[],b=[],A=[],C=0;C<D.length-1;C++)for(var E=C+1;E<D.length;E++)2===D[0].length?(b=[D[C][0],D[C][1]],A=[D[E][0],D[E][1]]):3===D[0].length&&(b=[D[C][0],D[C][1],D[C][2]],A=[D[E][0],D[E][1],D[E][2]]),w.push(x(b,A));return w}(w)}});function c(D){return"number"==typeof D||It(D)}function l(D){return D.constructor!==Array&&(D=h(D)),c(D[0])&&c(D[1])}function f(D){return D.constructor!==Array&&(D=h(D)),c(D[0])&&c(D[1])&&c(D[2])}function d(D){return Array.isArray(D)||(D=h(D)),D.every(c)}function p(D){return D.constructor!==Array&&(D=h(D)),c(D[0])&&c(D[1])&&c(D[2])&&c(D[3])&&c(D[4])&&c(D[5])}function h(D){for(var w=Object.keys(D),b=[],A=0;A<w.length;A++)b.push(D[w[A]]);return b}function y(D,w,b,A,C){var E=u(r(r(i(b,D),i(A,w)),C)),N=s(r(i(b,b),i(A,A)));return a(E,N)}function g(D,w,b,A,C,E,N,_,I){var R=[n(i(n(C,w),I),i(n(E,b),_)),n(i(n(E,b),N),i(n(A,D),I)),n(i(n(A,D),_),i(n(C,w),N))];R=s(r(r(i(R[0],R[0]),i(R[1],R[1])),i(R[2],R[2])));var k=s(r(r(i(N,N),i(_,_)),i(I,I)));return a(R,k)}function x(D,w){for(var b=D.length,A=0,C=0,E=0;E<b;E++)C=n(D[E],w[E]),A=r(i(C,C),A);return s(A)}}),yre=B("dot",["typed","addScalar","multiplyScalar","conj","size"],e=>{var{typed:t,addScalar:r,multiplyScalar:n,conj:i,size:a}=e;return t("dot",{"Array | DenseMatrix, Array | DenseMatrix":function s(l,f){var d=o(l,f),p=Je(l)?l._data:l,h=Je(l)?l._datatype:void 0,m=Je(f)?f._data:f,y=Je(f)?f._datatype:void 0,g=2===c(l).length,x=2===c(f).length,v=r,D=n;if(h&&y&&h===y&&"string"==typeof h){var w=h;v=t.find(r,[w,w]),D=t.find(n,[w,w])}if(!g&&!x){for(var b=D(i(p[0]),m[0]),A=1;A<d;A++)b=v(b,D(i(p[A]),m[A]));return b}if(!g&&x){for(var C=D(i(p[0]),m[0][0]),E=1;E<d;E++)C=v(C,D(i(p[E]),m[E][0]));return C}if(g&&!x){for(var N=D(i(p[0][0]),m[0]),_=1;_<d;_++)N=v(N,D(i(p[_][0]),m[_]));return N}if(g&&x){for(var I=D(i(p[0][0]),m[0][0]),R=1;R<d;R++)I=v(I,D(i(p[R][0]),m[R][0]));return I}},"SparseMatrix, SparseMatrix":function u(l,f){o(l,f);for(var d=l._index,p=l._values,h=f._index,m=f._values,y=0,g=r,x=n,v=0,D=0;v<d.length&&D<h.length;){var w=d[v],b=h[D];w<b?v++:w>b?D++:w===b&&(y=g(y,x(p[v],m[D])),v++,D++)}return y}});function o(l,f){var h,m,d=c(l),p=c(f);if(1===d.length)h=d[0];else{if(2!==d.length||1!==d[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");h=d[0]}if(1===p.length)m=p[0];else{if(2!==p.length||1!==p[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");m=p[0]}if(h!==m)throw new RangeError("Vectors must have equal length ("+h+" != "+m+")");if(0===h)throw new RangeError("Cannot calculate the dot product of empty vectors");return h}function c(l){return Je(l)?l.size():a(l)}}),C2="equalText",Dre=B(C2,["typed","compareText","isZero"],e=>{var{typed:t,compareText:r,isZero:n}=e;return t(C2,{"any, any":function(a,o){return n(r(a,o))}})}),I0="floor",wre=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],xre=B(I0,["typed","config","round"],e=>{var{typed:t,config:r,round:n}=e;return t(I0,{number:function(a){return ai(a,n(a),r.epsilon)?n(a):Math.floor(a)},"number, number":function(a,o){if(ai(a,n(a,o),r.epsilon))return n(a,o);var[s,u]="".concat(a,"e").split("e"),c=Math.floor(Number("".concat(s,"e").concat(Number(u)+o)));return[s,u]="".concat(c,"e").split("e"),Number("".concat(s,"e").concat(Number(u)-o))}})}),A2=B(I0,wre,e=>{var{typed:t,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}=e,u=un({typed:t,equalScalar:a}),c=Jr({typed:t,DenseMatrix:s}),l=Pi({typed:t}),f=xre({typed:t,config:r,round:n});return t("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(p){return p.floor()},"Complex, number":function(p,h){return p.floor(h)},"Complex, BigNumber":function(p,h){return p.floor(h.toNumber())},BigNumber:function(p){return fa(p,n(p),r.epsilon)?n(p):p.floor()},"BigNumber, BigNumber":function(p,h){return fa(p,n(p,h),r.epsilon)?n(p,h):p.toDecimalPlaces(h.toNumber(),wp.ROUND_FLOOR)},Fraction:function(p){return p.floor()},"Fraction, number":function(p,h){return p.floor(h)},"Fraction, BigNumber":function(p,h){return p.floor(h.toNumber())},"Array | Matrix":t.referToSelf(d=>p=>At(p,d,!0)),"Array, number | BigNumber":t.referToSelf(d=>(p,h)=>At(p,m=>d(m,h),!0)),"SparseMatrix, number | BigNumber":t.referToSelf(d=>(p,h)=>u(p,h,d,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(d=>(p,h)=>l(p,h,d,!1)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(d=>(p,h)=>l(i(h),p,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(d=>(p,h)=>a(p,0)?o(h.size(),h.storage()):"dense"===h.storage()?l(h,p,d,!0):c(h,p,d,!0))})}),M2=B("mod",["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],e=>{var{typed:t,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s,concat:u}=e,c=A2({typed:t,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}),l=Bi({typed:t,equalScalar:a}),f=Pn({typed:t}),d=lp({typed:t,equalScalar:a}),p=un({typed:t,equalScalar:a}),h=Jr({typed:t,DenseMatrix:s});return t("mod",{"number, number":function y(g,x){return 0===x?g:g-x*c(g/x)},"BigNumber, BigNumber":function(x,v){return v.isZero()?x:x.sub(v.mul(c(x.div(v))))},"Fraction, Fraction":function(x,v){return v.equals(0)?x:x.sub(v.mul(c(x.div(v))))}},dr({typed:t,matrix:i,concat:u})({SS:d,DS:f,SD:l,Ss:p,sS:h}))}),Nre=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],F0="number | BigNumber | Fraction | Matrix | Array",Cre="".concat(F0,", ").concat(F0,", ...").concat(F0);function T2(e){return!e.some(t=>Array.isArray(t))}var Are=B("gcd",Nre,e=>{var{typed:t,matrix:r,config:n,round:i,equalScalar:a,zeros:o,BigNumber:s,DenseMatrix:u,concat:c}=e,l=M2({typed:t,config:n,round:i,matrix:r,equalScalar:a,zeros:o,DenseMatrix:u,concat:c}),f=co({typed:t}),d=v0({typed:t,equalScalar:a}),p=Yo({typed:t,DenseMatrix:u});return t("gcd",{"number, number":function m(g,x){if(!We(g)||!We(x))throw new Error("Parameters in function gcd must be integer numbers");for(var v;0!==x;)v=l(g,x),g=x,x=v;return g<0?-g:g},"BigNumber, BigNumber":function y(g,x){if(!g.isInt()||!x.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var v=new s(0);!x.isZero();){var D=l(g,x);g=x,x=D}return g.lt(v)?g.neg():g},"Fraction, Fraction":(g,x)=>g.gcd(x)},dr({typed:t,matrix:r,concat:c})({SS:d,DS:f,Ss:p}),{[Cre]:t.referToSelf(g=>(x,v,D)=>{for(var w=g(x,v),b=0;b<D.length;b++)w=g(w,D[b]);return w}),Array:t.referToSelf(g=>x=>{if(1===x.length&&Array.isArray(x[0])&&T2(x[0]))return g(...x[0]);if(T2(x))return g(...x);throw new Qo("gcd() supports only 1d matrices!")}),Matrix:t.referToSelf(g=>x=>g(x.toArray()))})}),Mre=B("hypot",["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],e=>{var{typed:t,abs:r,addScalar:n,divideScalar:i,multiplyScalar:a,sqrt:o,smaller:s,isPositive:u}=e;return t("hypot",{"... number | BigNumber":c,Array:c,Matrix:l=>c(jt(l.toArray()))});function c(l){for(var f=0,d=0,p=0;p<l.length;p++){if(Ta(l[p]))throw new TypeError("Unexpected type of argument to hypot");var h=r(l[p]);s(d,h)?(f=a(f,a(i(d,h),i(d,h))),f=n(f,1),d=h):f=n(f,u(h)?a(i(h,d),i(h,d)):h)}return a(d,o(f))}}),Ire=B("ImmutableDenseMatrix",["smaller","DenseMatrix"],e=>{var{smaller:t,DenseMatrix:r}=e;function n(i,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!Dn(a))throw new Error("Invalid datatype: "+a);if(Je(i)||Qt(i)){var o=new r(i,a);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&Qt(i.data)&&Qt(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+or(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return(n.prototype=new r).type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:var a=r.prototype.subset.call(this,i);return Je(a)?new n({data:a._data,size:a._size,datatype:a._datatype}):a;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:ct(this._data),size:ct(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(null===this._min){var i=null;this.forEach(function(a){(null===i||t(a,i))&&(i=a)}),this._min=null!==i?i:void 0}return this._min},n.prototype.max=function(){if(null===this._max){var i=null;this.forEach(function(a){(null===i||t(i,a))&&(i=a)}),this._max=null!==i?i:void 0}return this._max},n},{isClass:!0}),Rre=B("Index",["ImmutableDenseMatrix","getMatrixDataType"],e=>{var{ImmutableDenseMatrix:t,getMatrixDataType:r}=e;function n(a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var o=0,s=arguments.length;o<s;o++){var u=arguments[o],c=Qt(u),l=Je(u),f=null;if(Gg(u))this._dimensions.push(u),this._isScalar=!1;else if(c||l){var d=void 0;"boolean"===r(u)?(c&&(d=i(F2(u).valueOf())),l&&(d=i(F2(u._data).valueOf())),f=u.valueOf().length):d=i(u.valueOf()),this._dimensions.push(d);var p=d.size();(1!==p.length||1!==p[0]||null!==f)&&(this._isScalar=!1)}else if("number"==typeof u)this._dimensions.push(i([u]));else{if("string"!=typeof u)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(u)}this._sourceSize.push(f)}}function i(a){for(var o=0,s=a.length;o<s;o++)if("number"!=typeof a[o]||!We(a[o]))throw new TypeError("Index parameters must be positive integer numbers");return new t(a)}return n.prototype.type="Index",n.prototype.isIndex=!0,n.prototype.clone=function(){var a=new n;return a._dimensions=ct(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},n.create=function(a){var o=new n;return n.apply(o,a),o},n.prototype.size=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var u=this._dimensions[o];a[o]="string"==typeof u?1:u.size()[0]}return a},n.prototype.max=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var u=this._dimensions[o];a[o]="string"==typeof u?u:u.max()}return a},n.prototype.min=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var u=this._dimensions[o];a[o]="string"==typeof u?u:u.min()}return a},n.prototype.forEach=function(a){for(var o=0,s=this._dimensions.length;o<s;o++)a(this._dimensions[o],o,this)},n.prototype.dimension=function(a){return this._dimensions[a]||null},n.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.valueOf=n.prototype.toArray=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var u=this._dimensions[o];a.push("string"==typeof u?u:u.toArray())}return a},n.prototype.toString=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var u=this._dimensions[o];a.push("string"==typeof u?JSON.stringify(u):u.toString())}return"["+a.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(a){return n.create(a.dimensions)},n},{isClass:!0});function F2(e){var t=[];return e.forEach((r,n)=>{r&&t.push(n)}),t}var Op="larger",Bre=B(Op,["typed","config","matrix","DenseMatrix","concat"],e=>{var{typed:t,config:r,matrix:n,DenseMatrix:i,concat:a}=e,o=Pn({typed:t}),s=da({typed:t,DenseMatrix:i}),u=Jr({typed:t,DenseMatrix:i}),c=dr({typed:t,matrix:n,concat:a}),l=Su({typed:t});return t(Op,Lre({typed:t,config:r}),{"boolean, boolean":(f,d)=>f>d,"BigNumber, BigNumber":function(d,p){return d.gt(p)&&!fa(d,p,r.epsilon)},"Fraction, Fraction":(f,d)=>1===f.compare(d),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},l,c({SS:s,DS:o,Ss:u}))}),Lre=B(Op,["typed","config"],e=>{var{typed:t,config:r}=e;return t(Op,{"number, number":function(i,a){return i>a&&!ai(i,a,r.epsilon)}})}),zre=B("log",["config","typed","divideScalar","Complex"],e=>{var{typed:t,config:r,divideScalar:n,Complex:i}=e;return t("log",{number:function(o){return o>=0||r.predictable?function UQ(e,t){return t?Math.log(e)/Math.log(t):Math.log(e)}(o):new i(o,0).log()},Complex:function(o){return o.log()},BigNumber:function(o){return!o.isNegative()||r.predictable?o.ln():new i(o.toNumber(),0).log()},"any, any":t.referToSelf(a=>(o,s)=>n(a(o),a(s)))})}),R2="lsolveAll",qre=B(R2,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=e,u=vl({DenseMatrix:s});return t(R2,{"SparseMatrix, Array | Matrix":function(d,p){return function l(f,d){for(var p=[u(f,d,!0)._data.map(ne=>ne[0])],h=f._size[0],m=f._size[1],y=f._values,g=f._index,x=f._ptr,v=0;v<m;v++)for(var D=p.length,w=0;w<D;w++){for(var b=p[w],A=[],C=[],N=x[v+1],_=0,I=x[v];I<N;I++){var R=g[I];R===v?_=y[I]:R>v&&(A.push(y[I]),C.push(R))}if(o(_,0))if(o(b[v],0)){if(0===w){var S=[...b];S[v]=1;for(var q=0,F=C.length;q<F;q++){var K=C[q];S[K]=a(S[K],A[q])}p.push(S)}}else{if(0===w)return[];p.splice(w,1),w-=1,D-=1}else{b[v]=n(b[v],_);for(var k=0,P=C.length;k<P;k++){var T=C[k];b[T]=a(b[T],i(b[v],A[k]))}}}return p.map(ne=>new s({data:ne.map(Y=>[Y]),size:[h,1]}))}(d,p)},"DenseMatrix, Array | Matrix":function(d,p){return c(d,p)},"Array, Array | Matrix":function(d,p){return c(r(d),p).map(y=>y.valueOf())}});function c(f,d){for(var p=[u(f,d,!0)._data.map(C=>C[0])],h=f._data,m=f._size[0],y=f._size[1],g=0;g<y;g++)for(var x=p.length,v=0;v<x;v++){var D=p[v];if(o(h[g][g],0))if(o(D[g],0)){if(0===v){var b=[...D];b[g]=1;for(var A=g+1;A<y;A++)b[A]=a(b[A],h[A][g]);p.push(b)}}else{if(0===v)return[];p.splice(v,1),v-=1,x-=1}else{D[g]=n(D[g],h[g][g]);for(var w=g+1;w<y;w++)D[w]=a(D[w],i(D[g],h[w][g]))}}return p.map(C=>new s({data:C.map(E=>[E]),size:[m,1]}))}}),P2="matrixFromRows",Hre=B(P2,["typed","matrix","flatten","size"],e=>{var{typed:t,matrix:r,flatten:n,size:i}=e;return t(P2,{"...Array":function(u){return a(u)},"...Matrix":function(u){return r(a(u.map(c=>c.toArray())))}});function a(s){if(0===s.length)throw new TypeError("At least one row is needed to construct a matrix.");var u=o(s[0]),c=[];for(var l of s){var f=o(l);if(f!==u)throw new TypeError("The vectors had different length: "+(0|u)+" \u2260 "+(0|f));c.push(n(l))}return c}function o(s){var u=i(s);if(1===u.length)return u[0];if(2===u.length){if(1===u[0])return u[1];if(1===u[1])return u[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),B2="multiply",jre=B(B2,["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:a,dot:o}=e,s=un({typed:t,equalScalar:a}),u=Pi({typed:t});function c(w,b){switch(w.length){case 1:switch(b.length){case 1:if(w[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(w[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+w[0]+") must match Matrix rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;case 2:switch(b.length){case 1:if(w[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+w[1]+") must match Vector length ("+b[0]+")");break;case 2:if(w[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+w[1]+") must match Matrix B rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+w.length+" dimensions)")}}var p=t("_multiplyMatrixVector",{"DenseMatrix, any":function m(w,b){var k,A=w._data,C=w._size,E=w._datatype,N=b._data,_=b._datatype,I=C[0],R=C[1],P=n,T=i;E&&_&&E===_&&"string"==typeof E&&(P=t.find(n,[k=E,k]),T=t.find(i,[k,k]));for(var S=[],q=0;q<I;q++){for(var F=A[q],K=T(F[0],N[0]),ne=1;ne<R;ne++)K=P(K,T(F[ne],N[ne]));S[q]=K}return w.createDenseMatrix({data:S,size:[I],datatype:k})},"SparseMatrix, any":function x(w,b){var A=w._values,C=w._index,E=w._ptr,N=w._datatype;if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var q,_=b._data,I=b._datatype,R=w._size[0],k=b._size[0],P=[],T=[],S=[],F=n,K=i,ne=a,Y=0;N&&I&&N===I&&"string"==typeof N&&(F=t.find(n,[q=N,q]),K=t.find(i,[q,q]),ne=t.find(a,[q,q]),Y=t.convert(0,q));var z=[],re=[];S[0]=0;for(var he=0;he<k;he++){var ie=_[he];if(!ne(ie,Y))for(var pe=E[he+1],ue=E[he];ue<pe;ue++){var ce=C[ue];re[ce]?z[ce]=F(z[ce],K(ie,A[ue])):(re[ce]=!0,T.push(ce),z[ce]=K(ie,A[ue]))}}for(var de=T.length,be=0;be<de;be++)P[be]=z[T[be]];return S[1]=T.length,w.createSparseMatrix({values:P,index:T,ptr:S,size:[R,1],datatype:q})}}),h=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function y(w,b){var T,A=w._data,C=w._size,E=w._datatype,N=b._data,I=b._datatype,R=C[0],k=C[1],P=b._size[1],S=n,q=i;E&&I&&E===I&&"string"==typeof E&&(S=t.find(n,[T=E,T]),q=t.find(i,[T,T]));for(var F=[],K=0;K<R;K++){var ne=A[K];F[K]=[];for(var Y=0;Y<P;Y++){for(var z=q(ne[0],N[0][Y]),re=1;re<k;re++)z=S(z,q(ne[re],N[re][Y]));F[K][Y]=z}}return w.createDenseMatrix({data:F,size:[R,P],datatype:T})},"DenseMatrix, SparseMatrix":function g(w,b){var A=w._data,C=w._size,E=w._datatype,N=b._values,_=b._index,I=b._ptr,R=b._size,k=b._datatype;if(!N)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var S,P=C[0],T=R[1],q=n,F=i,K=a,ne=0;E&&k&&E===k&&"string"==typeof E&&(q=t.find(n,[S=E,S]),F=t.find(i,[S,S]),K=t.find(a,[S,S]),ne=t.convert(0,S));for(var Y=[],z=[],re=[],he=b.createSparseMatrix({values:Y,index:z,ptr:re,size:[P,T],datatype:S}),ie=0;ie<T;ie++){re[ie]=z.length;var oe=I[ie],pe=I[ie+1];if(pe>oe)for(var ue=0,ce=0;ce<P;ce++){for(var de=ce+1,be=void 0,Fe=oe;Fe<pe;Fe++){var Ue=_[Fe];ue!==de?(be=F(A[ce][Ue],N[Fe]),ue=de):be=q(be,F(A[ce][Ue],N[Fe]))}ue===de&&!K(be,ne)&&(z.push(ce),Y.push(be))}}return re[T]=z.length,he},"SparseMatrix, DenseMatrix":function v(w,b){var A=w._values,C=w._index,E=w._ptr,N=w._datatype;if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var T,_=b._data,I=b._datatype,R=w._size[0],k=b._size[0],P=b._size[1],S=n,q=i,F=a,K=0;N&&I&&N===I&&"string"==typeof N&&(S=t.find(n,[T=N,T]),q=t.find(i,[T,T]),F=t.find(a,[T,T]),K=t.convert(0,T));for(var ne=[],Y=[],z=[],re=w.createSparseMatrix({values:ne,index:Y,ptr:z,size:[R,P],datatype:T}),he=[],ie=[],oe=0;oe<P;oe++){z[oe]=Y.length;for(var pe=oe+1,ue=0;ue<k;ue++){var ce=_[ue][oe];if(!F(ce,K))for(var be=E[ue+1],Fe=E[ue];Fe<be;Fe++){var Ue=C[Fe];ie[Ue]!==pe?(ie[Ue]=pe,Y.push(Ue),he[Ue]=q(ce,A[Fe])):he[Ue]=S(he[Ue],q(ce,A[Fe]))}}for(var j=Y.length,se=z[oe];se<j;se++)ne[se]=he[Y[se]]}return z[P]=Y.length,re},"SparseMatrix, SparseMatrix":function D(w,b){var q,A=w._values,C=w._index,E=w._ptr,N=w._datatype,_=b._values,I=b._index,R=b._ptr,k=b._datatype,P=w._size[0],T=b._size[1],S=A&&_,F=n,K=i;N&&k&&N===k&&"string"==typeof N&&(F=t.find(n,[q=N,q]),K=t.find(i,[q,q]));for(var oe,ue,ce,be,Fe,Ue,ne=S?[]:void 0,Y=[],z=[],re=w.createSparseMatrix({values:ne,index:Y,ptr:z,size:[P,T],datatype:q}),he=S?[]:void 0,ie=[],U=0;U<T;U++){z[U]=Y.length;var j=U+1;for(be=R[U+1],ce=R[U];ce<be;ce++)if(Ue=I[ce],S)for(ue=E[Ue+1],oe=E[Ue];oe<ue;oe++)ie[Fe=C[oe]]!==j?(ie[Fe]=j,Y.push(Fe),he[Fe]=K(_[ce],A[oe])):he[Fe]=F(he[Fe],K(_[ce],A[oe]));else for(ue=E[Ue+1],oe=E[Ue];oe<ue;oe++)ie[Fe=C[oe]]!==j&&(ie[Fe]=j,Y.push(Fe));if(S)for(var H=Y.length,Q=z[U];Q<H;Q++)ne[Q]=he[Y[Q]]}return z[T]=Y.length,re}});return t(B2,i,{"Array, Array":t.referTo("Matrix, Matrix",w=>(b,A)=>{c(lt(b),lt(A));var C=w(r(b),r(A));return Je(C)?C.valueOf():C}),"Matrix, Matrix":function(b,A){var C=b.size(),E=A.size();return c(C,E),1===C.length?1===E.length?function l(w,b,A){if(0===A)throw new Error("Cannot multiply two empty vectors");return o(w,b)}(b,A,C[0]):function f(w,b){if("dense"!==b.storage())throw new Error("Support for SparseMatrix not implemented");return function d(w,b){var P,A=w._data,E=w._datatype,N=b._data,I=b._datatype,R=w._size[0],k=b._size[1],T=n,S=i;E&&I&&E===I&&"string"==typeof E&&(T=t.find(n,[P=E,P]),S=t.find(i,[P,P]));for(var q=[],F=0;F<k;F++){for(var K=S(A[0],N[0][F]),ne=1;ne<R;ne++)K=T(K,S(A[ne],N[ne][F]));q[F]=K}return w.createDenseMatrix({data:q,size:[k],datatype:P})}(w,b)}(b,A):1===E.length?p(b,A):h(b,A)},"Matrix, Array":t.referTo("Matrix,Matrix",w=>(b,A)=>w(b,r(A))),"Array, Matrix":t.referToSelf(w=>(b,A)=>w(r(b,A.storage()),A)),"SparseMatrix, any":function(b,A){return s(b,A,i,!1)},"DenseMatrix, any":function(b,A){return u(b,A,i,!1)},"any, SparseMatrix":function(b,A){return s(A,b,i,!0)},"any, DenseMatrix":function(b,A){return u(A,b,i,!0)},"Array, any":function(b,A){return u(r(b),A,i,!1).valueOf()},"any, Array":function(b,A){return u(r(A),b,i,!0).valueOf()},"any, any":i,"any, any, ...any":t.referToSelf(w=>(b,A,C)=>{for(var E=w(b,A),N=0;N<C.length;N++)E=w(E,C[N]);return E})})}),L2="nthRoots",Wre=B(L2,["config","typed","divideScalar","Complex"],e=>{var{typed:t,Complex:i}=e,a=[function(u){return new i(u,0)},function(u){return new i(0,u)},function(u){return new i(-u,0)},function(u){return new i(0,-u)}];function o(s,u){if(u<0)throw new Error("Root must be greater than zero");if(0===u)throw new Error("Root must be non-zero");if(u%1!=0)throw new Error("Root must be an integer");if(0===s||0===s.abs())return[new i(0,0)];var l,c="number"==typeof s;(c||0===s.re||0===s.im)&&(l=c?2*+(s<0):0===s.im?2*+(s.re<0):2*+(s.im<0)+1);for(var f=s.arg(),d=s.abs(),p=[],h=Math.pow(d,1/u),m=0;m<u;m++){var y=(l+4*m)/u;y!==Math.round(y)?p.push(new i({r:h,phi:(f+2*Math.PI*m)/u})):p.push(a[y%4](h))}return p}return t(L2,{Complex:function(u){return o(u,2)},"Complex, number":o})}),k2="partitionSelect",Yre=B(k2,["typed","isNumeric","isNaN","compare"],e=>{var{typed:t,isNumeric:r,isNaN:n,compare:i}=e,a=i,o=(c,l)=>-i(c,l);return t(k2,{"Array | Matrix, number":function(l,f){return s(l,f,a)},"Array | Matrix, number, string":function(l,f,d){if("asc"===d)return s(l,f,a);if("desc"===d)return s(l,f,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s});function s(c,l,f){if(!We(l)||l<0)throw new Error("k must be a non-negative integer");if(Je(c)){if(c.size().length>1)throw new Error("Only one dimensional matrices supported");return u(c.valueOf(),l,f)}if(Array.isArray(c))return u(c,l,f)}function u(c,l,f){if(l>=c.length)throw new Error("k out of bounds");for(var d=0;d<c.length;d++)if(r(c[d])&&n(c[d]))return c[d];for(var p=0,h=c.length-1;p<h;){for(var m=p,y=h,g=c[Math.floor(Math.random()*(h-p+1))+p];m<y;)if(f(c[m],g)>=0){var x=c[y];c[y]=c[m],c[m]=x,--y}else++m;f(c[m],g)>0&&--m,l<=m?h=m:p=m+1}return c[l]}}),z2="rightLogShift",Xre=B(z2,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],e=>{var{typed:t,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=e,s=co({typed:t}),u=Bi({typed:t,equalScalar:n}),c=_0({typed:t,equalScalar:n}),l=Yo({typed:t,DenseMatrix:a}),f=un({typed:t,equalScalar:n}),d=Pi({typed:t}),p=dr({typed:t,matrix:r,concat:o}),h=T0({typed:t,matrix:r});return t(z2,{"number, number":VA,"SparseMatrix, number | BigNumber":t.referToSelf(m=>(y,g)=>n(g,0)?y.clone():f(y,g,m,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(m=>(y,g)=>n(g,0)?y.clone():d(y,g,m,!1)),"number | BigNumber, SparseMatrix":t.referToSelf(m=>(y,g)=>n(y,0)?i(g.size(),g.storage()):l(g,y,m,!0)),"number | BigNumber, DenseMatrix":t.referToSelf(m=>(y,g)=>n(y,0)?i(g.size(),g.storage()):d(g,y,m,!0))},h,p({SS:c,DS:s,SD:u}))});function U2(e,t,r,n,i,a,o){var s=0;for(r[o]=e;s>=0;){var u=r[o+s],c=r[n+u];-1===c?(s--,a[t++]=u):(r[n+u]=r[i+c],r[o+ ++s]=c)}return t}function ho(e){return-e-2}var ine=B("csAmd",["add","multiply","transpose"],e=>{var{add:t,multiply:r,transpose:n}=e;return function(l,f){if(!f||l<=0||l>3)return null;var d=f._size,p=d[0],h=d[1],m=0,y=Math.max(16,10*Math.sqrt(h)),g=function i(c,l,f,d,p){var h=n(l);if(1===c&&d===f)return t(l,h);if(2===c){for(var m=h._index,y=h._ptr,g=0,x=0;x<f;x++){var v=y[x];if(y[x]=g,!(y[x+1]-v>p))for(var D=y[x+1];v<D;v++)m[g++]=m[v]}return y[f]=g,l=n(h),r(h,l)}return r(h,l)}(l,f,p,h,y=Math.min(h-2,y));!function tne(e,t,r){for(var n=e._values,i=e._index,a=e._ptr,s=e._size[1],u=0,c=0;c<s;c++){var l=a[c];for(a[c]=u;l<a[c+1];l++)t(i[l],c,n?n[l]:1,r)&&(i[u]=i[l],n&&(n[u]=n[l]),u++)}a[s]=u,i.splice(u,i.length-u),n&&n.splice(u,n.length-u)}(g,u,null);for(var F,K,ne,Y,z,re,he,ie,oe,pe,ue,ce,de,be,Fe,Ue,x=g._index,v=g._ptr,D=v[h],w=[],b=[],C=h+1,E=2*(h+1),N=3*(h+1),_=4*(h+1),I=5*(h+1),R=6*(h+1),k=7*(h+1),P=w,T=function a(c,l,f,d,p,h,m,y,g,x,v,D){for(var w=0;w<c;w++)f[d+w]=l[w+1]-l[w];f[d+c]=0;for(var b=0;b<=c;b++)f[p+b]=-1,h[b]=-1,f[m+b]=-1,f[y+b]=-1,f[g+b]=1,f[x+b]=1,f[v+b]=0,f[D+b]=f[d+b];var A=s(0,0,f,x,c);return f[v+c]=-2,l[c]=-1,f[x+c]=0,A}(h,v,b,0,N,P,E,k,C,R,_,I),S=function o(c,l,f,d,p,h,m,y,g,x,v){for(var D=0,w=0;w<c;w++){var b=f[d+w];if(0===b)f[p+w]=-2,D++,l[w]=-1,f[h+w]=0;else if(b>m)f[y+w]=0,f[p+w]=-1,D++,l[w]=ho(c),f[y+c]++;else{var A=f[g+b];-1!==A&&(x[A]=w),f[v+w]=f[g+b],f[g+b]=w}}return D}(h,v,b,I,_,R,y,C,N,P,E),q=0;S<h;){for(ne=-1;q<h&&-1===(ne=b[N+q]);q++);-1!==b[E+ne]&&(P[b[E+ne]]=-1),b[N+q]=b[E+ne];var U=b[_+ne],j=b[C+ne];S+=j;var se=0;b[C+ne]=-j;var H=v[ne],Q=0===U?H:D,ee=Q;for(Y=1;Y<=U+1;Y++){for(Y>U?(re=ne,he=H,ie=b[0+ne]-U):(he=v[re=x[H++]],ie=b[0+re]),z=1;z<=ie;z++)!((oe=b[C+(F=x[he++])])<=0)&&(se+=oe,b[C+F]=-oe,x[ee++]=F,-1!==b[E+F]&&(P[b[E+F]]=P[F]),-1!==P[F]?b[E+P[F]]=b[E+F]:b[N+b[I+F]]=b[E+F]);re!==ne&&(v[re]=ho(ne),b[R+re]=0)}for(0!==U&&(D=ee),b[I+ne]=se,v[ne]=Q,b[0+ne]=ee-Q,b[_+ne]=-2,T=s(T,m,b,R,h),pe=Q;pe<ee;pe++)if(!((ue=b[_+(F=x[pe])])<=0)){var ve=T-(oe=-b[C+F]);for(H=v[F],ce=v[F]+ue-1;H<=ce;H++)b[R+(re=x[H])]>=T?b[R+re]-=oe:0!==b[R+re]&&(b[R+re]=b[I+re]+ve)}for(pe=Q;pe<ee;pe++){for(de=(ce=v[F=x[pe]])+b[_+F]-1,be=ce,Fe=0,Ue=0,H=ce;H<=de;H++)if(0!==b[R+(re=x[H])]){var ge=b[R+re]-T;ge>0?(Ue+=ge,x[be++]=re,Fe+=re):(v[re]=ho(ne),b[R+re]=0)}b[_+F]=be-ce+1;var Be=be,xe=ce+b[0+F];for(H=de+1;H<xe;H++){var nt=b[C+(K=x[H])];nt<=0||(Ue+=nt,x[be++]=K,Fe+=K)}0===Ue?(v[F]=ho(ne),se-=oe=-b[C+F],j+=oe,S+=oe,b[C+F]=0,b[_+F]=-1):(b[I+F]=Math.min(b[I+F],Ue),x[be]=x[Be],x[Be]=x[ce],x[ce]=ne,b[0+F]=be-ce+1,b[E+F]=b[k+(Fe=(Fe<0?-Fe:Fe)%h)],b[k+Fe]=F,P[F]=Fe)}for(b[I+ne]=se,T=s(T+(m=Math.max(m,se)),m,b,R,h),pe=Q;pe<ee;pe++)if(!(b[C+(F=x[pe])]>=0))for(F=b[k+(Fe=P[F])],b[k+Fe]=-1;-1!==F&&-1!==b[E+F];F=b[E+F],T++){for(ie=b[0+F],ue=b[_+F],H=v[F]+1;H<=v[F]+ie-1;H++)b[R+x[H]]=T;var pt=F;for(K=b[E+F];-1!==K;){var Yt=b[0+K]===ie&&b[_+K]===ue;for(H=v[K]+1;Yt&&H<=v[K]+ie-1;H++)b[R+x[H]]!==T&&(Yt=0);Yt?(v[K]=ho(F),b[C+F]+=b[C+K],b[C+K]=0,b[_+K]=-1,b[E+pt]=K=b[E+K]):(pt=K,K=b[E+K])}}for(H=Q,pe=Q;pe<ee;pe++)!((oe=-b[C+(F=x[pe])])<=0)&&(b[C+F]=oe,Ue=b[I+F]+se-oe,-1!==b[N+(Ue=Math.min(Ue,h-S-oe))]&&(P[b[N+Ue]]=F),b[E+F]=b[N+Ue],P[F]=-1,b[N+Ue]=F,q=Math.min(q,Ue),b[I+F]=Ue,x[H++]=F);b[C+ne]=j,0==(b[0+ne]=H-Q)&&(v[ne]=-1,b[R+ne]=0),0!==U&&(D=H)}for(F=0;F<h;F++)v[F]=ho(v[F]);for(K=0;K<=h;K++)b[N+K]=-1;for(K=h;K>=0;K--)b[C+K]>0||(b[E+K]=b[N+v[K]],b[N+v[K]]=K);for(re=h;re>=0;re--)b[C+re]<=0||-1!==v[re]&&(b[E+re]=b[N+v[re]],b[N+v[re]]=re);for(ne=0,F=0;F<=h;F++)-1===v[F]&&(ne=U2(F,ne,b,N,E,w,R));return w.splice(w.length-1,1),w};function s(c,l,f,d,p){if(c<2||c+l<0){for(var h=0;h<p;h++)0!==f[d+h]&&(f[d+h]=1);c=2}return c}function u(c,l){return c!==l}});function ane(e,t,r,n,i,a,o){var s,u,l,c=0;if(e<=t||r[n+t]<=r[i+e])return-1;r[i+e]=r[n+t];var f=r[a+e];if(r[a+e]=t,-1===f)c=1,l=e;else{for(c=2,l=f;l!==r[o+l];l=r[o+l]);for(s=f;s!==l;s=u)u=r[o+s],r[o+s]=l}return{jleaf:c,q:l}}var une=B("csCounts",["transpose"],e=>{var{transpose:t}=e;return function(r,n,i,a){if(!r||!n||!i)return null;var c,l,f,d,p,m,o=r._size,s=o[0],u=o[1],y=4*u+(a?u+s+1:0),g=[],v=u,D=2*u,w=3*u,b=4*u,A=5*u+1;for(f=0;f<y;f++)g[f]=-1;var C=[],E=t(r),N=E._index,_=E._ptr;for(f=0;f<u;f++)for(C[l=i[f]]=-1===g[w+l]?1:0;-1!==l&&-1===g[w+l];l=n[l])g[w+l]=f;if(a){for(f=0;f<u;f++)g[i[f]]=f;for(c=0;c<s;c++){for(f=u,m=_[c+1],p=_[c];p<m;p++)f=Math.min(f,g[N[p]]);g[A+c]=g[b+f],g[b+f]=c}}for(c=0;c<u;c++)g[0+c]=c;for(f=0;f<u;f++){for(-1!==n[l=i[f]]&&C[n[l]]--,d=a?g[b+f]:l;-1!==d;d=a?g[A+d]:-1)for(p=_[d];p<_[d+1];p++){var I=ane(c=N[p],l,g,w,v,D,0);I.jleaf>=1&&C[l]++,2===I.jleaf&&C[I.q]--}-1!==n[l]&&(g[0+l]=n[l])}for(l=0;l<u;l++)-1!==n[l]&&(C[n[l]]+=C[l]);return C}}),fne=B("csSqr",["add","multiply","transpose"],e=>{var{add:t,multiply:r,transpose:n}=e,i=ine({add:t,multiply:r,transpose:n}),a=une({transpose:n});return function(u,c,l){var h,f=c._ptr,p=c._size[1],m={};if(m.q=i(u,c),u&&!m.q)return null;if(l){var y=u?function Kre(e,t,r,n){for(var i=e._values,a=e._index,o=e._ptr,s=e._size,u=e._datatype,c=s[0],l=s[1],f=n&&e._values?[]:null,d=[],p=[],h=0,m=0;m<l;m++){p[m]=h;for(var y=r?r[m]:m,x=o[y+1],v=o[y];v<x;v++)d[h]=t?t[a[v]]:a[v],f&&(f[h]=i[v]),h++}return p[l]=h,e.createSparseMatrix({values:f,index:d,ptr:p,size:[c,l],datatype:u})}(c,null,m.q,0):c;m.parent=function ene(e,t){if(!e)return null;var f,d,r=e._index,n=e._ptr,i=e._size,a=i[0],o=i[1],s=[],u=[],l=o;if(t)for(f=0;f<a;f++)u[l+f]=-1;for(var p=0;p<o;p++){s[p]=-1,u[0+p]=-1;for(var m=n[p+1],y=n[p];y<m;y++){var g=r[y];for(f=t?u[l+g]:g;-1!==f&&f<p;f=d)d=u[0+f],u[0+f]=p,-1===d&&(s[f]=p);t&&(u[l+g]=p)}}return s}(y,1);var g=function Jre(e,t){if(!e)return null;var n,r=0,i=[],a=[],s=t,u=2*t;for(n=0;n<t;n++)a[0+n]=-1;for(n=t-1;n>=0;n--)-1!==e[n]&&(a[s+n]=a[0+e[n]],a[0+e[n]]=n);for(n=0;n<t;n++)-1===e[n]&&(r=U2(n,r,a,0,s,i,u));return i}(m.parent,p);if(m.cp=a(y,m.parent,g,1),y&&m.parent&&m.cp&&function o(s,u){var c=s._ptr,l=s._index,f=s._size,d=f[0],p=f[1];u.pinv=[],u.leftmost=[];var b,A,C,N,h=u.parent,m=u.pinv,y=u.leftmost,g=[],v=d,D=d+p,w=d+2*p;for(A=0;A<p;A++)g[v+A]=-1,g[D+A]=-1,g[w+A]=0;for(b=0;b<d;b++)y[b]=-1;for(A=p-1;A>=0;A--)for(N=c[A+1],C=c[A];C<N;C++)y[l[C]]=A;for(b=d-1;b>=0;b--)m[b]=-1,-1!==(A=y[b])&&(0==g[w+A]++&&(g[D+A]=b),g[0+b]=g[v+A],g[v+A]=b);for(u.lnz=0,u.m2=d,A=0;A<p;A++)if(b=g[v+A],u.lnz++,b<0&&(b=u.m2++),m[b]=A,!(--w[A]<=0)){u.lnz+=g[w+A];var _=h[A];-1!==_&&(0===g[w+_]&&(g[D+_]=g[D+A]),g[0+g[D+A]]=g[v+_],g[v+_]=g[0+b],g[w+_]+=g[w+A])}for(b=0;b<d;b++)m[b]<0&&(m[b]=A++);return!0}(y,m))for(m.unz=0,h=0;h<p;h++)m.unz+=m.cp[h]}else m.unz=4*f[p]+p,m.lnz=m.unz;return m}});function O0(e,t){return e[t]<0}function q2(e,t){e[t]=ho(e[t])}function V2(e){return e<0?ho(e):e}function dne(e,t,r,n,i){var c,l,f,a=t._index,o=t._ptr,u=t._size[1],d=0;for(n[0]=e;d>=0;){e=n[d];var p=i?i[e]:e;O0(o,e)||(q2(o,e),n[u+d]=p<0?0:V2(o[p]));var h=1;for(l=n[u+d],f=p<0?0:V2(o[p+1]);l<f;l++)if(!O0(o,c=a[l])){n[u+d]=l,n[++d]=c,h=0;break}h&&(d--,n[--r]=e)}return r}var vne=B("csSpsolve",["divideScalar","multiply","subtract"],e=>{var{divideScalar:t,multiply:r,subtract:n}=e;return function(a,o,s,u,c,l,f){var D,w,b,A,d=a._values,p=a._index,h=a._ptr,y=a._size[1],g=o._values,x=o._index,v=o._ptr,C=function pne(e,t,r,n,i){var l,d,a=e._ptr,s=t._index,u=t._ptr,c=e._size[1],p=c;for(d=u[r+1],l=u[r];l<d;l++){var h=s[l];O0(a,h)||(p=dne(h,e,p,n,i))}for(l=p;l<c;l++)q2(a,n[l]);return p}(a,o,s,u,l);for(D=C;D<y;D++)c[u[D]]=0;for(b=v[s+1],D=w=v[s];D<b;D++)c[x[D]]=g[D];for(var E=C;E<y;E++){var N=u[E],_=l?l[N]:N;if(!(_<0))for(w=h[_],b=h[_+1],c[N]=t(c[N],d[f?w:b-1]),D=f?w+1:w,A=f?b:b-1;D<A;D++){var I=p[D];c[I]=n(c[I],r(d[D],c[N]))}}return C}}),bne=B("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],e=>{var{abs:t,divideScalar:r,multiply:n,subtract:i,larger:a,largerEq:o,SparseMatrix:s}=e,u=vne({divideScalar:r,multiply:n,subtract:i});return function(l,f,d){if(!l)return null;var m,h=l._size[1],y=100,g=100;f&&(m=f.q,y=f.lnz||y,g=f.unz||g);var _,I,x=[],v=[],D=[],w=new s({values:x,index:v,ptr:D,size:[h,h]}),b=[],A=[],C=[],E=new s({values:b,index:A,ptr:C,size:[h,h]}),N=[],R=[],k=[];for(_=0;_<h;_++)R[_]=0,N[_]=-1,D[_+1]=0;y=0,g=0;for(var P=0;P<h;P++){D[P]=y,C[P]=g;var T=m?m[P]:P,S=u(w,l,T,k,R,N,1),q=-1,F=-1;for(I=S;I<h;I++)if(N[_=k[I]]<0){var K=t(R[_]);a(K,F)&&(F=K,q=_)}else A[g]=N[_],b[g++]=R[_];if(-1===q||F<=0)return null;N[T]<0&&o(t(R[T]),n(F,d))&&(q=T);var ne=R[q];for(A[g]=P,b[g++]=ne,N[q]=P,v[y]=q,x[y++]=1,I=S;I<h;I++)N[_=k[I]]<0&&(v[y]=_,x[y++]=r(R[_],ne)),R[_]=0}for(D[h]=y,C[h]=g,I=0;I<y;I++)v[I]=N[v[I]];return x.splice(y,x.length-y),v.splice(y,v.length-y),b.splice(g,b.length-g),A.splice(g,A.length-g),{L:w,U:E,pinv:N}}}),wne=B("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],e=>{var{typed:t,abs:r,add:n,multiply:i,transpose:a,divideScalar:o,subtract:s,larger:u,largerEq:c,SparseMatrix:l}=e,f=fne({add:n,multiply:i,transpose:a}),d=bne({abs:r,divideScalar:o,multiply:i,subtract:s,larger:u,largerEq:c,SparseMatrix:l});return t("slu",{"SparseMatrix, number, number":function(h,m,y){if(!We(m)||m<0||m>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(y<0||y>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var g=f(m,h,!1),x=d(h,g,y);return{L:x.L,U:x.U,p:x.pinv,q:g.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}),Nne=B("trace",["typed","matrix","add"],e=>{var{typed:t,matrix:r,add:n}=e;return t("trace",{Array:function(s){return i(r(s))},SparseMatrix:function a(o){var s=o._values,u=o._index,c=o._ptr,l=o._size,d=l[1];if(l[0]===d){var p=0;if(s.length>0)for(var h=0;h<d;h++)for(var y=c[h+1],g=c[h];g<y;g++){var x=u[g];if(x===h){p=n(p,s[g]);break}if(x>h)break}return p}throw new RangeError("Matrix must be square (size: "+Nt(l)+")")},DenseMatrix:i,any:ct});function i(o){var s=o._size,u=o._data;switch(s.length){case 1:if(1===s[0])return ct(u[0]);throw new RangeError("Matrix must be square (size: "+Nt(s)+")");case 2:var c=s[0];if(c===s[1]){for(var f=0,d=0;d<c;d++)f=n(f,u[d][d]);return f}throw new RangeError("Matrix must be square (size: "+Nt(s)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Nt(s)+")")}}}),$2="usolveAll",Ane=B($2,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=e,u=vl({DenseMatrix:s});return t($2,{"SparseMatrix, Array | Matrix":function(d,p){return function l(f,d){for(var p=[u(f,d,!0)._data.map(ne=>ne[0])],h=f._size[0],y=f._values,g=f._index,x=f._ptr,v=f._size[1]-1;v>=0;v--)for(var D=p.length,w=0;w<D;w++){for(var b=p[w],A=[],C=[],E=x[v],_=0,I=x[v+1]-1;I>=E;I--){var R=g[I];R===v?_=y[I]:R<v&&(A.push(y[I]),C.push(R))}if(o(_,0))if(o(b[v],0)){if(0===w){var S=[...b];S[v]=1;for(var q=0,F=C.length;q<F;q++){var K=C[q];S[K]=a(S[K],A[q])}p.push(S)}}else{if(0===w)return[];p.splice(w,1),w-=1,D-=1}else{b[v]=n(b[v],_);for(var k=0,P=C.length;k<P;k++){var T=C[k];b[T]=a(b[T],i(b[v],A[k]))}}}return p.map(ne=>new s({data:ne.map(Y=>[Y]),size:[h,1]}))}(d,p)},"DenseMatrix, Array | Matrix":function(d,p){return c(d,p)},"Array, Array | Matrix":function(d,p){return c(r(d),p).map(y=>y.valueOf())}});function c(f,d){for(var p=[u(f,d,!0)._data.map(C=>C[0])],h=f._data,m=f._size[0],g=f._size[1]-1;g>=0;g--)for(var x=p.length,v=0;v<x;v++){var D=p[v];if(o(h[g][g],0))if(o(D[g],0)){if(0===v){var b=[...D];b[g]=1;for(var A=g-1;A>=0;A--)b[A]=a(b[A],h[A][g]);p.push(b)}}else{if(0===v)return[];p.splice(v,1),v-=1,x-=1}else{D[g]=n(D[g],h[g][g]);for(var w=g-1;w>=0;w--)D[w]=a(D[w],i(D[g],h[w][g]))}}return p.map(C=>new s({data:C.map(E=>[E]),size:[m,1]}))}}),Mne=B("zpk2tf",["typed","add","multiply","Complex","number"],e=>{var{typed:t,add:r,multiply:n,Complex:i,number:a}=e;return t("zpk2tf",{"Array,Array,number":function(c,l,f){return o(c,l,f)},"Array,Array":function(c,l){return o(c,l,1)},"Matrix,Matrix,number":function(c,l,f){return o(c.valueOf(),l.valueOf(),f)},"Matrix,Matrix":function(c,l){return o(c.valueOf(),l.valueOf(),1)}});function o(u,c,l){u.some(x=>"BigNumber"===x.type)&&(u=u.map(x=>a(x))),c.some(x=>"BigNumber"===x.type)&&(c=c.map(x=>a(x)));for(var f=[i(1,0)],d=[i(1,0)],p=0;p<u.length;p++){var h=u[p];"number"==typeof h&&(h=i(h,0)),f=s(f,[i(1,0),i(-h.re,-h.im)])}for(var m=0;m<c.length;m++){var y=c[m];"number"==typeof y&&(y=i(y,0)),d=s(d,[i(1,0),i(-y.re,-y.im)])}for(var g=0;g<f.length;g++)f[g]=n(f[g],l);return[f,d]}function s(u,c){for(var l=[],f=0;f<u.length+c.length-1;f++){l[f]=i(0,0);for(var d=0;d<u.length;d++)f-d>=0&&f-d<c.length&&(l[f]=r(l[f],n(u[d],c[f-d])))}return l}}),R0="ceil",_ne=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],Tne=B(R0,["typed","config","round"],e=>{var{typed:t,config:r,round:n}=e;return t(R0,{number:function(a){return ai(a,n(a),r.epsilon)?n(a):Math.ceil(a)},"number, number":function(a,o){if(ai(a,n(a,o),r.epsilon))return n(a,o);var[s,u]="".concat(a,"e").split("e"),c=Math.ceil(Number("".concat(s,"e").concat(Number(u)+o)));return[s,u]="".concat(c,"e").split("e"),Number("".concat(s,"e").concat(Number(u)-o))}})}),Ine=B(R0,_ne,e=>{var{typed:t,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}=e,u=un({typed:t,equalScalar:a}),c=Jr({typed:t,DenseMatrix:s}),l=Pi({typed:t}),f=Tne({typed:t,config:r,round:n});return t("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(p){return p.ceil()},"Complex, number":function(p,h){return p.ceil(h)},"Complex, BigNumber":function(p,h){return p.ceil(h.toNumber())},BigNumber:function(p){return fa(p,n(p),r.epsilon)?n(p):p.ceil()},"BigNumber, BigNumber":function(p,h){return fa(p,n(p,h),r.epsilon)?n(p,h):p.toDecimalPlaces(h.toNumber(),wp.ROUND_CEIL)},Fraction:function(p){return p.ceil()},"Fraction, number":function(p,h){return p.ceil(h)},"Fraction, BigNumber":function(p,h){return p.ceil(h.toNumber())},"Array | Matrix":t.referToSelf(d=>p=>At(p,d,!0)),"Array, number | BigNumber":t.referToSelf(d=>(p,h)=>At(p,m=>d(m,h),!0)),"SparseMatrix, number | BigNumber":t.referToSelf(d=>(p,h)=>u(p,h,d,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(d=>(p,h)=>l(p,h,d,!1)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(d=>(p,h)=>l(i(h),p,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(d=>(p,h)=>a(p,0)?o(h.size(),h.storage()):"dense"===h.storage()?l(h,p,d,!0):c(h,p,d,!0))})}),Fu=ke(170),G2="compareNatural",One=B(G2,["typed","compare"],e=>{var{typed:t,compare:r}=e,n=r.signatures["boolean,boolean"];return t(G2,{"any, any":function i(u,c){var d,l=or(u),f=or(c);if(!("number"!==l&&"BigNumber"!==l&&"Fraction"!==l||"number"!==f&&"BigNumber"!==f&&"Fraction"!==f))return"0"!==(d=r(u,c)).toString()?d>0?1:-1:Fu(l,f);var p=["Array","DenseMatrix","SparseMatrix"];if(p.includes(l)||p.includes(f))return 0!==(d=a(i,u,c))?d:Fu(l,f);if(l!==f)return Fu(l,f);if("Complex"===l)return function Rne(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0}(u,c);if("Unit"===l)return u.equalBase(c)?i(u.value,c.value):o(i,u.formatUnits(),c.formatUnits());if("boolean"===l)return n(u,c);if("string"===l)return Fu(u,c);if("Object"===l)return function s(u,c,l){var f=Object.keys(c),d=Object.keys(l);f.sort(Fu),d.sort(Fu);var p=o(u,f,d);if(0!==p)return p;for(var h=0;h<f.length;h++){var m=u(c[f[h]],l[d[h]]);if(0!==m)return m}return 0}(i,u,c);if("null"===l||"undefined"===l)return 0;throw new TypeError('Unsupported type of value "'+l+'"')}});function a(u,c,l){return jo(c)&&jo(l)?o(u,c.toJSON().values,l.toJSON().values):jo(c)?a(u,c.toArray(),l):jo(l)?a(u,c,l.toArray()):Od(c)?a(u,c.toJSON().data,l):Od(l)?a(u,c,l.toJSON().data):Array.isArray(c)?Array.isArray(l)?o(u,c,l):a(u,c,[l]):a(u,[c],l)}function o(u,c,l){for(var f=0,d=Math.min(c.length,l.length);f<d;f++){var p=u(c[f],l[f]);if(0!==p)return p}return c.length>l.length?1:c.length<l.length?-1:0}}),W2="composition",Bne=B(W2,["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],e=>{var{typed:t,addScalar:r,combinations:n,isPositive:i,isInteger:o,larger:s}=e;return t(W2,{"number | BigNumber, number | BigNumber":function(c,l){if(!(o(c)&&i(c)&&o(l)&&i(l)))throw new TypeError("Positive integer value expected in function composition");if(s(l,c))throw new TypeError("k must be less than or equal to n in function composition");return n(r(c,-1),r(l,-1))}})}),kne=B("cross",["typed","matrix","subtract","multiply"],e=>{var{typed:t,matrix:r,subtract:n,multiply:i}=e;return t("cross",{"Matrix, Matrix":function(s,u){return r(a(s.toArray(),u.toArray()))},"Matrix, Array":function(s,u){return r(a(s.toArray(),u))},"Array, Matrix":function(s,u){return r(a(s,u.toArray()))},"Array, Array":a});function a(o,s){var u=Math.max(lt(o).length,lt(s).length);o=qd(o),s=qd(s);var c=lt(o),l=lt(s);if(1!==c.length||1!==l.length||3!==c[0]||3!==l[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+c.join(", ")+"], B = ["+l.join(", ")+"])");var f=[n(i(o[1],s[2]),i(o[2],s[1])),n(i(o[2],s[0]),i(o[0],s[2])),n(i(o[0],s[1]),i(o[1],s[0]))];return u>1?[f]:f}}),Une=B("det",["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],e=>{var{typed:t,matrix:r,subtractScalar:n,multiply:i,divideScalar:a,isZero:o,unaryMinus:s}=e;return t("det",{any:function(l){return ct(l)},"Array | Matrix":function(l){var f;switch((f=Je(l)?l.size():Array.isArray(l)?(l=r(l)).size():[]).length){case 0:return ct(l);case 1:if(1===f[0])return ct(l.valueOf()[0]);if(0===f[0])return 1;throw new RangeError("Matrix must be square (size: "+Nt(f)+")");case 2:var d=f[0],p=f[1];if(d===p)return function u(c,l,f){if(1===l)return ct(c[0][0]);if(2===l)return n(i(c[0][0],c[1][1]),i(c[1][0],c[0][1]));for(var d=!1,p=new Array(l).fill(0).map((A,C)=>C),h=0;h<l;h++){var m=p[h];if(o(c[m][h])){var y=void 0;for(y=h+1;y<l;y++)if(!o(c[p[y]][h])){m=p[y],p[y]=p[h],p[h]=m,d=!d;break}if(y===l)return c[m][h]}for(var g=c[m][h],x=0===h?1:c[p[h-1]][h-1],v=h+1;v<l;v++)for(var D=p[v],w=h+1;w<l;w++)c[D][w]=a(n(i(c[D][w],g),i(c[D][h],c[m][w])),x)}var b=c[p[l-1]][l-1];return d?s(b):b}(l.clone().valueOf(),d);if(0===p)return 1;throw new RangeError("Matrix must be square (size: "+Nt(f)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Nt(f)+")")}}})}),Q2="dotMultiply",Vne=B(Q2,["typed","matrix","equalScalar","multiplyScalar","concat"],e=>{var{typed:t,matrix:r,equalScalar:n,multiplyScalar:i,concat:a}=e,o=Bi({typed:t,equalScalar:n}),s=g2({typed:t,equalScalar:n}),u=un({typed:t,equalScalar:n}),c=dr({typed:t,matrix:r,concat:a});return t(Q2,c({elop:i,SS:s,DS:o,Ss:u}))}),jne=B("FibonacciHeap",["smaller","larger"],e=>{var{smaller:t,larger:r}=e,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function o(l,f,d){f.left.right=f.right,f.right.left=f.left,d.degree--,d.child===f&&(d.child=f.right),0===d.degree&&(d.child=null),f.left=l,f.right=l.right,l.right=f,f.right.left=f,f.parent=null,f.mark=!1}function s(l,f){var d=f.parent;d&&(f.mark?(o(l,f,d),s(d)):f.mark=!0)}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(l,f){var d={key:l,value:f,degree:0};if(this._minimum){var p=this._minimum;d.left=p,d.right=p.right,p.right=d,d.right.left=d,t(l,p.key)&&(this._minimum=d)}else d.left=d,d.right=d,this._minimum=d;return this._size++,d},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var l=this._minimum;if(null===l)return l;for(var f=this._minimum,d=l.degree,p=l.child;d>0;){var h=p.right;p.left.right=p.right,p.right.left=p.left,p.left=f,p.right=f.right,f.right=p,p.right.left=p,p.parent=null,p=h,d--}return l.left.right=l.right,l.right.left=l.left,f=l===l.right?null:function c(l,f){var y,d=Math.floor(Math.log(f)*n)+1,p=new Array(d),h=0,m=l;if(m)for(h++,m=m.right;m!==l;)h++,m=m.right;for(;h>0;){for(var g=m.degree,x=m.right;y=p[g];){if(r(m.key,y.key)){var v=y;y=m,m=v}u(y,m),p[g]=null,g++}p[g]=m,m=x,h--}l=null;for(var D=0;D<d;D++)(y=p[D])&&(l?(y.left.right=y.right,y.right.left=y.left,y.left=l,y.right=l.right,l.right=y,y.right.left=y,t(y.key,l.key)&&(l=y)):l=y);return l}(f=l.right,this._size),this._size--,this._minimum=f,l},i.prototype.remove=function(l){this._minimum=function a(l,f,d){f.key=d;var p=f.parent;return p&&t(f.key,p.key)&&(o(l,f,p),s(l,p)),t(f.key,l.key)&&(l=f),l}(this._minimum,l,-1),this.extractMinimum()};var u=function(f,d){f.left.right=f.right,f.right.left=f.left,f.parent=d,d.child?(f.left=d.child,f.right=d.child.right,d.child.right=f,f.right.left=f):(d.child=f,f.right=f,f.left=f),d.degree++,f.mark=!1};return i},{isClass:!0}),Gne=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],Wne=B("fix",["typed","ceil","floor"],e=>{var{typed:t,ceil:r,floor:n}=e;return t("fix",{number:function(a){return a>0?n(a):r(a)},"number, number":function(a,o){return a>0?n(a,o):r(a,o)}})}),Zne=B("fix",Gne,e=>{var{typed:t,Complex:r,matrix:n,ceil:i,floor:a,equalScalar:o,zeros:s,DenseMatrix:u}=e,c=Jr({typed:t,DenseMatrix:u}),l=Pi({typed:t}),f=Wne({typed:t,ceil:i,floor:a});return t("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(p){return new r(p.re>0?Math.floor(p.re):Math.ceil(p.re),p.im>0?Math.floor(p.im):Math.ceil(p.im))},"Complex, number":function(p,h){return new r(p.re>0?a(p.re,h):i(p.re,h),p.im>0?a(p.im,h):i(p.im,h))},"Complex, BigNumber":function(p,h){var m=h.toNumber();return new r(p.re>0?a(p.re,m):i(p.re,m),p.im>0?a(p.im,m):i(p.im,m))},BigNumber:function(p){return p.isNegative()?i(p):a(p)},"BigNumber, number | BigNumber":function(p,h){return p.isNegative()?i(p,h):a(p,h)},Fraction:function(p){return p.s<0?p.ceil():p.floor()},"Fraction, number | BigNumber":function(p,h){return p.s<0?i(p,h):a(p,h)},"Array | Matrix":t.referToSelf(d=>p=>At(p,d,!0)),"Array | Matrix, number | BigNumber":t.referToSelf(d=>(p,h)=>At(p,m=>d(m,h),!0)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(d=>(p,h)=>l(n(h),p,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(d=>(p,h)=>o(p,0)?s(h.size(),h.storage()):"dense"===h.storage()?l(h,p,d,!0):c(h,p,d,!0))})}),Qne=B("index",["typed","Index"],e=>{var{typed:t,Index:r}=e;return t("index",{"...number | string | BigNumber | Range | Array | Matrix":function(i){var a=i.map(function(s){return It(s)?s.toNumber():Qt(s)||Je(s)?s.map(function(u){return It(u)?u.toNumber():u}):s}),o=new r;return r.apply(o,a),o}})}),Jne=B("intersect",["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],e=>{var{typed:t,config:r,abs:n,add:i,addScalar:a,matrix:o,multiply:s,multiplyScalar:u,divideScalar:c,subtract:l,smaller:f,equalScalar:d,flatten:p,isZero:h,isNumeric:m}=e;return t("intersect",{"Array, Array, Array":y,"Array, Array, Array, Array":g,"Matrix, Matrix, Matrix":function(_,I,R){var k=y(_.valueOf(),I.valueOf(),R.valueOf());return null===k?null:o(k)},"Matrix, Matrix, Matrix, Matrix":function(_,I,R,k){var P=g(_.valueOf(),I.valueOf(),R.valueOf(),k.valueOf());return null===P?null:o(P)}});function y(N,_,I){if(N=x(N),_=x(_),I=x(I),!D(N))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!D(_))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function w(N){return 4===N.length&&m(N[0])&&m(N[1])&&m(N[2])&&m(N[3])}(I))throw new TypeError("Array with 4 numbers expected as third argument");return function E(N,_,I,R,k,P,T,S,q,F){var K=u(N,T),ne=u(R,T),Y=u(_,S),z=u(k,S),re=u(I,q),he=u(P,q),ie=l(l(l(F,K),Y),re),oe=l(l(l(a(a(ne,z),he),K),Y),re),pe=c(ie,oe);return[a(N,u(pe,l(R,N))),a(_,u(pe,l(k,_))),a(I,u(pe,l(P,I)))]}(N[0],N[1],N[2],_[0],_[1],_[2],I[0],I[1],I[2],I[3])}function g(N,_,I,R){if(N=x(N),_=x(_),I=x(I),R=x(R),2===N.length){if(!v(N))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!v(_))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!v(I))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!v(R))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function b(N,_,I,R){var k=N,P=I,T=l(k,_),S=l(P,R),q=l(u(T[0],S[1]),u(S[0],T[1]));if(h(q)||f(n(q),r.epsilon))return null;var F=u(S[0],k[1]),K=u(S[1],k[0]),ne=u(S[0],P[1]),Y=u(S[1],P[0]),z=c(a(l(l(F,K),ne),Y),q);return i(s(T,z),k)}(N,_,I,R)}if(3===N.length){if(!D(N))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!D(_))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!D(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!D(R))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return function C(N,_,I,R,k,P,T,S,q,F,K,ne){var Y=A(N,T,F,T,_,S,K,S,I,q,ne,q),z=A(F,T,R,N,K,S,k,_,ne,q,P,I),re=A(N,T,R,N,_,S,k,_,I,q,P,I),he=A(F,T,F,T,K,S,K,S,ne,q,ne,q),ie=A(R,N,R,N,k,_,k,_,P,I,P,I),oe=l(u(Y,z),u(re,he)),pe=l(u(ie,he),u(z,z));if(h(pe))return null;var ue=c(oe,pe),ce=c(a(Y,u(ue,z)),he),de=a(N,u(ue,l(R,N))),be=a(_,u(ue,l(k,_))),Fe=a(I,u(ue,l(P,I))),Ue=a(T,u(ce,l(F,T))),U=a(S,u(ce,l(K,S))),j=a(q,u(ce,l(ne,q)));return d(de,Ue)&&d(be,U)&&d(Fe,j)?[de,be,Fe]:null}(N[0],N[1],N[2],_[0],_[1],_[2],I[0],I[1],I[2],R[0],R[1],R[2])}throw new TypeError("Arrays with two or thee dimensional points expected")}function x(N){return 1===N.length?N[0]:N.length>1&&Array.isArray(N[0])&&N.every(_=>Array.isArray(_)&&1===_.length)?p(N):N}function v(N){return 2===N.length&&m(N[0])&&m(N[1])}function D(N){return 3===N.length&&m(N[0])&&m(N[1])&&m(N[2])}function A(N,_,I,R,k,P,T,S,q,F,K,ne){var Y=u(l(N,_),l(I,R)),z=u(l(k,P),l(T,S)),re=u(l(q,F),l(K,ne));return a(a(Y,z),re)}}),tie=B("invmod",["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],e=>{var{typed:t,BigNumber:n,xgcd:i,equal:a,smaller:o,mod:s,add:u,isInteger:c}=e;return t("invmod",{"number, number":l,"BigNumber, BigNumber":l});function l(f,d){if(!c(f)||!c(d))throw new Error("Parameters in function invmod must be integer numbers");if(f=s(f,d),a(d,0))throw new Error("Divisor must be non zero");var p=i(f,d);p=p.valueOf();var[h,m]=p;return a(h,n(1))?(m=s(m,d),o(m,n(0))&&(m=u(m,d)),m):NaN}}),nie=B("lcm",["typed","matrix","equalScalar","concat"],e=>{var{typed:t,matrix:r,equalScalar:n,concat:i}=e,a=Bi({typed:t,equalScalar:n}),o=fp({typed:t,equalScalar:n}),s=un({typed:t,equalScalar:n}),u=dr({typed:t,matrix:r,concat:i}),c="number | BigNumber | Fraction | Matrix | Array",l={};return l["".concat(c,", ").concat(c,", ...").concat(c)]=t.referToSelf(d=>(p,h,m)=>{for(var y=d(p,h),g=0;g<m.length;g++)y=d(y,m[g]);return y}),t("lcm",{"number, number":GS,"BigNumber, BigNumber":function f(d,p){if(!d.isInt()||!p.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(d.isZero())return d;if(p.isZero())return p;for(var h=d.times(p);!p.isZero();){var m=p;p=d.mod(m),d=m}return h.div(d).abs()},"Fraction, Fraction":(d,p)=>d.lcm(p)},u({SS:o,DS:a,Ss:s}),l)}),aie=B("log1p",["typed","config","divideScalar","log","Complex"],e=>{var{typed:t,config:r,divideScalar:n,log:i,Complex:a}=e;return t("log1p",{number:function(u){return u>=-1||r.predictable?MC(u):o(new a(u,0))},Complex:o,BigNumber:function(u){var c=u.plus(1);return!c.isNegative()||r.predictable?c.ln():o(new a(u.toNumber(),0))},"Array | Matrix":t.referToSelf(s=>u=>At(u,s)),"any, any":t.referToSelf(s=>(u,c)=>n(s(u),i(c)))});function o(s){var u=s.re+1;return new a(Math.log(Math.sqrt(u*u+s.im*s.im)),Math.atan2(s.im,u))}}),tT="setCartesian",sie=B(tT,["typed","size","subset","compareNatural","Index","DenseMatrix"],e=>{var{typed:t,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=e;return t(tT,{"Array | Matrix, Array | Matrix":function(u,c){var l=[];if(0!==n(r(u),new a(0))&&0!==n(r(c),new a(0))){var f=jt(Array.isArray(u)?u:u.toArray()).sort(i),d=jt(Array.isArray(c)?c:c.toArray()).sort(i);l=[];for(var p=0;p<f.length;p++)for(var h=0;h<d.length;h++)l.push([f[p],d[h]])}return Array.isArray(u)&&Array.isArray(c)?l:new o(l)}})}),rT="setDistinct",cie=B(rT,["typed","size","subset","compareNatural","Index","DenseMatrix"],e=>{var{typed:t,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=e;return t(rT,{"Array | Matrix":function(u){var c;if(0===n(r(u),new a(0)))c=[];else{var l=jt(Array.isArray(u)?u:u.toArray()).sort(i);(c=[]).push(l[0]);for(var f=1;f<l.length;f++)0!==i(l[f],l[f-1])&&c.push(l[f])}return Array.isArray(u)?c:new o(c)}})}),nT="setIsSubset",fie=B(nT,["typed","size","subset","compareNatural","Index"],e=>{var{typed:t,size:r,subset:n,compareNatural:i,Index:a}=e;return t(nT,{"Array | Matrix, Array | Matrix":function(s,u){if(0===n(r(s),new a(0)))return!0;if(0===n(r(u),new a(0)))return!1;for(var f,c=bu(jt(Array.isArray(s)?s:s.toArray()).sort(i)),l=bu(jt(Array.isArray(u)?u:u.toArray()).sort(i)),d=0;d<c.length;d++){f=!1;for(var p=0;p<l.length;p++)if(0===i(c[d].value,l[p].value)&&c[d].identifier===l[p].identifier){f=!0;break}if(!1===f)return!1}return!0}})}),iT="setPowerset",pie=B(iT,["typed","size","subset","compareNatural","Index"],e=>{var{typed:t,size:r,subset:n,compareNatural:i,Index:a}=e;return t(iT,{"Array | Matrix":function(c){if(0===n(r(c),new a(0)))return[];for(var l=jt(Array.isArray(c)?c:c.toArray()).sort(i),f=[],d=0;d.toString(2).length<=l.length;)f.push(o(l,d.toString(2).split("").reverse())),d++;return function s(u){for(var c=[],l=u.length-1;l>0;l--)for(var f=0;f<l;f++)u[f].length>u[f+1].length&&(c=u[f],u[f]=u[f+1],u[f+1]=c);return u}(f)}});function o(u,c){for(var l=[],f=0;f<c.length;f++)"1"===c[f]&&l.push(u[f]);return l}}),Rp="smallerEq",hie=B(Rp,["typed","config","matrix","DenseMatrix","concat"],e=>{var{typed:t,config:r,matrix:n,DenseMatrix:i,concat:a}=e,o=Pn({typed:t}),s=da({typed:t,DenseMatrix:i}),u=Jr({typed:t,DenseMatrix:i}),c=dr({typed:t,matrix:n,concat:a}),l=Su({typed:t});return t(Rp,vie({typed:t,config:r}),{"boolean, boolean":(f,d)=>f<=d,"BigNumber, BigNumber":function(d,p){return d.lte(p)||fa(d,p,r.epsilon)},"Fraction, Fraction":(f,d)=>1!==f.compare(d),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},l,c({SS:s,DS:o,Ss:u}))}),vie=B(Rp,["typed","config"],e=>{var{typed:t,config:r}=e;return t(Rp,{"number, number":function(i,a){return i<=a||ai(i,a,r.epsilon)}})}),yie=B("sort",["typed","matrix","compare","compareNatural"],e=>{var{typed:t,matrix:r,compare:n,compareNatural:i}=e,a=n,o=(l,f)=>-n(l,f);return t("sort",{Array:function(f){return u(f),f.sort(a)},Matrix:function(f){return c(f),r(f.toArray().sort(a),f.storage())},"Array, function":function(f,d){return u(f),f.sort(d)},"Matrix, function":function(f,d){return c(f),r(f.toArray().sort(d),f.storage())},"Array, string":function(f,d){return u(f),f.sort(s(d))},"Matrix, string":function(f,d){return c(f),r(f.toArray().sort(s(d)),f.storage())}});function s(l){if("asc"===l)return a;if("desc"===l)return o;if("natural"===l)return i;throw new Error('String "asc", "desc", or "natural" expected')}function u(l){if(1!==lt(l).length)throw new Error("One dimensional array expected")}function c(l){if(1!==l.size().length)throw new Error("One dimensional matrix expected")}}),oT="setDifference",Die=B(oT,["typed","size","subset","compareNatural","Index","DenseMatrix"],e=>{var{typed:t,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=e;return t(oT,{"Array | Matrix, Array | Matrix":function(u,c){var l;if(0===n(r(u),new a(0)))l=[];else{if(0===n(r(c),new a(0)))return jt(u.toArray());var f=bu(jt(Array.isArray(u)?u:u.toArray()).sort(i)),d=bu(jt(Array.isArray(c)?c:c.toArray()).sort(i));l=[];for(var p,h=0;h<f.length;h++){p=!1;for(var m=0;m<d.length;m++)if(0===i(f[h].value,d[m].value)&&f[h].identifier===d[m].identifier){p=!0;break}p||l.push(f[h])}}return Array.isArray(u)&&Array.isArray(c)?$d(l):new o($d(l))}})}),sT="setMultiplicity",xie=B(sT,["typed","size","subset","compareNatural","Index"],e=>{var{typed:t,size:r,subset:n,compareNatural:i,Index:a}=e;return t(sT,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(s,u){if(0===n(r(u),new a(0)))return 0;for(var c=jt(Array.isArray(u)?u:u.toArray()),l=0,f=0;f<c.length;f++)0===i(c[f],s)&&l++;return l}})}),uT="setSymDifference",Nie=B(uT,["typed","size","concat","subset","setDifference","Index"],e=>{var{typed:t,size:r,concat:n,subset:i,setDifference:a,Index:o}=e;return t(uT,{"Array | Matrix, Array | Matrix":function(u,c){if(0===i(r(u),new o(0)))return jt(c);if(0===i(r(c),new o(0)))return jt(u);var l=jt(u),f=jt(c);return n(a(l,f),a(f,l))}})}),Sie=B("Spa",["addScalar","equalScalar","FibonacciHeap"],e=>{var{addScalar:t,equalScalar:r,FibonacciHeap:n}=e;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,o){if(this._values[a])this._values[a].value=o;else{var s=this._heap.insert(a,o);this._values[a]=s}},i.prototype.get=function(a){var o=this._values[a];return o?o.value:0},i.prototype.accumulate=function(a,o){var s=this._values[a];s?s.value=t(s.value,o):(s=this._heap.insert(a,o),this._values[a]=s)},i.prototype.forEach=function(a,o,s){var u=this._heap,c=this._values,l=[],f=u.extractMinimum();for(f&&l.push(f);f&&f.key<=o;)f.key>=a&&(r(f.value,0)||s(f.key,f.value,this)),(f=u.extractMinimum())&&l.push(f);for(var d=0;d<l.length;d++){var p=l[d];c[(f=u.insert(p.key,p.value)).key]=f}},i.prototype.swap=function(a,o){var s=this._values[a],u=this._values[o];if(!s&&u)s=this._heap.insert(a,u.value),this._heap.remove(u),this._values[a]=s,this._values[o]=void 0;else if(s&&!u)u=this._heap.insert(o,s.value),this._heap.remove(s),this._values[o]=u,this._values[a]=void 0;else if(s&&u){var c=s.value;s.value=u.value,u.value=c}},i},{isClass:!0}),_ie=B("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],e=>{var{typed:t,matrix:r,divideScalar:n,addScalar:i,multiply:a,unaryMinus:o,det:s,identity:u,abs:c}=e;return t("inv",{"Array | Matrix":function(d){var p=Je(d)?d.size():lt(d);switch(p.length){case 1:if(1===p[0])return Je(d)?r([n(1,d.valueOf()[0])]):[n(1,d[0])];throw new RangeError("Matrix must be square (size: "+Nt(p)+")");case 2:var h=p[0],m=p[1];if(h===m)return Je(d)?r(l(d.valueOf(),h,m),d.storage()):l(d,h,m);throw new RangeError("Matrix must be square (size: "+Nt(p)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Nt(p)+")")}},any:function(d){return n(1,d)}});function l(f,d,p){var h,m,y,g,x;if(1===d){if(0===(g=f[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,g)]]}if(2===d){var v=s(f);if(0===v)throw Error("Cannot calculate inverse, determinant is zero");return[[n(f[1][1],v),n(o(f[0][1]),v)],[n(o(f[1][0]),v),n(f[0][0],v)]]}var D=f.concat();for(h=0;h<d;h++)D[h]=D[h].concat();for(var w=u(d).valueOf(),b=0;b<p;b++){var A=c(D[b][b]),C=b;for(h=b+1;h<d;)c(D[h][b])>A&&(A=c(D[h][b]),C=h),h++;if(0===A)throw Error("Cannot calculate inverse, determinant is zero");(h=C)!==b&&(x=D[b],D[b]=D[h],D[h]=x,x=w[b],w[b]=w[h],w[h]=x);var E=D[b],N=w[b];for(h=0;h<d;h++){var _=D[h],I=w[h];if(h!==b){if(0!==_[b]){for(y=n(o(_[b]),E[b]),m=b;m<p;m++)_[m]=i(_[m],a(y,E[m]));for(m=0;m<p;m++)I[m]=i(I[m],a(y,N[m]))}}else{for(y=E[b],m=b;m<p;m++)_[m]=n(_[m],y);for(m=0;m<p;m++)I[m]=n(I[m],y)}}}return w}}),Iie=B("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],e=>{var{typed:t,matrix:r,abs:n,addScalar:i,divideScalar:a,multiplyScalar:o,subtractScalar:s,larger:u,equalScalar:c,unaryMinus:l,DenseMatrix:f,SparseMatrix:d,Spa:p}=e;return t("lup",{DenseMatrix:function(g){return h(g)},SparseMatrix:function(g){return function m(y){var P,T,S,g=y._size[0],x=y._size[1],v=Math.min(g,x),D=y._values,w=y._index,b=y._ptr,A=[],C=[],E=[],N=[g,v],_=[],I=[],R=[],k=[v,x],q=[],F=[];for(P=0;P<g;P++)q[P]=P,F[P]=P;var ne=function(){var z=new p;T<g&&(E.push(A.length),A.push(1),C.push(T)),R.push(_.length);var he=b[T+1];for(S=b[T];S<he;S++)z.set(q[P=w[S]],D[S]);T>0&&z.forEach(0,T-1,function(ue,ce){d._forEachRow(ue,A,C,E,function(de,be){de>ue&&z.accumulate(de,l(o(be,ce)))})});var ie=T,oe=z.get(T),pe=n(oe);z.forEach(T+1,g-1,function(ue,ce){var de=n(ce);u(de,pe)&&(ie=ue,pe=de,oe=ce)}),T!==ie&&(d._swapRows(T,ie,N[1],A,C,E),d._swapRows(T,ie,k[1],_,I,R),z.swap(T,ie),function(z,re){var he=F[z],ie=F[re];q[he]=re,q[ie]=z,F[z]=ie,F[re]=he}(T,ie)),z.forEach(0,g-1,function(ue,ce){ue<=T?(_.push(ce),I.push(ue)):(ce=a(ce,oe),c(ce,0)||(A.push(ce),C.push(ue)))})};for(T=0;T<x;T++)ne();return R.push(_.length),E.push(A.length),{L:new d({values:A,index:C,ptr:E,size:N}),U:new d({values:_,index:I,ptr:R,size:k}),p:q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(g)},Array:function(g){var v=h(r(g));return{L:v.L.valueOf(),U:v.U.valueOf(),p:v.p}}});function h(y){var E,N,_,g=y._size[0],x=y._size[1],v=Math.min(g,x),D=ct(y._data),w=[],b=[g,v],A=[],C=[v,x],I=[];for(E=0;E<g;E++)I[E]=E;for(N=0;N<x;N++){if(N>0)for(E=0;E<g;E++){var R=Math.min(E,N),k=0;for(_=0;_<R;_++)k=i(k,o(D[E][_],D[_][N]));D[E][N]=s(D[E][N],k)}var P=N,T=0,S=0;for(E=N;E<g;E++){var q=D[E][N],F=n(q);u(F,T)&&(P=E,T=F,S=q)}if(N!==P&&(I[N]=[I[P],I[P]=I[N]][0],f._swapRows(N,P,D)),N<g)for(E=N+1;E<g;E++)c(D[E][N],0)||(D[E][N]=a(D[E][N],S))}for(N=0;N<x;N++)for(E=0;E<g;E++)0===N&&(E<x&&(A[E]=[]),w[E]=[]),E<N?(E<x&&(A[E][N]=D[E][N]),N<g&&(w[E][N]=0)):E!==N?(E<x&&(A[E][N]=0),N<g&&(w[E][N]=D[E][N])):(E<x&&(A[E][N]=D[E][N]),N<g&&(w[E][N]=1));var ne=new f({data:w,size:b}),Y=new f({data:A,size:C}),z=[];for(E=0,v=I.length;E<v;E++)z[I[E]]=E;return{L:ne,U:Y,p:z,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}),Oie=B("pinv",["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],e=>{var{typed:t,matrix:r,inv:n,deepEqual:i,equal:a,dotDivide:o,dot:s,ctranspose:u,divideScalar:c,multiply:l,add:f,Complex:d}=e;return t("pinv",{"Array | Matrix":function(v){var D=Je(v)?v.size():lt(v);switch(D.length){case 1:return g(v)?u(v):1===D[0]?n(v):o(u(v),s(v,v));case 2:if(g(v))return u(v);var w=D[0],b=D[1];if(w===b)try{return n(v)}catch(A){if(!(A instanceof Error&&A.message.match(/Cannot calculate inverse, determinant is zero/)))throw A}return Je(v)?r(p(v.valueOf(),w,b),v.storage()):p(v,w,b);default:throw new RangeError("Matrix must be two dimensional (size: "+Nt(D)+")")}},any:function(v){return a(v,0)?ct(v):c(1,v)}});function p(x,v,D){var{C:w,F:b}=function m(x,v,D){var w=function h(x,v,D){for(var w=ct(x),b=0,A=0;A<v;A++){if(D<=b)return w;for(var C=A;y(w[C][b]);)if(v===++C&&(C=A,D===++b))return w;[w[C],w[A]]=[w[A],w[C]];for(var E=w[A][b],N=0;N<D;N++)w[A][N]=o(w[A][N],E);for(var _=0;_<v;_++)if(_!==A){E=w[_][b];for(var I=0;I<D;I++)w[_][I]=f(w[_][I],l(-1,l(E,w[A][I])))}b++}return w}(x,v,D),b=x.map((C,E)=>C.filter((N,_)=>_<v&&!y(s(w[_],w[_]))));return{C:b,F:w.filter((C,E)=>!y(s(w[E],w[E])))}}(x,v,D),A=l(n(l(u(w),w)),u(w)),C=l(u(b),n(l(b,u(b))));return l(C,A)}function y(x){return a(f(x,d(1,1)),f(0,d(1,1)))}function g(x){return i(f(x,d(1,1)),f(l(x,0),d(1,1)))}}),Pie=B("pow",["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],e=>{var{typed:t,config:r,identity:n,multiply:i,matrix:a,inv:o,number:s,fraction:u,Complex:c}=e;return t("pow",{"number, number":l,"Complex, Complex":function(h,m){return h.pow(m)},"BigNumber, BigNumber":function(h,m){return m.isInteger()||h>=0||r.predictable?h.pow(m):new c(h.toNumber(),0).pow(m.toNumber(),0)},"Fraction, Fraction":function(h,m){var y=h.pow(m);if(null!=y)return y;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return l(h.valueOf(),m.valueOf())},"Array, number":f,"Array, BigNumber":function(h,m){return f(h,m.toNumber())},"Matrix, number":d,"Matrix, BigNumber":function(h,m){return d(h,m.toNumber())},"Unit, number | BigNumber":function(h,m){return h.pow(m)}});function l(p,h){if(r.predictable&&!We(h)&&p<0)try{var m=u(h),y=s(m);if((h===y||Math.abs((h-y)/h)<1e-14)&&m.d%2==1)return(m.n%2==0?1:-1)*Math.pow(-p,h)}catch{}return r.predictable&&(p<-1&&h===1/0||p>-1&&p<0&&h===-1/0)?NaN:We(h)||p>=0||r.predictable?KS(p,h):p*p<1&&h===1/0||p*p>1&&h===-1/0?0:new c(p,0).pow(h,0)}function f(p,h){if(!We(h))throw new TypeError("For A^b, b must be an integer (value is "+h+")");var m=lt(p);if(2!==m.length)throw new Error("For A^b, A must be 2 dimensional (A has "+m.length+" dimensions)");if(m[0]!==m[1])throw new Error("For A^b, A must be square (size is "+m[0]+"x"+m[1]+")");if(h<0)try{return f(o(p),-h)}catch(x){throw"Cannot calculate inverse, determinant is zero"===x.message?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+h+")"):x}for(var y=n(m[0]).valueOf(),g=p;h>=1;)1==(1&h)&&(y=i(g,y)),h>>=1,g=i(g,g);return y}function d(p,h){return a(f(p.valueOf(),h))}}),pT="setIntersect",Lie=B(pT,["typed","size","subset","compareNatural","Index","DenseMatrix"],e=>{var{typed:t,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=e;return t(pT,{"Array | Matrix, Array | Matrix":function(u,c){var l;if(0===n(r(u),new a(0))||0===n(r(c),new a(0)))l=[];else{var f=bu(jt(Array.isArray(u)?u:u.toArray()).sort(i)),d=bu(jt(Array.isArray(c)?c:c.toArray()).sort(i));l=[];for(var p=0;p<f.length;p++)for(var h=0;h<d.length;h++)if(0===i(f[p].value,d[h].value)&&f[p].identifier===d[h].identifier){l.push(f[p]);break}}return Array.isArray(u)&&Array.isArray(c)?$d(l):new o($d(l))}})}),mT="setUnion",zie=B(mT,["typed","size","concat","subset","setIntersect","setSymDifference","Index"],e=>{var{typed:t,size:r,concat:n,subset:i,setIntersect:a,setSymDifference:o,Index:s}=e;return t(mT,{"Array | Matrix, Array | Matrix":function(c,l){if(0===i(r(c),new s(0)))return jt(l);if(0===i(r(l),new s(0)))return jt(c);var f=jt(c),d=jt(l);return n(o(f,d),a(f,d))}})}),qie=B("sqrtm",["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],e=>{var{typed:t,abs:r,add:n,multiply:i,map:a,sqrt:o,subtract:s,inv:u,size:c,max:l,identity:f}=e,p=1e-6;return t("sqrtm",{"Array | Matrix":function(y){var g=Je(y)?y.size():lt(y);switch(g.length){case 1:if(1===g[0])return a(y,o);throw new RangeError("Matrix must be square (size: "+Nt(g)+")");case 2:if(g[0]===g[1])return function h(m){var y,g=0,x=m,v=f(c(m));do{var D=x;if(x=i(.5,n(D,u(v))),v=i(.5,n(v,u(D))),(y=l(r(s(x,D))))>p&&++g>1e3)throw new Error("computing square root of matrix: iterative method could not converge")}while(y>p);return x}(y);throw new RangeError("Matrix must be square (size: "+Nt(g)+")");default:throw new RangeError("Matrix must be at most two dimensional (size: "+Nt(g)+")")}}})});function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function B0(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(n){Kr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var $ie=B("Unit",["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],e=>{var D,w,b,{on:t,config:r,addScalar:n,subtractScalar:i,multiplyScalar:a,divideScalar:o,pow:s,abs:u,fix:c,round:l,equal:f,isNumeric:d,format:p,number:h,Complex:m,BigNumber:y,Fraction:g}=e,x=h;function v(U,j){if(!(this instanceof v))throw new Error("Constructor must be called with the new operator");if(null!=U&&!d(U)&&!Ta(U))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,void 0===j)this.units=[],this.dimensions=q.map(H=>0);else if("string"==typeof j){var se=v.parse(j);this.units=se.units,this.dimensions=se.dimensions}else{if(!hi(j)||null!==j.value)throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.fixPrefix=j.fixPrefix,this.skipAutomaticSimplification=j.skipAutomaticSimplification,this.dimensions=j.dimensions.slice(0),this.units=j.units.map(H=>Xr({},H))}this.value=this._normalize(U)}function A(){for(;" "===b||"\t"===b;)N()}function E(U){return U>="0"&&U<="9"}function N(){w++,b=D.charAt(w)}function _(U){b=D.charAt(w=U)}function I(){var U="",j=w;if("+"===b?N():"-"===b&&(U+=b,N()),!function C(U){return U>="0"&&U<="9"||"."===U}(b))return _(j),null;if("."===b){if(U+=b,N(),!E(b))return _(j),null}else{for(;E(b);)U+=b,N();"."===b&&(U+=b,N())}for(;E(b);)U+=b,N();if("E"===b||"e"===b){var se="",H=w;if(se+=b,N(),("+"===b||"-"===b)&&(se+=b,N()),!E(b))return _(H),U;for(U+=se;E(b);)U+=b,N()}return U}function R(){for(var U="";E(b)||v.isValidAlpha(b);)U+=b,N();var j=U.charAt(0);return v.isValidAlpha(j)?U:null}function k(U){return b===U?(N(),U):null}Object.defineProperty(v,"name",{value:"Unit"}),v.prototype.constructor=v,v.prototype.type="Unit",v.prototype.isUnit=!0,v.parse=function(U,j){if(j=j||{},w=-1,b="","string"!=typeof(D=U))throw new TypeError("Invalid argument in Unit.parse, string expected");var se=new v;se.units=[];var H=1,Q=!1;N(),A();var ee=I(),ve=null;if(ee){if("BigNumber"===r.number)ve=new y(ee);else if("Fraction"===r.number)try{ve=new g(ee)}catch{ve=parseFloat(ee)}else ve=parseFloat(ee);A(),k("*")?(H=1,Q=!0):k("/")&&(H=-1,Q=!0)}for(var ge=[],Be=1;;){for(A();"("===b;)ge.push(H),Be*=H,H=1,N(),A();var xe;if(!b)break;var nt=b;if(null===(xe=R()))throw new SyntaxError('Unexpected "'+nt+'" in "'+D+'" at index '+w.toString());var pt=P(xe);if(null===pt)throw new SyntaxError('Unit "'+xe+'" not found.');var Yt=H*Be;if(A(),k("^")){A();var pr=I();if(null===pr)throw new SyntaxError('In "'+U+'", "^" must be followed by a floating-point number');Yt*=pr}se.units.push({unit:pt.unit,prefix:pt.prefix,power:Yt});for(var Er=0;Er<q.length;Er++)se.dimensions[Er]+=(pt.unit.dimensions[Er]||0)*Yt;for(A();")"===b;){if(0===ge.length)throw new SyntaxError('Unmatched ")" in "'+D+'" at index '+w.toString());Be/=ge.pop(),N(),A()}Q=!1,k("*")?(H=1,Q=!0):k("/")?(H=-1,Q=!0):H=1,pt.unit.base&&(ie.auto[pt.unit.base.key]={unit:pt.unit,prefix:pt.prefix})}if(A(),b)throw new SyntaxError('Could not parse: "'+U+'"');if(Q)throw new SyntaxError('Trailing characters: "'+U+'"');if(0!==ge.length)throw new SyntaxError('Unmatched "(" in "'+D+'"');if(0===se.units.length&&!j.allowNoUnits)throw new SyntaxError('"'+U+'" contains no units');return se.value=void 0!==ve?se._normalize(ve):null,se},v.prototype.clone=function(){var U=new v;U.fixPrefix=this.fixPrefix,U.skipAutomaticSimplification=this.skipAutomaticSimplification,U.value=ct(this.value),U.dimensions=this.dimensions.slice(0),U.units=[];for(var j=0;j<this.units.length;j++)for(var se in U.units[j]={},this.units[j])Ge(this.units[j],se)&&(U.units[j][se]=this.units[j][se]);return U},v.prototype.valueType=function(){return or(this.value)},v.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},v.prototype._normalize=function(U){if(null==U||0===this.units.length)return U;for(var j=U,se=v._getNumberConverter(or(U)),H=0;H<this.units.length;H++){var Q=se(this.units[H].unit.value),ee=se(this.units[H].prefix.value),ve=se(this.units[H].power);j=a(j,s(a(Q,ee),ve))}return j},v.prototype._denormalize=function(U,j){if(null==U||0===this.units.length)return U;for(var se=U,H=v._getNumberConverter(or(U)),Q=0;Q<this.units.length;Q++){var ee=H(this.units[Q].unit.value),ve=H(this.units[Q].prefix.value),ge=H(this.units[Q].power);se=o(se,s(a(ee,ve),ge))}return se};var P=pl(U=>{if(Ge(z,U)){var j=z[U];return{unit:j,prefix:j.prefixes[""]}}for(var H in z)if(Ge(z,H)&&Mz(U,H)){var Q=z[H],ve=U.substring(0,U.length-H.length),ge=Ge(Q.prefixes,ve)?Q.prefixes[ve]:void 0;if(void 0!==ge)return{unit:Q,prefix:ge}}return null},{hasher:U=>U[0],limit:100});function T(U){return U.equalBase(F.NONE)&&null!==U.value&&!r.predictable?U.value:U}v.isValuelessUnit=function(U){return null!==P(U)},v.prototype.hasBase=function(U){if("string"==typeof U&&(U=F[U]),!U)return!1;for(var j=0;j<q.length;j++)if(Math.abs((this.dimensions[j]||0)-(U.dimensions[j]||0))>1e-12)return!1;return!0},v.prototype.equalBase=function(U){for(var j=0;j<q.length;j++)if(Math.abs((this.dimensions[j]||0)-(U.dimensions[j]||0))>1e-12)return!1;return!0},v.prototype.equals=function(U){return this.equalBase(U)&&f(this.value,U.value)},v.prototype.multiply=function(U){for(var j=this.clone(),se=hi(U)?U:new v(U),H=0;H<q.length;H++)j.dimensions[H]=(this.dimensions[H]||0)+(se.dimensions[H]||0);for(var Q=0;Q<se.units.length;Q++){var ee=B0({},se.units[Q]);j.units.push(ee)}if(null!==this.value||null!==se.value){var ve=null===this.value?this._normalize(1):this.value,ge=null===se.value?se._normalize(1):se.value;j.value=a(ve,ge)}else j.value=null;return hi(U)&&(j.skipAutomaticSimplification=!1),T(j)},v.prototype.divideInto=function(U){return new v(U).divide(this)},v.prototype.divide=function(U){for(var j=this.clone(),se=hi(U)?U:new v(U),H=0;H<q.length;H++)j.dimensions[H]=(this.dimensions[H]||0)-(se.dimensions[H]||0);for(var Q=0;Q<se.units.length;Q++){var ee=B0(B0({},se.units[Q]),{},{power:-se.units[Q].power});j.units.push(ee)}if(null!==this.value||null!==se.value){var ve=null===this.value?this._normalize(1):this.value,ge=null===se.value?se._normalize(1):se.value;j.value=o(ve,ge)}else j.value=null;return hi(U)&&(j.skipAutomaticSimplification=!1),T(j)},v.prototype.pow=function(U){for(var j=this.clone(),se=0;se<q.length;se++)j.dimensions[se]=(this.dimensions[se]||0)*U;for(var H=0;H<j.units.length;H++)j.units[H].power*=U;return j.value=null!==j.value?s(j.value,U):null,j.skipAutomaticSimplification=!1,T(j)},v.prototype.abs=function(){var U=this.clone();if(null!==U.value)if(U._isDerived()||0===U.units.length||0===U.units[0].unit.offset)U.value=u(U.value);else{var j=U._numberConverter(),se=j(U.units[0].unit.value),H=j(U.units[0].unit.offset),Q=a(se,H);U.value=i(u(n(U.value,Q)),Q)}for(var ee in U.units)("VA"===U.units[ee].unit.name||"VAR"===U.units[ee].unit.name)&&(U.units[ee].unit=z.W);return U},v.prototype.to=function(U){var se,j=null===this.value?this._normalize(1):this.value;if("string"==typeof U)se=v.parse(U);else{if(!hi(U))throw new Error("String or Unit expected as parameter");se=U.clone()}if(!this.equalBase(se))throw new Error("Units do not match ('".concat(se.toString(),"' != '").concat(this.toString(),"')"));if(null!==se.value)throw new Error("Cannot convert to a unit with a value");if(null===this.value||this._isDerived()||0===this.units.length||0===se.units.length||this.units[0].unit.offset===se.units[0].unit.offset)se.value=ct(j);else{var H=v._getNumberConverter(or(j)),ve=a(this.units[0].unit.value,this.units[0].unit.offset),xe=a(se.units[0].unit.value,se.units[0].unit.offset);se.value=n(j,H(i(ve,xe)))}return se.fixPrefix=!0,se.skipAutomaticSimplification=!0,se},v.prototype.toNumber=function(U){return x(this.toNumeric(U))},v.prototype.toNumeric=function(U){var j;return(j=U?this.to(U):this.clone())._isDerived()||0===j.units.length?j._denormalize(j.value):j._denormalize(j.value,j.units[0].prefix.value)},v.prototype.toString=function(){return this.format()},v.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},v.fromJSON=function(U){var j=new v(U.value,U.unit);return j.fixPrefix=U.fixPrefix||!1,j},v.prototype.valueOf=v.prototype.toString,v.prototype.simplify=function(){var se,Q,U=this.clone(),j=[];for(var H in oe)if(Ge(oe,H)&&U.hasBase(F[H])){se=H;break}if("NONE"===se)U.units=[];else if(se&&Ge(oe,se)&&(Q=oe[se]),Q)U.units=[{unit:Q.unit,prefix:Q.prefix,power:1}];else{for(var ee=!1,ve=0;ve<q.length;ve++){var ge=q[ve];Math.abs(U.dimensions[ve]||0)>1e-12&&(Ge(oe,ge)?j.push({unit:oe[ge].unit,prefix:oe[ge].prefix,power:U.dimensions[ve]||0}):ee=!0)}j.length<U.units.length&&!ee&&(U.units=j)}return U},v.prototype.toSI=function(){for(var U=this.clone(),j=[],se=0;se<q.length;se++){var H=q[se];if(Math.abs(U.dimensions[se]||0)>1e-12){if(!Ge(ie.si,H))throw new Error("Cannot express custom unit "+H+" in SI units");j.push({unit:ie.si[H].unit,prefix:ie.si[H].prefix,power:U.dimensions[se]||0})}}return U.units=j,U.fixPrefix=!0,U.skipAutomaticSimplification=!0,null!==this.value?(U.value=null,this.to(U)):U},v.prototype.formatUnits=function(){for(var U="",j="",se=0,H=0,Q=0;Q<this.units.length;Q++)this.units[Q].power>0?(se++,U+=" "+this.units[Q].prefix.name+this.units[Q].unit.name,Math.abs(this.units[Q].power-1)>1e-15&&(U+="^"+this.units[Q].power)):this.units[Q].power<0&&H++;if(H>0)for(var ee=0;ee<this.units.length;ee++)this.units[ee].power<0&&(se>0?(j+=" "+this.units[ee].prefix.name+this.units[ee].unit.name,Math.abs(this.units[ee].power+1)>1e-15&&(j+="^"+-this.units[ee].power)):(j+=" "+this.units[ee].prefix.name+this.units[ee].unit.name,j+="^"+this.units[ee].power));U=U.substr(1),j=j.substr(1),se>1&&H>0&&(U="("+U+")"),H>1&&se>0&&(j="("+j+")");var ve=U;return se>0&&H>0&&(ve+=" / "),ve+j},v.prototype.format=function(U){var j=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),se=!1;for(var H in typeof j.value<"u"&&null!==j.value&&Ta(j.value)&&(se=Math.abs(j.value.re)<1e-14),j.units)Ge(j.units,H)&&j.units[H].unit&&("VA"===j.units[H].unit.name&&se?j.units[H].unit=z.VAR:"VAR"===j.units[H].unit.name&&!se&&(j.units[H].unit=z.VA));1===j.units.length&&!j.fixPrefix&&Math.abs(j.units[0].power-Math.round(j.units[0].power))<1e-14&&(j.units[0].prefix=j._bestPrefix());var Q=j._denormalize(j.value),ee=null!==j.value?p(Q,U||{}):"",ve=j.formatUnits();return j.value&&Ta(j.value)&&(ee="("+ee+")"),ve.length>0&&ee.length>0&&(ee+=" "),ee+ve},v.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var U=null!==this.value?u(this.value):0,j=u(this.units[0].unit.value),se=this.units[0].prefix;if(0===U)return se;var H=this.units[0].power,Q=Math.log(U/Math.pow(se.value*j,H))/Math.LN10-1.2;if(Q>-2.200001&&Q<1.800001)return se;Q=Math.abs(Q);var ee=this.units[0].unit.prefixes;for(var ve in ee)if(Ge(ee,ve)){var ge=ee[ve];if(ge.scientific){var Be=Math.abs(Math.log(U/Math.pow(ge.value*j,H))/Math.LN10-1.2);(Be<Q||Be===Q&&ge.name.length<se.name.length)&&(se=ge,Q=Be)}}return se},v.prototype.splitUnit=function(U){for(var j=this.clone(),se=[],H=0;H<U.length&&(j=j.to(U[H]),H!==U.length-1);H++){var Q=j.toNumeric(),ee=l(Q),Be=new v(f(ee,Q)?ee:c(j.toNumeric()),U[H].toString());se.push(Be),j=i(j,Be)}for(var xe=0,nt=0;nt<se.length;nt++)xe=n(xe,se[nt].value);return f(xe,this.value)&&(j.value=0),se.push(j),se};var S={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};S.SHORTLONG=Xr({},S.SHORT,S.LONG),S.BINARY_SHORT=Xr({},S.BINARY_SHORT_SI,S.BINARY_SHORT_IEC),S.BINARY_LONG=Xr({},S.BINARY_LONG_SI,S.BINARY_LONG_IEC);var q=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],F={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var K in F)Ge(F,K)&&(F[K].key=K);var Y={name:"",base:{},value:1,offset:0,dimensions:q.map(U=>0)},z={meter:{name:"meter",base:F.LENGTH,prefixes:S.LONG,value:1,offset:0},inch:{name:"inch",base:F.LENGTH,prefixes:S.NONE,value:.0254,offset:0},foot:{name:"foot",base:F.LENGTH,prefixes:S.NONE,value:.3048,offset:0},yard:{name:"yard",base:F.LENGTH,prefixes:S.NONE,value:.9144,offset:0},mile:{name:"mile",base:F.LENGTH,prefixes:S.NONE,value:1609.344,offset:0},link:{name:"link",base:F.LENGTH,prefixes:S.NONE,value:.201168,offset:0},rod:{name:"rod",base:F.LENGTH,prefixes:S.NONE,value:5.0292,offset:0},chain:{name:"chain",base:F.LENGTH,prefixes:S.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:F.LENGTH,prefixes:S.NONE,value:1e-10,offset:0},m:{name:"m",base:F.LENGTH,prefixes:S.SHORT,value:1,offset:0},in:{name:"in",base:F.LENGTH,prefixes:S.NONE,value:.0254,offset:0},ft:{name:"ft",base:F.LENGTH,prefixes:S.NONE,value:.3048,offset:0},yd:{name:"yd",base:F.LENGTH,prefixes:S.NONE,value:.9144,offset:0},mi:{name:"mi",base:F.LENGTH,prefixes:S.NONE,value:1609.344,offset:0},li:{name:"li",base:F.LENGTH,prefixes:S.NONE,value:.201168,offset:0},rd:{name:"rd",base:F.LENGTH,prefixes:S.NONE,value:5.02921,offset:0},ch:{name:"ch",base:F.LENGTH,prefixes:S.NONE,value:20.1168,offset:0},mil:{name:"mil",base:F.LENGTH,prefixes:S.NONE,value:254e-7,offset:0},m2:{name:"m2",base:F.SURFACE,prefixes:S.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:F.SURFACE,prefixes:S.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:F.SURFACE,prefixes:S.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:F.SURFACE,prefixes:S.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:F.SURFACE,prefixes:S.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:F.SURFACE,prefixes:S.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:F.SURFACE,prefixes:S.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:F.SURFACE,prefixes:S.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:F.SURFACE,prefixes:S.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:F.SURFACE,prefixes:S.NONE,value:1e4,offset:0},m3:{name:"m3",base:F.VOLUME,prefixes:S.CUBIC,value:1,offset:0},L:{name:"L",base:F.VOLUME,prefixes:S.SHORT,value:.001,offset:0},l:{name:"l",base:F.VOLUME,prefixes:S.SHORT,value:.001,offset:0},litre:{name:"litre",base:F.VOLUME,prefixes:S.LONG,value:.001,offset:0},cuin:{name:"cuin",base:F.VOLUME,prefixes:S.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:F.VOLUME,prefixes:S.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:F.VOLUME,prefixes:S.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:F.VOLUME,prefixes:S.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:F.VOLUME,prefixes:S.NONE,value:15e-6,offset:0},drop:{name:"drop",base:F.VOLUME,prefixes:S.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:F.VOLUME,prefixes:S.NONE,value:5e-8,offset:0},minim:{name:"minim",base:F.VOLUME,prefixes:S.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:F.VOLUME,prefixes:S.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:F.VOLUME,prefixes:S.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:F.VOLUME,prefixes:S.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:F.VOLUME,prefixes:S.NONE,value:1e-6,offset:0},cup:{name:"cup",base:F.VOLUME,prefixes:S.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:F.VOLUME,prefixes:S.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:F.VOLUME,prefixes:S.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:F.VOLUME,prefixes:S.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:F.VOLUME,prefixes:S.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:F.VOLUME,prefixes:S.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:F.VOLUME,prefixes:S.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:F.VOLUME,prefixes:S.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:F.VOLUME,prefixes:S.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:F.VOLUME,prefixes:S.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:F.VOLUME,prefixes:S.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:F.VOLUME,prefixes:S.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:F.VOLUME,prefixes:S.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:F.VOLUME,prefixes:S.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:F.VOLUME,prefixes:S.NONE,value:.1173478,offset:0},obl:{name:"obl",base:F.VOLUME,prefixes:S.NONE,value:.1589873,offset:0},g:{name:"g",base:F.MASS,prefixes:S.SHORT,value:.001,offset:0},gram:{name:"gram",base:F.MASS,prefixes:S.LONG,value:.001,offset:0},ton:{name:"ton",base:F.MASS,prefixes:S.SHORT,value:907.18474,offset:0},t:{name:"t",base:F.MASS,prefixes:S.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:F.MASS,prefixes:S.LONG,value:1e3,offset:0},grain:{name:"grain",base:F.MASS,prefixes:S.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:F.MASS,prefixes:S.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:F.MASS,prefixes:S.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:F.MASS,prefixes:S.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:F.MASS,prefixes:S.NONE,value:45.359237,offset:0},stick:{name:"stick",base:F.MASS,prefixes:S.NONE,value:.115,offset:0},stone:{name:"stone",base:F.MASS,prefixes:S.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:F.MASS,prefixes:S.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:F.MASS,prefixes:S.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:F.MASS,prefixes:S.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:F.MASS,prefixes:S.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:F.MASS,prefixes:S.NONE,value:45.359237,offset:0},s:{name:"s",base:F.TIME,prefixes:S.SHORT,value:1,offset:0},min:{name:"min",base:F.TIME,prefixes:S.NONE,value:60,offset:0},h:{name:"h",base:F.TIME,prefixes:S.NONE,value:3600,offset:0},second:{name:"second",base:F.TIME,prefixes:S.LONG,value:1,offset:0},sec:{name:"sec",base:F.TIME,prefixes:S.LONG,value:1,offset:0},minute:{name:"minute",base:F.TIME,prefixes:S.NONE,value:60,offset:0},hour:{name:"hour",base:F.TIME,prefixes:S.NONE,value:3600,offset:0},day:{name:"day",base:F.TIME,prefixes:S.NONE,value:86400,offset:0},week:{name:"week",base:F.TIME,prefixes:S.NONE,value:604800,offset:0},month:{name:"month",base:F.TIME,prefixes:S.NONE,value:2629800,offset:0},year:{name:"year",base:F.TIME,prefixes:S.NONE,value:31557600,offset:0},decade:{name:"decade",base:F.TIME,prefixes:S.NONE,value:315576e3,offset:0},century:{name:"century",base:F.TIME,prefixes:S.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:F.TIME,prefixes:S.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:F.FREQUENCY,prefixes:S.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:F.FREQUENCY,prefixes:S.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:F.ANGLE,prefixes:S.SHORT,value:1,offset:0},radian:{name:"radian",base:F.ANGLE,prefixes:S.LONG,value:1,offset:0},deg:{name:"deg",base:F.ANGLE,prefixes:S.SHORT,value:null,offset:0},degree:{name:"degree",base:F.ANGLE,prefixes:S.LONG,value:null,offset:0},grad:{name:"grad",base:F.ANGLE,prefixes:S.SHORT,value:null,offset:0},gradian:{name:"gradian",base:F.ANGLE,prefixes:S.LONG,value:null,offset:0},cycle:{name:"cycle",base:F.ANGLE,prefixes:S.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:F.ANGLE,prefixes:S.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:F.ANGLE,prefixes:S.NONE,value:null,offset:0},A:{name:"A",base:F.CURRENT,prefixes:S.SHORT,value:1,offset:0},ampere:{name:"ampere",base:F.CURRENT,prefixes:S.LONG,value:1,offset:0},K:{name:"K",base:F.TEMPERATURE,prefixes:S.SHORT,value:1,offset:0},degC:{name:"degC",base:F.TEMPERATURE,prefixes:S.SHORT,value:1,offset:273.15},degF:{name:"degF",base:F.TEMPERATURE,prefixes:S.SHORT,value:new g(5,9),offset:459.67},degR:{name:"degR",base:F.TEMPERATURE,prefixes:S.SHORT,value:new g(5,9),offset:0},kelvin:{name:"kelvin",base:F.TEMPERATURE,prefixes:S.LONG,value:1,offset:0},celsius:{name:"celsius",base:F.TEMPERATURE,prefixes:S.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:F.TEMPERATURE,prefixes:S.LONG,value:new g(5,9),offset:459.67},rankine:{name:"rankine",base:F.TEMPERATURE,prefixes:S.LONG,value:new g(5,9),offset:0},mol:{name:"mol",base:F.AMOUNT_OF_SUBSTANCE,prefixes:S.SHORT,value:1,offset:0},mole:{name:"mole",base:F.AMOUNT_OF_SUBSTANCE,prefixes:S.LONG,value:1,offset:0},cd:{name:"cd",base:F.LUMINOUS_INTENSITY,prefixes:S.SHORT,value:1,offset:0},candela:{name:"candela",base:F.LUMINOUS_INTENSITY,prefixes:S.LONG,value:1,offset:0},N:{name:"N",base:F.FORCE,prefixes:S.SHORT,value:1,offset:0},newton:{name:"newton",base:F.FORCE,prefixes:S.LONG,value:1,offset:0},dyn:{name:"dyn",base:F.FORCE,prefixes:S.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:F.FORCE,prefixes:S.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:F.FORCE,prefixes:S.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:F.FORCE,prefixes:S.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:F.FORCE,prefixes:S.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:F.FORCE,prefixes:S.NONE,value:9.80665,offset:0},J:{name:"J",base:F.ENERGY,prefixes:S.SHORT,value:1,offset:0},joule:{name:"joule",base:F.ENERGY,prefixes:S.LONG,value:1,offset:0},erg:{name:"erg",base:F.ENERGY,prefixes:S.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:F.ENERGY,prefixes:S.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:F.ENERGY,prefixes:S.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:F.ENERGY,prefixes:S.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:F.ENERGY,prefixes:S.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:F.POWER,prefixes:S.SHORT,value:1,offset:0},watt:{name:"watt",base:F.POWER,prefixes:S.LONG,value:1,offset:0},hp:{name:"hp",base:F.POWER,prefixes:S.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:F.POWER,prefixes:S.SHORT,value:m.I,offset:0},VA:{name:"VA",base:F.POWER,prefixes:S.SHORT,value:1,offset:0},Pa:{name:"Pa",base:F.PRESSURE,prefixes:S.SHORT,value:1,offset:0},psi:{name:"psi",base:F.PRESSURE,prefixes:S.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:F.PRESSURE,prefixes:S.NONE,value:101325,offset:0},bar:{name:"bar",base:F.PRESSURE,prefixes:S.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:F.PRESSURE,prefixes:S.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:F.PRESSURE,prefixes:S.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:F.PRESSURE,prefixes:S.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:F.PRESSURE,prefixes:S.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:F.ELECTRIC_CHARGE,prefixes:S.LONG,value:1,offset:0},C:{name:"C",base:F.ELECTRIC_CHARGE,prefixes:S.SHORT,value:1,offset:0},farad:{name:"farad",base:F.ELECTRIC_CAPACITANCE,prefixes:S.LONG,value:1,offset:0},F:{name:"F",base:F.ELECTRIC_CAPACITANCE,prefixes:S.SHORT,value:1,offset:0},volt:{name:"volt",base:F.ELECTRIC_POTENTIAL,prefixes:S.LONG,value:1,offset:0},V:{name:"V",base:F.ELECTRIC_POTENTIAL,prefixes:S.SHORT,value:1,offset:0},ohm:{name:"ohm",base:F.ELECTRIC_RESISTANCE,prefixes:S.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:F.ELECTRIC_INDUCTANCE,prefixes:S.LONG,value:1,offset:0},H:{name:"H",base:F.ELECTRIC_INDUCTANCE,prefixes:S.SHORT,value:1,offset:0},siemens:{name:"siemens",base:F.ELECTRIC_CONDUCTANCE,prefixes:S.LONG,value:1,offset:0},S:{name:"S",base:F.ELECTRIC_CONDUCTANCE,prefixes:S.SHORT,value:1,offset:0},weber:{name:"weber",base:F.MAGNETIC_FLUX,prefixes:S.LONG,value:1,offset:0},Wb:{name:"Wb",base:F.MAGNETIC_FLUX,prefixes:S.SHORT,value:1,offset:0},tesla:{name:"tesla",base:F.MAGNETIC_FLUX_DENSITY,prefixes:S.LONG,value:1,offset:0},T:{name:"T",base:F.MAGNETIC_FLUX_DENSITY,prefixes:S.SHORT,value:1,offset:0},b:{name:"b",base:F.BIT,prefixes:S.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:F.BIT,prefixes:S.BINARY_LONG,value:1,offset:0},B:{name:"B",base:F.BIT,prefixes:S.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:F.BIT,prefixes:S.BINARY_LONG,value:8,offset:0}},re={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function he(U){if("BigNumber"===U.number){var j=N0(y);z.rad.value=new y(1),z.deg.value=j.div(180),z.grad.value=j.div(200),z.cycle.value=j.times(2),z.arcsec.value=j.div(648e3),z.arcmin.value=j.div(10800)}else z.rad.value=1,z.deg.value=Math.PI/180,z.grad.value=Math.PI/200,z.cycle.value=2*Math.PI,z.arcsec.value=Math.PI/648e3,z.arcmin.value=Math.PI/10800;z.radian.value=z.rad.value,z.degree.value=z.deg.value,z.gradian.value=z.grad.value}he(r),t&&t("config",function(U,j){U.number!==j.number&&he(U)});var ie={si:{NONE:{unit:Y,prefix:S.NONE[""]},LENGTH:{unit:z.m,prefix:S.SHORT[""]},MASS:{unit:z.g,prefix:S.SHORT.k},TIME:{unit:z.s,prefix:S.SHORT[""]},CURRENT:{unit:z.A,prefix:S.SHORT[""]},TEMPERATURE:{unit:z.K,prefix:S.SHORT[""]},LUMINOUS_INTENSITY:{unit:z.cd,prefix:S.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:z.mol,prefix:S.SHORT[""]},ANGLE:{unit:z.rad,prefix:S.SHORT[""]},BIT:{unit:z.bits,prefix:S.SHORT[""]},FORCE:{unit:z.N,prefix:S.SHORT[""]},ENERGY:{unit:z.J,prefix:S.SHORT[""]},POWER:{unit:z.W,prefix:S.SHORT[""]},PRESSURE:{unit:z.Pa,prefix:S.SHORT[""]},ELECTRIC_CHARGE:{unit:z.C,prefix:S.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:z.F,prefix:S.SHORT[""]},ELECTRIC_POTENTIAL:{unit:z.V,prefix:S.SHORT[""]},ELECTRIC_RESISTANCE:{unit:z.ohm,prefix:S.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:z.H,prefix:S.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:z.S,prefix:S.SHORT[""]},MAGNETIC_FLUX:{unit:z.Wb,prefix:S.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:z.T,prefix:S.SHORT[""]},FREQUENCY:{unit:z.Hz,prefix:S.SHORT[""]}}};ie.cgs=JSON.parse(JSON.stringify(ie.si)),ie.cgs.LENGTH={unit:z.m,prefix:S.SHORT.c},ie.cgs.MASS={unit:z.g,prefix:S.SHORT[""]},ie.cgs.FORCE={unit:z.dyn,prefix:S.SHORT[""]},ie.cgs.ENERGY={unit:z.erg,prefix:S.NONE[""]},ie.us=JSON.parse(JSON.stringify(ie.si)),ie.us.LENGTH={unit:z.ft,prefix:S.NONE[""]},ie.us.MASS={unit:z.lbm,prefix:S.NONE[""]},ie.us.TEMPERATURE={unit:z.degF,prefix:S.NONE[""]},ie.us.FORCE={unit:z.lbf,prefix:S.NONE[""]},ie.us.ENERGY={unit:z.BTU,prefix:S.BTU[""]},ie.us.POWER={unit:z.hp,prefix:S.NONE[""]},ie.us.PRESSURE={unit:z.psi,prefix:S.NONE[""]},ie.auto=JSON.parse(JSON.stringify(ie.si));var oe=ie.auto;for(var pe in v.setUnitSystem=function(U){if(!Ge(ie,U))throw new Error("Unit system "+U+" does not exist. Choices are: "+Object.keys(ie).join(", "));oe=ie[U]},v.getUnitSystem=function(){for(var U in ie)if(Ge(ie,U)&&ie[U]===oe)return U},v.typeConverters={BigNumber:function(j){return null!=j&&j.isFraction?new y(j.n).div(j.d).times(j.s):new y(j+"")},Fraction:function(j){return new g(j)},Complex:function(j){return j},number:function(j){return null!=j&&j.isFraction?h(j):j}},v.prototype._numberConverter=function(){var U=v.typeConverters[this.valueType()];if(U)return U;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},v._getNumberConverter=function(U){if(!v.typeConverters[U])throw new TypeError('Unsupported type "'+U+'"');return v.typeConverters[U]},z)if(Ge(z,pe)){var ue=z[pe];ue.dimensions=ue.base.dimensions}for(var ce in re)if(Ge(re,ce)){var de=z[re[ce]],be={};for(var Fe in de)Ge(de,Fe)&&(be[Fe]=de[Fe]);be.name=ce,z[ce]=be}return v.isValidAlpha=function(j){return/^[a-zA-Z]$/.test(j)},v.createUnit=function(U,j){if("object"!=typeof U)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(j&&j.override)for(var se in U)if(Ge(U,se)&&v.deleteUnit(se),U[se].aliases)for(var H=0;H<U[se].aliases.length;H++)v.deleteUnit(U[se].aliases[H]);var Q;for(var ee in U)Ge(U,ee)&&(Q=v.createUnitSingle(ee,U[ee]));return Q},v.createUnitSingle=function(U,j){if((typeof j>"u"||null===j)&&(j={}),"string"!=typeof U)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Ge(z,U))throw new Error('Cannot create unit "'+U+'": a unit with that name already exists');!function Ue(U){for(var j=0;j<U.length;j++){if(b=U.charAt(j),0===j&&!v.isValidAlpha(b))throw new Error('Invalid unit name (must begin with alpha character): "'+U+'"');if(j>0&&!v.isValidAlpha(b)&&!E(b))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+U+'"')}}(U);var ee,ve,ge,se=null,H=[],Q=0;if(j&&"Unit"===j.type)se=j.clone();else if("string"==typeof j)""!==j&&(ee=j);else{if("object"!=typeof j)throw new TypeError('Cannot create unit "'+U+'" from "'+j.toString()+'": expecting "string" or "Unit" or "Object"');ee=j.definition,ve=j.prefixes,Q=j.offset,ge=j.baseName,j.aliases&&(H=j.aliases.valueOf())}if(H)for(var Be=0;Be<H.length;Be++)if(Ge(z,H[Be]))throw new Error('Cannot create alias "'+H[Be]+'": a unit with that name already exists');if(ee&&"string"==typeof ee&&!se)try{se=v.parse(ee,{allowNoUnits:!0})}catch(M){throw M.message='Could not create unit "'+U+'" from "'+ee+'": '+M.message,M}else ee&&"Unit"===ee.type&&(se=ee.clone());H=H||[],Q=Q||0,ve=ve&&ve.toUpperCase&&S[ve.toUpperCase()]||S.NONE;var xe={};if(se){xe={name:U,value:se.value,dimensions:se.dimensions.slice(0),prefixes:ve,offset:Q};var pr=!1;for(var Er in F)if(Ge(F,Er)){for(var Un=!0,Nn=0;Nn<q.length;Nn++)if(Math.abs((xe.dimensions[Nn]||0)-(F[Er].dimensions[Nn]||0))>1e-12){Un=!1;break}if(Un){pr=!0,xe.base=F[Er];break}}if(!pr){ge=ge||U+"_STUFF";var wo={dimensions:se.dimensions.slice(0)};wo.key=ge,F[ge]=wo,oe[ge]={unit:xe,prefix:S.NONE[""]},xe.base=F[ge]}}else{if(q.indexOf(ge=ge||U+"_STUFF")>=0)throw new Error('Cannot create new base unit "'+U+'": a base unit with that name already exists (and cannot be overridden)');for(var nt in q.push(ge),F)Ge(F,nt)&&(F[nt].dimensions[q.length-1]=0);for(var pt={dimensions:[]},Yt=0;Yt<q.length;Yt++)pt.dimensions[Yt]=0;pt.dimensions[q.length-1]=1,pt.key=ge,F[ge]=pt,xe={name:U,value:1,dimensions:F[ge].dimensions.slice(0),prefixes:ve,offset:Q,base:F[ge]},oe[ge]={unit:xe,prefix:S.NONE[""]}}v.UNITS[U]=xe;for(var ha=0;ha<H.length;ha++){var Hi=H[ha],qt={};for(var xo in xe)Ge(xe,xo)&&(qt[xo]=xe[xo]);qt.name=Hi,v.UNITS[Hi]=qt}return delete P.cache,new v(null,U)},v.deleteUnit=function(U){delete v.UNITS[U]},v.PREFIXES=S,v.BASE_DIMENSIONS=q,v.BASE_UNITS=F,v.UNIT_SYSTEMS=ie,v.UNITS=z,v},{isClass:!0}),Gie=B("dotPow",["typed","equalScalar","matrix","pow","DenseMatrix","concat"],e=>{var{typed:t,equalScalar:r,matrix:n,pow:i,DenseMatrix:a,concat:o}=e,s=Pn({typed:t}),u=da({typed:t,DenseMatrix:a}),c=un({typed:t,equalScalar:r}),l=Jr({typed:t,DenseMatrix:a}),f=dr({typed:t,matrix:n,concat:o}),d={};for(var p in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,p)&&!p.includes("Matrix")&&!p.includes("Array")&&(d[p]=i.signatures[p]);var h=t(d);return t("dotPow",f({elop:h,SS:u,DS:s,Ss:c,sS:l}))}),Zie=B("expm",["typed","abs","add","identity","inv","multiply"],e=>{var{typed:t,abs:r,add:n,identity:i,inv:a,multiply:o}=e;return t("expm",{Matrix:function(f){var d=f.size();if(2!==d.length||d[0]!==d[1])throw new RangeError("Matrix must be square (size: "+Nt(d)+")");for(var p=d[0],m=function s(l){for(var f=l.size()[0],d=0,p=0;p<f;p++){for(var h=0,m=0;m<f;m++)h+=r(l.get([p,m]));d=Math.max(h,d)}return d}(f),y=function u(l,f){for(var p=0;p<30;p++)for(var h=0;h<=p;h++){var m=p-h;if(c(l,h,m)<f)return{q:h,j:m}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(m,1e-15),g=y.q,x=y.j,v=o(f,Math.pow(2,-x)),D=i(p),w=i(p),b=1,A=v,C=-1,E=1;E<=g;E++)E>1&&(A=o(A,v),C=-C),D=n(D,o(b=b*(g-E+1)/((2*g-E+1)*E),A)),w=n(w,o(b*C,A));for(var N=o(a(w),D),_=0;_<x;_++)N=o(N,N);return jo(f)?f.createSparseMatrix(N):N}});function c(l,f,d){for(var p=1,h=2;h<=f;h++)p*=h;for(var m=p,y=f+1;y<=2*f;y++)m*=y;var g=m*(2*f+1);return 8*Math.pow(l/Math.pow(2,d),2*f)*p*p/(m*g)}}),Qie=B("fft",["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],e=>{var{typed:t,addScalar:n,multiplyScalar:i,divideScalar:a,exp:o,tau:s,i:u,dotDivide:c,conj:l,pow:f,ceil:d,log2:p}=e;return t("fft",{Array:h,Matrix:function(v){return v.create(h(v.toArray()))}});function h(x){var v=lt(x);return 1===v.length?g(x):m(x.map(D=>h(D,v.slice(1))),0)}function m(x,v){var D=lt(x);if(0!==v)return new Array(D[0]).fill(0).map((b,A)=>m(x[A],v-1));if(1===D.length)return g(x);function w(b){var A=lt(b);return new Array(A[1]).fill(0).map((C,E)=>new Array(A[0]).fill(0).map((N,_)=>b[_][E]))}return w(m(w(x),1))}function g(x){var v=x.length;if(1===v)return[x[0]];if(v%2==0){for(var D=[...g(x.filter((C,E)=>E%2==0)),...g(x.filter((C,E)=>E%2==1))],w=0;w<v/2;w++){var b=D[w],A=i(D[w+v/2],o(i(i(s,u),a(-w,v))));D[w]=n(b,A),D[w+v/2]=n(b,i(-1,A))}return D}return function y(x){for(var v=x.length,D=o(a(i(-1,i(u,s)),v)),w=[],b=1-v;b<v;b++)w.push(f(D,a(f(b,2),2)));for(var A=f(2,d(p(v+v-1))),C=[...new Array(v).fill(0).map((T,S)=>i(x[S],w[v-1+S])),...new Array(A-v).fill(0)],E=[...new Array(v+v-1).fill(0).map((T,S)=>a(1,w[S])),...new Array(A-(v+v-1)).fill(0)],N=g(C),_=g(E),I=new Array(A).fill(0).map((T,S)=>i(N[S],_[S])),R=c(l(h(l(I))),A),k=[],P=v-1;P<v+v-1;P++)k.push(i(R[P],w[P]));return k}(x)}}),Kie=B("gamma",["typed","config","multiplyScalar","pow","BigNumber","Complex"],e=>{var{typed:t,config:r,BigNumber:a,Complex:o}=e;return t("gamma",{number:Ap,Complex:function s(c){if(0===c.im)return Ap(c.re);if(c.re<.5){var l=new o(1-c.re,-c.im),f=new o(Math.PI*c.re,Math.PI*c.im);return new o(Math.PI).div(f.sin()).div(s(l))}c=new o(c.re-1,c.im);for(var d=new o(_u[0],0),p=1;p<_u.length;++p){var h=new o(_u[p],0);d=d.add(h.div(c.add(p)))}var m=new o(c.re+KM+.5,c.im),y=Math.sqrt(2*Math.PI),g=m.pow(c.add(.5)),x=m.neg().exp();return d.mul(y).mul(g).mul(x)},BigNumber:function(l){if(l.isInteger())return l.isNegative()||l.isZero()?new a(1/0):u(l.minus(1));if(!l.isFinite())return new a(l.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function u(c){if(c<8)return new a([1,1,2,6,24,120,720,5040][c]);var l=r.precision+(0|Math.log(c.toNumber())),f=a.clone({precision:l});if(c%2==1)return c.times(u(new a(c-1)));for(var d=c,p=new f(c),h=c.toNumber();d>2;)p=p.times(h+=d-=2);return new a(p.toPrecision(a.precision))}}),eae=B("ifft",["typed","fft","dotDivide","conj"],e=>{var{typed:t,fft:r,dotDivide:n,conj:i}=e;return t("ifft",{"Array | Matrix":function(o){var s=Je(o)?o.size():lt(o);return n(i(r(i(o))),s.reduce((u,c)=>u*c,1))}})}),xT="createUnit",rae=B(xT,["typed","Unit"],e=>{var{typed:t,Unit:r}=e;return t(xT,{"Object, Object":function(i,a){return r.createUnit(i,a)},Object:function(i){return r.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,a,o){var s={};return s[i]=a,r.createUnit(s,o)},"string, Unit | string | Object":function(i,a){var o={};return o[i]=a,r.createUnit(o,{})},string:function(i){var a={};return a[i]={},r.createUnit(a,{})}})}),aae=B("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],e=>{var{typed:t,matrix:r,multiply:n,equalScalar:i,divideScalar:a,inv:o}=e,s=un({typed:t,equalScalar:i}),u=Pi({typed:t});return t("divide",DC({"Array | Matrix, Array | Matrix":function(l,f){return n(l,o(f))},"DenseMatrix, any":function(l,f){return u(l,f,a,!1)},"SparseMatrix, any":function(l,f){return s(l,f,a,!1)},"Array, any":function(l,f){return u(r(l),f,a,!1).valueOf()},"any, Array | Matrix":function(l,f){return n(l,o(f))}},a.signatures))}),ET="factorial",sae=B(ET,["typed","gamma"],e=>{var{typed:t,gamma:r}=e;return t(ET,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return r(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return r(i.plus(1))},"Array | Matrix":t.referToSelf(n=>i=>At(i,n))})});function NT(e,t){var r,n=t.length,i=[];if(e)for(r=0;r<n;r++)i[e[r]]=t[r];else for(r=0;r<n;r++)i[r]=t[r];return i}var CT="lusolve",cae=B(CT,["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],e=>{var{typed:t,matrix:r,lup:n,slu:i,usolve:a,lsolve:o,DenseMatrix:s}=e,u=vl({DenseMatrix:s});return t(CT,{"Array, Array | Matrix":function(d,p){d=r(d);var h=n(d);return l(h.L,h.U,h.p,null,p).valueOf()},"DenseMatrix, Array | Matrix":function(d,p){var h=n(d);return l(h.L,h.U,h.p,null,p)},"SparseMatrix, Array | Matrix":function(d,p){var h=n(d);return l(h.L,h.U,h.p,null,p)},"SparseMatrix, Array | Matrix, number, number":function(d,p,h,m){var y=i(d,h,m);return l(y.L,y.U,y.p,y.q,p)},"Object, Array | Matrix":function(d,p){return l(d.L,d.U,d.p,d.q,p)}});function c(f){if(Je(f))return f;if(Qt(f))return r(f);throw new TypeError("Invalid Matrix LU decomposition")}function l(f,d,p,h,m){f=c(f),d=c(d),p&&((m=u(f,m,!0))._data=NT(p,m._data));var y=o(f,m),g=a(d,y);return h&&(g._data=NT(h,g._data)),g}}),AT="multinomial",fae=B(AT,["typed","add","divide","multiply","factorial","isInteger","isPositive"],e=>{var{typed:t,add:r,divide:n,multiply:i,factorial:a,isInteger:o,isPositive:s}=e;return t(AT,{"Array | Matrix":function(c){var l=0,f=1;return Oa(c,function(d){if(!o(d)||!s(d))throw new TypeError("Positive integer value expected in function multinomial");l=r(l,d),f=i(f,a(d))}),n(a(l),f)}})}),ST="permutations",pae=B(ST,["typed","factorial"],e=>{var{typed:t,factorial:r}=e;return t(ST,{"number | BigNumber":r,"number, number":function(i,a){if(!We(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!We(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>i)throw new TypeError("second argument k must be less than or equal to first argument n");return La(i-a+1,i)},"BigNumber, BigNumber":function(i,a){var o,s;if(!MT(i)||!MT(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");for(o=i.mul(0).add(1),s=i.minus(a).plus(1);s.lte(i);s=s.plus(1))o=o.times(s);return o}})});function MT(e){return e.isInteger()&&e.gte(0)}var _T="polynomialRoot",hae=B(_T,["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],e=>{var{typed:t,isZero:r,equalScalar:n,add:i,subtract:a,multiply:o,divide:s,sqrt:u,unaryMinus:c,cbrt:l,typeOf:f,im:d,re:p}=e;return t(_T,{"number|Complex, ...number|Complex":(h,m)=>{for(var y=[h,...m];y.length>0&&r(y[y.length-1]);)y.pop();if(y.length<2)throw new RangeError("Polynomial [".concat(h,", ").concat(m,"] must have a non-zero non-constant coefficient"));switch(y.length){case 2:return[c(s(y[0],y[1]))];case 3:var[g,x,v]=y,D=o(2,v),w=o(x,x),b=o(4,v,g);if(n(w,b))return[s(c(x),D)];var A=u(a(w,b));return[s(a(A,x),D),s(a(c(A),x),D)];case 4:var[C,E,N,_]=y,I=c(o(3,_)),R=o(N,N),k=o(3,_,E),P=i(o(2,N,N,N),o(27,_,_,C)),T=o(9,_,N,E);if(n(R,k)&&n(P,T))return[s(N,I)];var ne,S=a(R,k),q=a(P,T),F=i(o(18,_,N,E,C),o(N,N,E,E)),K=i(o(4,N,N,N,C),o(4,_,E,E,E),o(27,_,_,C,C));return n(F,K)?[s(a(o(4,_,N,E),i(o(9,_,_,C),o(N,N,N))),o(_,S)),s(a(o(9,_,C),o(N,E)),o(2,S))]:(ne=n(R,k)?q:s(i(q,u(a(o(q,q),o(4,S,S,S)))),2),l(ne,!0).toArray().map(re=>s(i(N,re,s(S,re)),I)).map(re=>"Complex"===f(re)&&n(p(re),p(re)+d(re))?p(re):re));default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(y))}}})}),TT="setSize",gae=B(TT,["typed","compareNatural"],e=>{var{typed:t,compareNatural:r}=e;return t(TT,{"Array | Matrix":function(i){return Array.isArray(i)?jt(i).length:jt(i.toArray()).length},"Array | Matrix, boolean":function(i,a){if(!1===a||0===i.length)return Array.isArray(i)?jt(i).length:jt(i.toArray()).length;for(var o=jt(Array.isArray(i)?i:i.toArray()).sort(r),s=1,u=1;u<o.length;u++)0!==r(o[u],o[u-1])&&s++;return s}})});function IT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}var wae=B("solveODE",["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],e=>{var{typed:t,add:r,subtract:n,multiply:i,divide:a,max:o,map:s,abs:u,isPositive:c,isNegative:l,larger:f,smaller:d,matrix:p,bignumber:h,unaryMinus:m}=e;function y(C){return function(E,N,_,I){if(2!==N.length||!N.every(b)&&!N.every(hi))throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var k=N[0],P=N[1],T=f(P,k),S=I.firstStep;if(void 0!==S&&!c(S))throw new Error('"firstStep" must be positive');var q=I.maxStep;if(void 0!==q&&!c(q))throw new Error('"maxStep" must be positive');var F=I.minStep;if(F&&l(F))throw new Error('"minStep" must be positive or zero');var K=[k,P,S,F,q].filter(Be=>void 0!==Be);if(!K.every(b)&&!K.every(hi))throw new Error('Inconsistent type of "t" dependant variables');for(var Y=I.tol?I.tol:1e-4,z=I.minDelta?I.minDelta:.2,re=I.maxDelta?I.maxDelta:5,he=I.maxIter?I.maxIter:1e4,ie=[k,P,..._,q,F].some(It),[oe,pe,ue,ce]=ie?[h(C.a),h(C.c),h(C.b),h(C.bp)]:[C.a,C.c,C.b,C.bp],de=S?T?S:m(S):a(n(P,k),1),be=[k],Fe=[_],Ue=n(ue,ce),U=0,j=0,se=function D(C){return C?d:f}(T),H=function w(C){var E=C?f:d;return function(N,_,I){var R=r(N,I);return E(R,_)?n(_,N):I}}(T);se(be[U],P);){var Q=[];de=H(be[U],P,de),Q.push(E(be[U],Fe[U]));for(var ee=1;ee<pe.length;++ee)Q.push(E(r(be[U],i(pe[ee],de)),r(Fe[U],i(de,oe[ee],Q))));var ve=o(u(s(i(Ue,Q),Be=>hi(Be)?Be.value:Be)));ve<Y&&Y/ve>1/4&&(be.push(r(be[U],de)),Fe.push(r(Fe[U],i(de,ue,Q))),U++);var ge=.84*(Y/ve)**.2;if(d(ge,z)?ge=z:f(ge,re)&&(ge=re),ge=ie?h(ge):ge,de=i(de,ge),q&&f(u(de),q)?de=T?q:m(q):F&&d(u(de),F)&&(de=T?F:m(F)),++j>he)throw new Error("Maximum number of iterations reached, try changing options")}return{t:be,y:Fe}}}function g(C,E,N,_){return y({a:[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],c:[null,.5,3/4,1],b:[2/9,1/3,4/9,0],bp:[7/24,1/4,1/3,1/8]})(C,E,N,_)}function x(C,E,N,_){return y({a:[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],c:[null,.2,.3,.8,8/9,1,1],b:[35/384,0,500/1113,125/192,-2187/6784,11/84,0],bp:[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40]})(C,E,N,_)}function v(C,E,N,_){var I=_.method?_.method:"RK45",R={RK23:g,RK45:x};if(I.toUpperCase()in R){var k=function yae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IT(Object(r),!0).forEach(function(n){Kr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}({},_);return delete k.method,R[I.toUpperCase()](C,E,N,k)}var P=Object.keys(R).map(S=>'"'.concat(S,'"')),T="".concat(P.slice(0,-1).join(", ")," and ").concat(P.slice(-1));throw new Error('Unavailable method "'.concat(I,'". Available methods are ').concat(T))}function b(C){return It(C)||Et(C)}function A(C,E,N,_){var I=v(C,E.toArray(),N.toArray(),_);return{t:p(I.t),y:p(I.y)}}return t("solveODE",{"function, Array, Array, Object":v,"function, Matrix, Matrix, Object":A,"function, Array, Array":(C,E,N)=>v(C,E,N,{}),"function, Matrix, Matrix":(C,E,N)=>A(C,E,N,{}),"function, Array, number | BigNumber | Unit":(C,E,N)=>{var _=v(C,E,[N],{});return{t:_.t,y:_.y.map(I=>I[0])}},"function, Matrix, number | BigNumber | Unit":(C,E,N)=>{var _=v(C,E.toArray(),[N],{});return{t:p(_.t),y:p(_.y.map(I=>I[0]))}},"function, Array, number | BigNumber | Unit, Object":(C,E,N,_)=>{var I=v(C,E,[N],_);return{t:I.t,y:I.y.map(R=>R[0])}},"function, Matrix, number | BigNumber | Unit, Object":(C,E,N,_)=>{var I=v(C,E.toArray(),[N],_);return{t:p(I.t),y:p(I.y.map(R=>R[0]))}}})}),FT="stirlingS2",Eae=B(FT,["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],e=>{var{typed:t,addScalar:r,multiplyScalar:i,isNegative:c,isInteger:l,number:f,bignumber:d,larger:p}=e,h=[],m=[];return t(FT,{"number | BigNumber, number | BigNumber":function(g,x){if(!l(g)||c(g)||!l(x)||c(x))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(p(x,g))throw new TypeError("k must be less than or equal to n in function stirlingS2");var v=!(Et(g)&&Et(x)),D=v?m:h,w=v?d:f,b=f(g),A=f(x);if(D[b]&&D[b].length>A)return D[b][A];for(var C=0;C<=b;++C)if(D[C]||(D[C]=[w(0===C?1:0)]),0!==C)for(var E=D[C],N=D[C-1],_=E.length;_<=C&&_<=A;++_)E[_]=_===C?1:r(i(w(_),N[_]),N[_-1]);return D[b][A]}})}),Cae=B("unit",["typed","Unit"],e=>{var{typed:t,Unit:r}=e;return t("unit",{Unit:function(i){return i.clone()},string:function(i){return r.isValuelessUnit(i)?new r(null,i):r.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,a){return new r(i,a)},"number | BigNumber | Fraction":function(i){return new r(i)},"Array | Matrix":t.referToSelf(n=>i=>At(i,n))})}),RT="bellNumbers",Sae=B(RT,["typed","addScalar","isNegative","isInteger","stirlingS2"],e=>{var{typed:t,addScalar:r,isNegative:n,isInteger:i,stirlingS2:a}=e;return t(RT,{"number | BigNumber":function(s){if(!i(s)||n(s))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var u=0,c=0;c<=s;c++)u=r(u,a(s,c));return u}})});var Iae=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],Fae=B("eigs",Iae,e=>{var{config:t,typed:r,matrix:n,addScalar:i,subtract:a,equal:o,abs:s,atan:u,cos:c,sin:l,multiplyScalar:f,divideScalar:d,inv:p,bignumber:h,multiply:m,add:y,larger:g,column:x,flatten:v,number:D,complex:w,sqrt:b,diag:A,size:C,reshape:E,qr:N,usolve:_,usolveAll:I,im:R,re:k,smaller:P,matrixFromColumns:T,dot:S}=e,q=function _ae(e){var{config:t,addScalar:r,subtract:n,abs:i,atan:a,cos:o,sin:s,multiplyScalar:u,inv:c,bignumber:l,multiply:f,add:d}=e;function y(E,N,_){return Math.abs(N-E)<=t.epsilon?Math.PI/4:.5*Math.atan(2*_/(N-E))}function g(E,N,_){var I=n(N,E);return i(I)<=t.epsilon?l(-1).acos().div(4):u(.5,a(f(2,_,c(I))))}function x(E,N,_,I){for(var R=E.length,k=Math.cos(N),P=Math.sin(N),T=Array(R).fill(0),S=Array(R).fill(0),q=0;q<R;q++)T[q]=k*E[q][_]-P*E[q][I],S[q]=P*E[q][_]+k*E[q][I];for(var F=0;F<R;F++)E[F][_]=T[F],E[F][I]=S[F];return E}function v(E,N,_,I){for(var R=E.length,k=o(N),P=s(N),T=Array(R).fill(l(0)),S=Array(R).fill(l(0)),q=0;q<R;q++)T[q]=n(u(k,E[q][_]),u(P,E[q][I])),S[q]=r(u(P,E[q][_]),u(k,E[q][I]));for(var F=0;F<R;F++)E[F][_]=T[F],E[F][I]=S[F];return E}function D(E,N,_,I){for(var R=E.length,k=l(o(N)),P=l(s(N)),T=u(k,k),S=u(P,P),q=Array(R).fill(l(0)),F=Array(R).fill(l(0)),K=f(l(2),k,P,E[_][I]),ne=r(n(u(T,E[_][_]),K),u(S,E[I][I])),Y=d(u(S,E[_][_]),K,u(T,E[I][I])),z=0;z<R;z++)q[z]=n(u(k,E[_][z]),u(P,E[I][z])),F[z]=r(u(P,E[_][z]),u(k,E[I][z]));E[_][_]=ne,E[I][I]=Y,E[_][I]=l(0),E[I][_]=l(0);for(var re=0;re<R;re++)re!==_&&re!==I&&(E[_][re]=q[re],E[re][_]=q[re],E[I][re]=F[re],E[re][I]=F[re]);return E}function w(E,N,_,I){for(var R=E.length,k=Math.cos(N),P=Math.sin(N),T=k*k,S=P*P,q=Array(R).fill(0),F=Array(R).fill(0),K=T*E[_][_]-2*k*P*E[_][I]+S*E[I][I],ne=S*E[_][_]+2*k*P*E[_][I]+T*E[I][I],Y=0;Y<R;Y++)q[Y]=k*E[_][Y]-P*E[I][Y],F[Y]=P*E[_][Y]+k*E[I][Y];E[_][_]=K,E[I][I]=ne,E[_][I]=0,E[I][_]=0;for(var z=0;z<R;z++)z!==_&&z!==I&&(E[_][z]=q[z],E[z][_]=q[z],E[I][z]=F[z],E[z][I]=F[z]);return E}function b(E){for(var N=E.length,_=0,I=[0,1],R=0;R<N;R++)for(var k=R+1;k<N;k++)Math.abs(_)<Math.abs(E[R][k])&&(_=Math.abs(E[R][k]),I=[R,k]);return[I,_]}function A(E){for(var N=E.length,_=0,I=[0,1],R=0;R<N;R++)for(var k=R+1;k<N;k++)i(_)<i(E[R][k])&&(_=i(E[R][k]),I=[R,k]);return[I,_]}function C(E,N,_){var k,I=E.length,R=Array(I);if(_){k=Array(I);for(var P=0;P<I;P++)k[P]=Array(I)}for(var T=0;T<I;T++){for(var S=0,q=E[0],F=0;F<E.length;F++)i(E[F])<i(q)&&(q=E[S=F]);if(R[T]=E.splice(S,1)[0],_)for(var K=0;K<I;K++)k[T][K]=N[K][S],N[K].splice(S,1)}if(!_)return{values:R};var ne=k.map((Y,z)=>({value:R[z],vector:Y}));return{values:R,eigenvectors:ne}}return function p(E,N){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.epsilon,I=arguments.length>3?arguments[3]:void 0,R=arguments.length>4?arguments[4]:void 0;if("number"===I)return function h(E,N,_){var k,P,I=E.length,R=Math.abs(N/I);if(_){P=new Array(I);for(var T=0;T<I;T++)P[T]=Array(I).fill(0),P[T][T]=1}for(var S=b(E);Math.abs(S[1])>=Math.abs(R);){var q=S[0][0],F=S[0][1];E=w(E,k=y(E[q][q],E[F][F],E[q][F]),q,F),_&&(P=x(P,k,q,F)),S=b(E)}for(var K=Array(I).fill(0),ne=0;ne<I;ne++)K[ne]=E[ne][ne];return C(ct(K),P,_)}(E,_,R);if("BigNumber"===I)return function m(E,N,_){var k,P,I=E.length,R=i(N/I);if(_){P=new Array(I);for(var T=0;T<I;T++)P[T]=Array(I).fill(0),P[T][T]=1}for(var S=A(E);i(S[1])>=i(R);){var q=S[0][0],F=S[0][1];E=D(E,k=g(E[q][q],E[F][F],E[q][F]),q,F),_&&(P=v(P,k,q,F)),S=A(E)}for(var K=Array(I).fill(0),ne=0;ne<I;ne++)K[ne]=E[ne][ne];return C(ct(K),P,_)}(E,_,R);throw TypeError("Unsupported data type: "+I)}}({config:t,addScalar:i,subtract:a,column:x,flatten:v,equal:o,abs:s,atan:u,cos:c,sin:l,multiplyScalar:f,inv:p,bignumber:h,complex:w,multiply:m,add:y}),F=function Mae(e){var{addScalar:t,subtract:r,flatten:n,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:s,abs:u,bignumber:c,diag:l,size:f,reshape:d,inv:p,qr:h,usolve:m,usolveAll:y,equal:g,complex:x,larger:v,smaller:D,dot:b}=e;function I(Y,z,re,he){var ie=t(Y,he),oe=r(a(Y,he),a(z,re)),pe=a(ie,.5),ue=a(s(r(a(ie,ie),a(4,oe))),.5);return[t(pe,ue),r(pe,ue)]}function R(Y,z,re,he,ie,oe,pe,ue){var ce="BigNumber"===ue,de="Complex"===ue,be=ce?c(0):de?x(0):0,Fe=ce?c(1):de?x(1):1;if(D(u(re),pe))return[[Fe,be],[be,Fe]];if(v(u(r(ie,oe)),pe))return[[r(ie,he),r(oe,he)],[re,re]];var Ue=r(Y,ie),U=r(he,ie);return D(u(z),pe)&&D(u(U),pe)?[[Ue,Fe],[re,be]]:[[z,be],[U,Fe]]}function k(Y,z){for(var re=0;re<Y.length;re++)Y[re].push(...Array(z-Y[re].length).fill(0));for(var he=Y.length;he<z;he++)Y.push(Array(z).fill(0)),Y[he][he]=1;return Y}function T(Y,z,re){for(var he=0;he<Y.length;he++)if(re(Y[he],z))return he;return-1}function S(Y,z,re,he,ie){for(var pe,oe="BigNumber"===ie?c(1e3):1e3,ue=0;ue<5;++ue){pe=q(z,re,ie);try{pe=m(Y,pe)}catch{continue}if(v(K(pe),oe))break}if(ue>=5)return null;for(ue=0;;){var ce=m(Y,pe);if(D(K(F(pe,[ce])),he))break;if(++ue>=10)return null;pe=ne(ce)}return pe}function q(Y,z,re){var he="BigNumber"===re,ie="Complex"===re,oe=Array(Y).fill(0).map(pe=>2*Math.random()-1);return he&&(oe=oe.map(pe=>c(pe))),ie&&(oe=oe.map(pe=>x(pe))),ne(oe=F(oe,z),re)}function F(Y,z){var re=f(Y);for(var he of z)he=d(he,re),Y=r(Y,i(o(b(he,Y),b(he,he)),he));return Y}function K(Y){return u(s(b(Y,Y)))}function ne(Y,z){var he="Complex"===z,ie="BigNumber"===z?c(1):he?x(1):1;return i(o(ie,K(Y)),Y)}return function A(Y,z,re,he){var ie=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],oe=function C(Y,z,re,he,ie){var Ue,oe="BigNumber"===he,pe="Complex"===he,ue=oe?c(0):0,ce=oe?c(1):pe?x(1):1,de=oe?c(1):1,be=oe?c(10):2,Fe=a(be,be);ie&&(Ue=Array(z).fill(ce));for(var U=!1;!U;){U=!0;for(var j=0;j<z;j++){for(var se=ue,H=ue,Q=0;Q<z;Q++)j!==Q&&(se=t(se,u(Y[Q][j])),H=t(H,u(Y[j][Q])));if(!g(se,0)&&!g(H,0)){for(var ee=de,ve=se,ge=o(H,be),Be=a(H,be);D(ve,ge);)ve=a(ve,Fe),ee=a(ee,be);for(;v(ve,Be);)ve=o(ve,Fe),ee=o(ee,be);if(D(o(t(ve,H),ee),a(t(se,H),.95))){U=!1;for(var nt=o(1,ee),pt=0;pt<z;pt++)j!==pt&&(Y[j][pt]=a(Y[j][pt],nt),Y[pt][j]=a(Y[pt][j],ee));ie&&(Ue[j]=a(Ue[j],nt))}}}}return ie?l(Ue):null}(Y,z,0,he,ie);!function E(Y,z,re,he,ie,oe){var pe="BigNumber"===he,ue="Complex"===he,ce=pe?c(0):ue?x(0):0;pe&&(re=c(re));for(var de=0;de<z-2;de++){for(var be=0,Fe=ce,Ue=de+1;Ue<z;Ue++){var U=Y[Ue][de];D(u(Fe),u(U))&&(Fe=U,be=Ue)}if(!D(u(Fe),re)){if(be!==de+1){var j=Y[be];Y[be]=Y[de+1],Y[de+1]=j;for(var se=0;se<z;se++){var H=Y[se][be];Y[se][be]=Y[se][de+1],Y[se][de+1]=H}if(ie){var Q=oe[be];oe[be]=oe[de+1],oe[de+1]=Q}}for(var ee=de+2;ee<z;ee++){var ve=o(Y[ee][de],Fe);if(0!==ve){for(var ge=0;ge<z;ge++)Y[ee][ge]=r(Y[ee][ge],a(ve,Y[de+1][ge]));for(var Be=0;Be<z;Be++)Y[Be][de+1]=t(Y[Be][de+1],a(ve,Y[Be][ee]));if(ie)for(var xe=0;xe<z;xe++)oe[ee][xe]=r(oe[ee][xe],a(ve,oe[de+1][xe]))}}}}}(Y,z,re,he,ie,oe);var{values:pe,C:ue}=function N(Y,z,re,he,ie){var oe="BigNumber"===he,pe="Complex"===he,ue=oe?c(1):pe?x(1):1;oe&&(re=c(re));for(var ce=ct(Y),de=[],be=z,Fe=[],Ue=ie?l(Array(z).fill(ue)):void 0,U=ie?l(Array(be).fill(ue)):void 0,j=0;j<=100;){j+=1;for(var se=ce[be-1][be-1],H=0;H<be;H++)ce[H][H]=r(ce[H][H],se);var{Q,R:ee}=h(ce);ce=i(ee,Q);for(var ve=0;ve<be;ve++)ce[ve][ve]=t(ce[ve][ve],se);if(ie&&(U=i(U,Q)),1===be||D(u(ce[be-1][be-2]),re)){j=0,de.push(ce[be-1][be-1]),ie&&(Fe.unshift([[1]]),k(U,z),Ue=i(Ue,U),be>1&&(U=l(Array(be-1).fill(ue)))),be-=1,ce.pop();for(var ge=0;ge<be;ge++)ce[ge].pop()}else if(2===be||D(u(ce[be-2][be-3]),re)){j=0;var Be=I(ce[be-2][be-2],ce[be-2][be-1],ce[be-1][be-2],ce[be-1][be-1]);de.push(...Be),ie&&(Fe.unshift(R(ce[be-2][be-2],ce[be-2][be-1],ce[be-1][be-2],ce[be-1][be-1],Be[0],Be[1],re,he)),k(U,z),Ue=i(Ue,U),be>2&&(U=l(Array(be-2).fill(ue)))),be-=2,ce.pop(),ce.pop();for(var xe=0;xe<be;xe++)ce[xe].pop(),ce[xe].pop()}if(0===be)break}if(de.sort((Yt,pr)=>+r(u(Yt),u(pr))),j>100){var nt=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+de.join(", "));throw nt.values=de,nt.vectors=[],nt}var pt=ie?i(Ue,function P(Y,z){for(var re=[],he=0;he<z;he++)re[he]=Array(z).fill(0);var ie=0;for(var oe of Y){for(var pe=oe.length,ue=0;ue<pe;ue++)for(var ce=0;ce<pe;ce++)re[ie+ue][ie+ce]=oe[ue][ce];ie+=pe}return re}(Fe,z)):void 0;return{values:de,C:pt}}(Y,z,re,he,ie);if(ie){var ce=function _(Y,z,re,he,ie,oe,pe){var ue=p(re),ce=i(ue,Y,re),de="BigNumber"===pe,be="Complex"===pe,Fe=de?c(0):be?x(0):0,Ue=de?c(1):be?x(1):1,U=[],j=[];for(var se of ie){var H=T(U,se,g);-1===H?(U.push(se),j.push(1)):j[H]+=1}for(var Q=[],ee=U.length,ve=Array(z).fill(Fe),ge=l(Array(z).fill(Ue)),Be=function(){var pt=U[xe],Yt=r(ce,i(pt,ge)),pr=y(Yt,ve);for(pr.shift();pr.length<j[xe];){var Er=S(Yt,z,pr,oe,pe);if(null===Er)break;pr.push(Er)}var Un=i(p(he),re);pr=pr.map(Nn=>i(Un,Nn)),Q.push(...pr.map(Nn=>({value:pt,vector:n(Nn)})))},xe=0;xe<ee;xe++)Be();return Q}(Y,z,ue,oe,pe,re,he);return{values:pe,eigenvectors:ce}}return{values:pe}}}({config:t,addScalar:i,subtract:a,multiply:m,multiplyScalar:f,flatten:v,divideScalar:d,sqrt:b,abs:s,bignumber:h,diag:A,size:C,reshape:E,qr:N,inv:p,usolve:_,usolveAll:I,equal:o,complex:w,larger:g,smaller:P,matrixFromColumns:T,dot:S});return r("eigs",{Array:function(oe){return K(n(oe))},"Array, number|BigNumber":function(oe,pe){return K(n(oe),{precision:pe})},"Array, Object":(ie,oe)=>K(n(ie),oe),Matrix:function(oe){return K(oe,{matricize:!0})},"Matrix, number|BigNumber":function(oe,pe){return K(oe,{precision:pe,matricize:!0})},"Matrix, Object":function(oe,pe){var ue={matricize:!0};return Xr(ue,pe),K(oe,ue)}});function K(ie){var oe,pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ue=!("eigenvectors"in pe)||pe.eigenvectors,de=function ne(ie,oe,pe){var ue=ie.toArray(),ce=ie.size();if(2!==ce.length||ce[0]!==ce[1])throw new RangeError("Matrix must be square (size: ".concat(Nt(ce),")"));var de=ce[0];if(function z(ie,oe,pe){for(var ue=0;ue<oe;ue++)for(var ce=0;ce<oe;ce++)if(g(h(s(R(ie[ue][ce]))),pe))return!1;return!0}(ue,de,oe)&&(function re(ie,oe){for(var pe=0;pe<oe;pe++)for(var ue=0;ue<oe;ue++)ie[pe][ue]=k(ie[pe][ue])}(ue,de),function Y(ie,oe,pe){for(var ue=0;ue<oe;ue++)for(var ce=ue;ce<oe;ce++)if(g(h(s(a(ie[ue][ce],ie[ce][ue]))),pe))return!1;return!0}(ue,de,oe))){var be=he(ie,ue,de);return q(ue,de,oe,be,pe)}var Fe=he(ie,ue,de);return F(ue,de,oe,Fe,pe)}(ie,null!==(oe=pe.precision)&&void 0!==oe?oe:t.epsilon,ue);return pe.matricize&&(de.values=n(de.values),ue&&(de.eigenvectors=de.eigenvectors.map(be=>{var{value:Fe,vector:Ue}=be;return{value:Fe,vector:n(Ue)}}))),ue&&Object.defineProperty(de,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),de}function he(ie,oe,pe){var ue=ie.datatype();if("number"===ue||"BigNumber"===ue||"Complex"===ue)return ue;for(var ce=!1,de=!1,be=!1,Fe=0;Fe<pe;Fe++)for(var Ue=0;Ue<pe;Ue++){var U=oe[Fe][Ue];if(Et(U)||il(U))ce=!0;else if(It(U))de=!0;else{if(!Ta(U))throw TypeError("Unsupported type in Matrix: "+or(U));be=!0}}if(de&&be&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),be){for(var j=0;j<pe;j++)for(var se=0;se<pe;se++)oe[j][se]=w(oe[j][se]);return"Complex"}if(de){for(var H=0;H<pe;H++)for(var Q=0;Q<pe;Q++)oe[H][Q]=h(oe[H][Q]);return"BigNumber"}if(ce){for(var ee=0;ee<pe;ee++)for(var ve=0;ve<pe;ve++)oe[ee][ve]=D(oe[ee][ve]);return"number"}throw TypeError("Matrix contains unsupported types only.")}}),Oae=["typed","add","divide","compare","partitionSelect"],Rae=B("median",Oae,e=>{var{typed:t,add:r,divide:n,compare:i,partitionSelect:a}=e;function o(c){try{var l=(c=jt(c.valueOf())).length;if(0===l)throw new Error("Cannot calculate median of an empty array");if(l%2==0){for(var f=l/2-1,d=a(c,f+1),p=c[f],h=0;h<f;++h)i(c[h],p)>0&&(p=c[h]);return u(p,d)}var m=a(c,(l-1)/2);return s(m)}catch(y){throw Bn(y,"median")}}var s=t({"number | BigNumber | Complex | Unit":function(l){return l}}),u=t({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(l,f){return n(r(l,f),2)}});return t("median",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,f){throw new Error("median(A, dim) is not yet supported")},"...":function(l){if(Du(l))throw new TypeError("Scalar values expected in function median");return o(l)}})}),Pae=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],Bae=B("corr",Pae,e=>{var{typed:t,matrix:r,sqrt:n,sum:i,add:a,subtract:o,multiply:s,pow:u,divide:c}=e;return t("corr",{"Array, Array":function(p,h){return l(p,h)},"Matrix, Matrix":function(p,h){var m=l(p.toArray(),h.toArray());return Array.isArray(m)?r(m):m}});function l(d,p){var h=[];if(Array.isArray(d[0])&&Array.isArray(p[0])){if(d.length!==p.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var m=0;m<d.length;m++){if(d[m].length!==p[m].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");h.push(f(d[m],p[m]))}return h}if(d.length!==p.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return f(d,p)}function f(d,p){var h=d.length,m=i(d),y=i(p),g=d.reduce((b,A,C)=>a(b,s(A,p[C])),0),x=i(d.map(b=>u(b,2))),v=i(p.map(b=>u(b,2))),D=o(s(h,g),s(m,y)),w=n(s(o(s(h,x),u(m,2)),o(s(h,v),u(y,2))));return c(D,w)}}),Lae=["typed","add","multiply","Complex","divide","matrix"],kae=B("freqz",Lae,e=>{var{typed:t,add:r,multiply:n,Complex:i,divide:a,matrix:o}=e;return t("freqz",{"Array, Array":function(l,f){return s(l,f,u(512))},"Array, Array, Array":function(l,f,d){return s(l,f,d)},"Array, Array, number":function(l,f,d){if(d<0)throw new Error("w must be a positive number");return s(l,f,u(d))},"Matrix, Matrix":function(l,f){var d=u(512),{w:p,h}=s(l.valueOf(),f.valueOf(),d);return{w:o(p),h:o(h)}},"Matrix, Matrix, Matrix":function(l,f,d){var{h:p}=s(l.valueOf(),f.valueOf(),d.valueOf());return{h:o(p),w:o(d)}},"Matrix, Matrix, number":function(l,f,d){if(d<0)throw new Error("w must be a positive number");var p=u(d),{h}=s(l.valueOf(),f.valueOf(),p);return{h:o(h),w:o(p)}}});function s(c,l,f){for(var d=[],p=[],h=0;h<f.length;h++){for(var m=i(0,0),y=i(0,0),g=0;g<c.length;g++)m=r(m,n(c[g],i(Math.cos(-g*f[h]),Math.sin(-g*f[h]))));for(var x=0;x<l.length;x++)y=r(y,n(l[x],i(Math.cos(-x*f[h]),Math.sin(-x*f[h]))));d.push(m),p.push(y)}for(var v=[],D=0;D<d.length;D++)v.push(a(d[D],p[D]));return{h:v,w:f}}function u(c){for(var l=[],f=0;f<c;f++)l.push(f/c*Math.PI);return l}}),zae=["typed","abs","map","median","subtract"],Uae=B("mad",zae,e=>{var{typed:t,abs:r,map:n,median:i,subtract:a}=e;return t("mad",{"Array | Matrix":o,"...":function(u){return o(u)}});function o(s){if(0===(s=jt(s.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var u=i(s);return i(n(s,function(c){return r(a(c,u))}))}catch(c){throw c instanceof TypeError&&-1!==c.message.indexOf("median")?new TypeError(c.message.replace("median","mad")):Bn(c,"mad")}}}),qae=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],Vae=B("zeta",qae,e=>{var{typed:t,config:r,multiply:n,pow:i,divide:a,factorial:o,equal:s,smallerEq:u,isNegative:c,gamma:l,sin:f,subtract:d,add:p,Complex:h,BigNumber:m,pi:y}=e;return t("zeta",{number:b=>g(b,A=>A,()=>20),BigNumber:b=>g(b,A=>new m(A),()=>Math.abs(Math.log10(r.epsilon))),Complex:function x(b){return 0===b.re&&0===b.im?new h(-.5):1===b.re?new h(NaN,NaN):b.re===1/0&&0===b.im?new h(1):b.im===1/0||b.re===-1/0?new h(NaN,NaN):v(b,A=>A,A=>Math.round(19.5+.9*Math.abs(A.im)),A=>A.re)}});function g(b,A,C){return s(b,0)?A(-.5):s(b,1)?A(NaN):isFinite(b)?v(b,A,C,E=>E):c(b)?A(NaN):A(1)}function v(b,A,C,E){var N=C(b);if(E(b)>-(N-1)/2)return function w(b,A,C){for(var E=a(1,n(D(C(0),A),d(1,i(2,d(1,b))))),N=C(0),_=C(1);u(_,A);_=p(_,1))N=p(N,a(n((-1)**(_-1),D(_,A)),i(_,b)));return n(E,N)}(b,A(N),A);var _=n(i(2,b),i(A(y),d(b,1)));return _=n(_,f(n(a(A(y),2),b))),_=n(_,l(d(1,b))),n(_,v(d(1,b),A,C,E))}function D(b,A){for(var C=b,E=b;u(E,A);E=p(E,1)){var N=a(n(o(p(A,d(E,1))),i(4,E)),n(o(d(A,E)),o(n(2,E))));C=p(C,N)}return n(A,C)}}),Hae=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],$ae=B("norm",Hae,e=>{var{typed:t,abs:r,add:n,pow:i,conj:a,sqrt:o,multiply:s,equalScalar:u,larger:c,smaller:l,matrix:f,ctranspose:d,eigs:p}=e;return t("norm",{number:Math.abs,Complex:function(C){return C.abs()},BigNumber:function(C){return C.abs()},boolean:function(C){return Math.abs(C)},Array:function(C){return b(f(C),2)},Matrix:function(C){return b(C,2)},"Array, number | BigNumber | string":function(C,E){return b(f(C),E)},"Matrix, number | BigNumber | string":function(C,E){return b(C,E)}});function b(A,C){var E=A.size();if(1===E.length)return function y(A,C){if(C===Number.POSITIVE_INFINITY||"inf"===C)return function h(A){var C=0;return A.forEach(function(E){var N=r(E);c(N,C)&&(C=N)},!0),C}(A);if(C===Number.NEGATIVE_INFINITY||"-inf"===C)return function m(A){var C;return A.forEach(function(E){var N=r(E);(!C||l(N,C))&&(C=N)},!0),C||0}(A);if("fro"===C)return b(A,2);if("number"==typeof C&&!isNaN(C)){if(!u(C,0)){var E=0;return A.forEach(function(N){E=n(i(r(N),C),E)},!0),i(E,1/C)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}(A,C);if(2===E.length){if(E[0]&&E[1])return function w(A,C){if(1===C)return function x(A){var C=[],E=0;return A.forEach(function(N,_){var I=_[1],R=n(C[I]||0,r(N));c(R,E)&&(E=R),C[I]=R},!0),E}(A);if(C===Number.POSITIVE_INFINITY||"inf"===C)return function D(A){var C=[],E=0;return A.forEach(function(N,_){var I=_[0],R=n(C[I]||0,r(N));c(R,E)&&(E=R),C[I]=R},!0),E}(A);if("fro"===C)return function g(A){var C=0;return A.forEach(function(E,N){C=n(C,s(E,a(E)))}),r(o(C))}(A);if(2===C)return function v(A){var C=A.size();if(C[0]!==C[1])throw new RangeError("Invalid matrix dimensions");var E=d(A),N=s(E,A),_=p(N).values.toArray();return r(o(_[_.length-1]))}(A);throw new Error("Unsupported parameter value "+C)}(A,C);throw new RangeError("Invalid matrix dimensions")}}}),qT="rotationMatrix",jae=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],Gae=B(qT,jae,e=>{var{typed:t,config:r,multiplyScalar:n,addScalar:i,unaryMinus:a,norm:o,BigNumber:s,matrix:u,DenseMatrix:c,SparseMatrix:l,cos:f,sin:d}=e;return t(qT,{"":function(){return"Matrix"===r.matrix?u([]):[]},string:function(v){return u(v)},"number | BigNumber | Complex | Unit":function(v){return p(v,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(v,D){return p(v,D)},"number | BigNumber | Complex | Unit, Array":function(v,D){var w=u(D);return h(w),g(v,w,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(v,D){h(D);var w=D.storage()||("Matrix"===r.matrix?"dense":void 0);return g(v,D,w)},"number | BigNumber | Complex | Unit, Array, string":function(v,D,w){var b=u(D);return h(b),g(v,b,w)},"number | BigNumber | Complex | Unit, Matrix, string":function(v,D,w){return h(D),g(v,D,w)}});function p(x,v){var w=It(x)?new s(-1):-1,b=f(x),A=d(x);return y([[b,n(w,A)],[A,b]],v)}function h(x){var v=x.size();if(v.length<1||3!==v[0])throw new RangeError("Vector must be of dimensions 1x3")}function m(x){return x.reduce((v,D)=>n(v,D))}function y(x,v){if(v){if("sparse"===v)return new l(x);if("dense"===v)return new c(x);throw new TypeError('Unknown matrix type "'.concat(v,'"'))}return x}function g(x,v,D){var w=o(v);if(0===w)throw new RangeError("Rotation around zero vector");var b=It(x)?s:null,A=b?new b(1):1,C=b?new b(-1):-1,E=b?new b(v.get([0])/w):v.get([0])/w,N=b?new b(v.get([1])/w):v.get([1])/w,_=b?new b(v.get([2])/w):v.get([2])/w,I=f(x),R=i(A,a(I)),k=d(x);return y([[i(I,m([E,E,R])),i(m([E,N,R]),m([C,_,k])),i(m([E,_,R]),m([N,k]))],[i(m([E,N,R]),m([_,k])),i(I,m([N,N,R])),i(m([N,_,R]),m([C,E,k]))],[i(m([E,_,R]),m([C,N,k])),i(m([N,_,R]),m([E,k])),i(I,m([_,_,R]))]],D)}}),VT="kldivergence",Wae=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],Zae=B(VT,Wae,e=>{var{typed:t,matrix:r,divide:n,sum:i,multiply:a,map:o,dotDivide:s,log:u,isNumeric:c}=e;return t(VT,{"Array, Array":function(d,p){return l(r(d),r(p))},"Matrix, Array":function(d,p){return l(d,r(p))},"Array, Matrix":function(d,p){return l(r(d),p)},"Matrix, Matrix":function(d,p){return l(d,p)}});function l(f,d){var p=d.size().length,h=f.size().length;if(p>1)throw new Error("first object must be one dimensional");if(h>1)throw new Error("second object must be one dimensional");if(p!==h)throw new Error("Length of two vectors must be equal");if(0===i(f))throw new Error("Sum of elements in first object must be non zero");if(0===i(d))throw new Error("Sum of elements in second object must be non zero");var g=n(f,i(f)),x=n(d,i(d)),v=i(a(g,o(s(g,x),D=>u(D))));return c(v)?v:Number.NaN}}),Yae=["typed","matrix","identity","multiply","qr","norm","subtract"],Qae=B("schur",Yae,e=>{var{typed:t,matrix:r,identity:n,multiply:i,qr:a,norm:o,subtract:s}=e;return t("schur",{Array:function(l){var f=u(r(l));return{U:f.U.valueOf(),T:f.T.valueOf()}},Matrix:function(l){return u(l)}});function u(c){var h,l=c.size()[0],f=c,d=n(l),p=0;do{h=f;var m=a(f),y=m.Q;if(f=i(m.R,y),d=i(d,y),p++>100)break}while(o(s(f,h))>1e-4);return{U:d,T:f}}}),Xae=["typed","multiply","rotationMatrix"],Kae=B("rotate",Xae,e=>{var{typed:t,multiply:r,rotationMatrix:n}=e;return t("rotate",{"Array , number | BigNumber | Complex | Unit":function(o,s){return i(o,2),r(n(s),o).toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,s){return i(o,2),r(n(s),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,s,u){return i(o,3),r(n(s,u),o)},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,s,u){return i(o,3),r(n(s,u),o)}});function i(a,o){var s=Array.isArray(a)?lt(a):a.size();if(s.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(2===s.length&&1!==s[1])throw new RangeError("Vector must be of dimensions 1x".concat(o));if(s[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}}),jT="sylvester",Jae=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],eoe=B(jT,Jae,e=>{var{typed:t,schur:r,matrixFromColumns:n,matrix:i,multiply:a,range:o,concat:s,transpose:u,index:c,subset:l,add:f,subtract:d,identity:p,lusolve:h,abs:m}=e;return t(jT,{"Matrix, Matrix, Matrix":y,"Array, Matrix, Matrix":function(x,v,D){return y(i(x),v,D)},"Array, Array, Matrix":function(x,v,D){return y(i(x),i(v),D)},"Array, Matrix, Array":function(x,v,D){return y(i(x),v,i(D))},"Matrix, Array, Matrix":function(x,v,D){return y(x,i(v),D)},"Matrix, Array, Array":function(x,v,D){return y(x,i(v),i(D))},"Matrix, Matrix, Array":function(x,v,D){return y(x,v,i(D))},"Array, Array, Array":function(x,v,D){return y(i(x),i(v),i(D)).toArray()}});function y(g,x,v){for(var D=x.size()[0],w=g.size()[0],b=r(g),A=b.T,C=b.U,E=r(a(-1,x)),N=E.T,_=E.U,I=a(a(u(C),v),_),R=o(0,w),k=[],P=(be,Fe)=>s(be,Fe,1),T=(be,Fe)=>s(be,Fe,0),S=0;S<D;S++)if(S<D-1&&m(l(N,c(S+1,S)))>1e-5){for(var q=T(l(I,c(R,S)),l(I,c(R,S+1))),F=0;F<S;F++)q=f(q,T(a(k[F],l(N,c(F,S))),a(k[F],l(N,c(F,S+1)))));var K=a(p(w),a(-1,l(N,c(S,S)))),ne=a(p(w),a(-1,l(N,c(S+1,S)))),Y=a(p(w),a(-1,l(N,c(S,S+1)))),z=a(p(w),a(-1,l(N,c(S+1,S+1)))),re=T(P(f(A,K),ne),P(Y,f(A,z))),he=h(re,q);k[S]=he.subset(c(o(0,w),0)),k[S+1]=he.subset(c(o(w,2*w),0)),S++}else{for(var ie=l(I,c(R,S)),oe=0;oe<S;oe++)ie=f(ie,a(k[oe],l(N,c(oe,S))));var pe=l(N,c(S,S)),ue=d(A,a(pe,p(w)));k[S]=h(ue,ie)}var ce=i(n(...k));return a(C,a(ce,u(_)))}}),toe=["typed","matrix","sylvester","multiply","transpose"],roe=B("lyap",toe,e=>{var{typed:t,matrix:r,sylvester:n,multiply:i,transpose:a}=e;return t("lyap",{"Matrix, Matrix":function(s,u){return n(s,a(s),i(-1,u))},"Array, Matrix":function(s,u){return n(r(s),a(r(s)),i(-1,u))},"Matrix, Array":function(s,u){return n(s,a(r(s)),r(i(-1,u)))},"Array, Array":function(s,u){return n(r(s),a(r(s)),r(i(-1,u))).toArray()}})}),Ie=jZ({config:De}),cr=ZZ({}),WT=fY({BigNumber:Ie,config:De}),noe=aY({}),ioe=UY({BigNumber:Ie,config:De}),Xo=bQ({}),ZT=bY({Complex:cr}),aoe=sY({BigNumber:Ie,config:De}),ooe=mY({BigNumber:Ie,config:De}),soe=vY({BigNumber:Ie,config:De}),Pp=xQ({}),uoe=uY({BigNumber:Ie,config:De}),coe=oY({}),loe=dY({BigNumber:Ie,config:De}),foe=CQ({}),YT=MQ({}),doe=gY({BigNumber:Ie,config:De}),poe=aQ({BigNumber:Ie,config:De}),QT=lY({BigNumber:Ie,config:De}),moe=iY({}),hoe=DY({}),Dt=IQ({Matrix:Pp}),voe=YY({BigNumber:Ie,config:De}),goe=pY({BigNumber:Ie,config:De}),L0=cY({BigNumber:Ie,config:De}),yoe=RQ({}),boe=yY({BigNumber:Ie,config:De}),$=BQ({BigNumber:Ie,Complex:cr,DenseMatrix:Dt,Fraction:Xo}),k0=GQ({BigNumber:Ie,config:De,typed:$}),Doe=ZY({BigNumber:Ie,config:De}),Ln=ZQ({typed:$}),woe=QQ({Complex:cr,config:De,typed:$}),xoe=uX({BigNumber:Ie,typed:$}),Eoe=lX({BigNumber:Ie,Complex:cr,config:De,typed:$}),tn=dX({typed:$}),Noe=mX({typed:$}),Coe=vX({BigNumber:Ie,Complex:cr,config:De,typed:$}),Aoe=bX({typed:$}),XT=xX({typed:$}),Soe=NX({Complex:cr,config:De,typed:$}),si=SX({BigNumber:Ie,typed:$}),Moe=_X({typed:$}),_oe=IX({typed:$}),Toe=OX({typed:$}),Bp=PX({typed:$}),Lp=kX({Complex:cr,typed:$}),Ko=UX({typed:$}),z0=VX({typed:$}),Ioe=$X({BigNumber:Ie,typed:$}),Foe=GX({BigNumber:Ie,typed:$}),Ooe=ZX({typed:$}),Mt=XX({config:De,typed:$}),Roe=eK({typed:$}),KT=aK({typed:$}),Poe=sK({Complex:cr,typed:$}),Boe=lK({typed:$}),Loe=dK({typed:$}),gl=hK({typed:$}),U0=gK({typed:$}),koe=bK({format:gl,typed:$}),q0=wK({typed:$}),Kn=EK({typed:$}),vo=AK({typed:$}),Jo=MK({typed:$}),zi=TK({typed:$}),zoe=hY({BigNumber:Ie,config:De}),Uoe=RK({Complex:cr,typed:$}),qoe=BK({Complex:cr,config:De,typed:$}),JT=kK({Complex:cr,config:De,typed:$}),es=UK({typed:$}),Or=$K({typed:$}),kp=GK({typed:$}),za=XK({typed:$}),Voe=JK({format:gl,typed:$}),Hoe=rJ({config:De,typed:$}),$oe=OA({typed:$}),joe=iJ({config:De,typed:$}),V0=oJ({typed:$}),Goe=uJ({BigNumber:Ie,typed:$}),eI=lJ({BigNumber:Ie,Fraction:Xo,complex:Lp,typed:$}),zp=dJ({typed:$}),Ua=hJ({Matrix:Pp,equalScalar:Mt,typed:$}),Woe=gJ({typed:$}),Zoe=bJ({typed:$}),Yoe=wJ({typed:$}),bi=EJ({typed:$}),Qoe=CJ({typed:$}),tI=SJ({typed:$}),Xoe=_J({Complex:cr,config:De,typed:$}),Koe=IJ({BigNumber:Ie,typed:$}),H0=p0({isInteger:Kn,typed:$}),Joe=OJ({BigNumber:Ie,Complex:cr,config:De,typed:$}),ese=PJ({format:gl,typed:$}),tse=LJ({typed:$}),rse=zJ({typed:$}),nse=qJ({BigNumber:Ie,typed:$}),yl=HJ({typed:$}),ise=jJ({typed:$}),ase=WJ({config:De,typed:$}),ose=YJ({BigNumber:Ie,typed:$}),sse=XJ({typed:$}),use=JJ({SparseMatrix:Ua,typed:$}),Ui=ree({Complex:cr,config:De,typed:$}),cse=aee({typed:$}),pa=see({typed:$}),lse=cee({BigNumber:Ie,Complex:cr,config:De,typed:$}),fse=fee({BigNumber:Ie,typed:$}),Ou=mee({Fraction:Xo,typed:$}),ts=vee({typed:$}),_e=yee({DenseMatrix:Dt,Matrix:Pp,SparseMatrix:Ua,typed:$}),dse=Dee({isZero:zi,matrix:_e,typed:$}),pse=xee({isNaN:yl,isNumeric:ts,typed:$}),qi=Cee({bignumber:si,fraction:Ou,number:za}),rI=See({config:De,multiplyScalar:Or,numeric:qi,typed:$}),nI=_ee({isInteger:Kn,matrix:_e,typed:$}),fn=Iee({matrix:_e,config:De,typed:$}),mse=Oee({matrix:_e,typed:$}),bl=Pee({matrix:_e,typed:$}),iI=Lee({BigNumber:Ie,config:De,matrix:_e,typed:$}),dn=zee({BigNumber:Ie,config:De,matrix:_e,typed:$}),hse=qee({Complex:cr,config:De,typed:$}),aI=Hee({BigNumber:Ie,Complex:cr,Fraction:Xo,config:De,isNegative:vo,matrix:_e,typed:$,unaryMinus:pa}),Ut=MA({isInteger:Kn,matrix:_e,typed:$}),vse=jee({prod:rI,size:fn,typed:$}),$0=Wee({conj:Ko,transpose:bl,typed:$}),oI=Yee({DenseMatrix:Dt,SparseMatrix:Ua,matrix:_e,typed:$}),Mr=Xee({numeric:qi,typed:$}),Dl=tte({DenseMatrix:Dt,concat:Ut,divideScalar:Mr,equalScalar:Mt,matrix:_e,typed:$}),Di=nte({DenseMatrix:Dt,concat:Ut,equalScalar:Mt,matrix:_e,typed:$}),wl=ote({matrix:_e,typed:$}),gse=ute({isNumeric:ts,typed:$}),go=lte({BigNumber:Ie,DenseMatrix:Dt,SparseMatrix:Ua,config:De,matrix:_e,typed:$}),yse=dte({matrix:_e,multiplyScalar:Or,typed:$}),Up=mte({DenseMatrix:Dt,concat:Ut,config:De,matrix:_e,typed:$}),bse=bte({DenseMatrix:Dt,concat:Ut,equalScalar:Mt,matrix:_e,typed:$,zeros:dn}),sI=wte({DenseMatrix:Dt,divideScalar:Mr,equalScalar:Mt,matrix:_e,multiplyScalar:Or,subtractScalar:bi,typed:$}),j0=Ete({flatten:wl,matrix:_e,size:fn,typed:$}),Dse=Cte({BigNumber:Ie,concat:Ut,equalScalar:Mt,matrix:_e,typed:$}),wse=Mte({BigNumber:Ie,config:De,matrix:_e,typed:$}),G0=Tte({addScalar:tn,complex:Lp,conj:Ko,divideScalar:Mr,equal:Di,identity:go,isZero:zi,matrix:_e,multiplyScalar:Or,sign:eI,sqrt:Ui,subtractScalar:bi,typed:$,unaryMinus:pa,zeros:dn}),xse=Ote({config:De,matrix:_e}),Ese=Pte({DenseMatrix:Dt,concat:Ut,equalScalar:Mt,matrix:_e,typed:$,zeros:dn}),Ru=Lte({BigNumber:Ie,DenseMatrix:Dt,equalScalar:Mt,matrix:_e,typed:$,zeros:dn}),kn=zte({DenseMatrix:Dt,concat:Ut,config:De,matrix:_e,typed:$}),Rr=Vte({DenseMatrix:Dt,concat:Ut,equalScalar:Mt,matrix:_e,subtractScalar:bi,typed:$,unaryMinus:pa}),Nse=$te({concat:Ut,matrix:_e,typed:$}),Cse=Gte({DenseMatrix:Dt,concat:Ut,config:De,equalScalar:Mt,matrix:_e,typed:$}),W0=Yte({DenseMatrix:Dt,divideScalar:Mr,equalScalar:Mt,matrix:_e,multiplyScalar:Or,subtractScalar:bi,typed:$}),Ase=Xte({DenseMatrix:Dt,concat:Ut,matrix:_e,typed:$}),Ot=Jte({DenseMatrix:Dt,SparseMatrix:Ua,addScalar:tn,concat:Ut,equalScalar:Mt,matrix:_e,typed:$}),Sse=nre({BigNumber:Ie,DenseMatrix:Dt,concat:Ut,equalScalar:Mt,matrix:_e,typed:$}),Mse=$A({concat:Ut,equalScalar:Mt,matrix:_e,typed:$}),_se=eS({DenseMatrix:Dt,concat:Ut,equalScalar:Mt,matrix:_e,typed:$}),Tse=are({DenseMatrix:Dt,concat:Ut,matrix:_e,typed:$}),Ise=sre({addScalar:tn,combinations:Bp,divideScalar:Mr,isInteger:Kn,isNegative:vo,multiplyScalar:Or,typed:$}),rs=cre({BigNumber:Ie,DenseMatrix:Dt,Fraction:Xo,concat:Ut,config:De,equalScalar:Mt,matrix:_e,typed:$}),uI=dre({concat:Ut,matrix:_e,typed:$}),Fse=tS({add:Ot,typed:$,unaryPlus:k0}),Z0=mre({equal:Di,typed:$}),Ose=GA({matrix:_e,number:za,subtract:Rr,typed:$}),Rse=vre({abs:Ln,addScalar:tn,deepEqual:Z0,divideScalar:Mr,multiplyScalar:Or,sqrt:Ui,subtractScalar:bi,typed:$}),qp=yre({addScalar:tn,conj:Ko,multiplyScalar:Or,size:fn,typed:$}),Pse=Dre({compareText:uI,isZero:zi,typed:$}),cI=A2({DenseMatrix:Dt,config:De,equalScalar:Mt,matrix:_e,round:Ru,typed:$,zeros:dn}),Bse=Are({BigNumber:Ie,DenseMatrix:Dt,concat:Ut,config:De,equalScalar:Mt,matrix:_e,round:Ru,typed:$,zeros:dn}),Lse=Mre({abs:Ln,addScalar:tn,divideScalar:Mr,isPositive:Jo,multiplyScalar:Or,smaller:kn,sqrt:Ui,typed:$}),lI=Ire({DenseMatrix:Dt,smaller:kn}),xn=Rre({ImmutableDenseMatrix:lI,getMatrixDataType:U0}),zn=Bre({DenseMatrix:Dt,concat:Ut,config:De,matrix:_e,typed:$}),Y0=zre({Complex:cr,config:De,divideScalar:Mr,typed:$}),kse=qre({DenseMatrix:Dt,divideScalar:Mr,equalScalar:Mt,matrix:_e,multiplyScalar:Or,subtractScalar:bi,typed:$}),zse=Hre({flatten:wl,matrix:_e,size:fn,typed:$}),Use=YA({config:De,numeric:qi,smaller:kn,typed:$}),fI=M2({DenseMatrix:Dt,concat:Ut,config:De,equalScalar:Mt,matrix:_e,round:Ru,typed:$,zeros:dn}),Kt=jre({addScalar:tn,dot:qp,equalScalar:Mt,matrix:_e,multiplyScalar:Or,typed:$}),qse=Wre({Complex:cr,config:De,divideScalar:Mr,typed:$}),Vse=NA({DenseMatrix:Dt,concat:Ut,equalScalar:Mt,matrix:_e,typed:$}),Vp=Yre({compare:rs,isNaN:yl,isNumeric:ts,typed:$}),Hse=Xre({DenseMatrix:Dt,concat:Ut,equalScalar:Mt,matrix:_e,typed:$,zeros:dn}),dI=wne({SparseMatrix:Ua,abs:Ln,add:Ot,divideScalar:Mr,larger:zn,largerEq:Up,multiply:Kt,subtract:Rr,transpose:bl,typed:$}),ui=XA({add:Ot,matrix:_e,typed:$,zeros:dn}),Q0=iS({add:Ot,config:De,numeric:qi,typed:$}),$se=Nne({add:Ot,matrix:_e,typed:$}),pI=Ane({DenseMatrix:Dt,divideScalar:Mr,equalScalar:Mt,matrix:_e,multiplyScalar:Or,subtractScalar:bi,typed:$}),jse=Mne({Complex:cr,add:Ot,multiply:Kt,number:za,typed:$}),X0=Ine({DenseMatrix:Dt,config:De,equalScalar:Mt,matrix:_e,round:Ru,typed:$,zeros:dn}),ma=One({compare:rs,typed:$}),Gse=Bne({addScalar:tn,combinations:Bp,isInteger:Kn,isNegative:vo,isPositive:Jo,larger:zn,typed:$}),Wse=kne({matrix:_e,multiply:Kt,subtract:Rr,typed:$}),mI=Une({divideScalar:Mr,isZero:zi,matrix:_e,multiply:Kt,subtractScalar:bi,typed:$,unaryMinus:pa}),Zse=Vne({concat:Ut,equalScalar:Mt,matrix:_e,multiplyScalar:Or,typed:$}),hI=jne({larger:zn,smaller:kn}),vI=Zne({Complex:cr,DenseMatrix:Dt,ceil:X0,equalScalar:Mt,floor:cI,matrix:_e,typed:$,zeros:dn}),gI=Qne({Index:xn,typed:$}),Yse=Jne({abs:Ln,add:Ot,addScalar:tn,config:De,divideScalar:Mr,equalScalar:Mt,flatten:wl,isNumeric:ts,isZero:zi,matrix:_e,multiply:Kt,multiplyScalar:Or,smaller:kn,subtract:Rr,typed:$}),Qse=tie({BigNumber:Ie,add:Ot,config:De,equal:Di,isInteger:Kn,mod:fI,smaller:kn,typed:$,xgcd:iI}),Xse=nie({concat:Ut,equalScalar:Mt,matrix:_e,typed:$}),Kse=aie({Complex:cr,config:De,divideScalar:Mr,log:Y0,typed:$}),K0=TA({config:De,larger:zn,numeric:qi,typed:$}),Jse=sie({DenseMatrix:Dt,Index:xn,compareNatural:ma,size:fn,subset:ui,typed:$}),eue=cie({DenseMatrix:Dt,Index:xn,compareNatural:ma,size:fn,subset:ui,typed:$}),tue=fie({Index:xn,compareNatural:ma,size:fn,subset:ui,typed:$}),rue=pie({Index:xn,compareNatural:ma,size:fn,subset:ui,typed:$}),Pu=hie({DenseMatrix:Dt,concat:Ut,config:De,matrix:_e,typed:$}),nue=yie({compare:rs,compareNatural:ma,matrix:_e,typed:$}),iue=AA({concat:Ut,equalScalar:Mt,matrix:_e,not:kp,typed:$,zeros:dn}),Bu=sS({bignumber:si,matrix:_e,add:Ot,config:De,isPositive:Jo,larger:zn,largerEq:Up,smaller:kn,smallerEq:Pu,typed:$}),aue=cS({Index:xn,matrix:_e,range:Bu,typed:$}),yI=Die({DenseMatrix:Dt,Index:xn,compareNatural:ma,size:fn,subset:ui,typed:$}),oue=xie({Index:xn,compareNatural:ma,size:fn,subset:ui,typed:$}),bI=Nie({Index:xn,concat:Ut,setDifference:yI,size:fn,subset:ui,typed:$}),DI=Sie({FibonacciHeap:hI,addScalar:tn,equalScalar:Mt}),wI=fS({Index:xn,matrix:_e,range:Bu,typed:$}),ns=_ie({abs:Ln,addScalar:tn,det:mI,divideScalar:Mr,identity:go,matrix:_e,multiply:Kt,typed:$,unaryMinus:pa}),xI=Iie({DenseMatrix:Dt,Spa:DI,SparseMatrix:Ua,abs:Ln,addScalar:tn,divideScalar:Mr,equalScalar:Mt,larger:zn,matrix:_e,multiplyScalar:Or,subtractScalar:bi,typed:$,unaryMinus:pa}),sue=Oie({Complex:cr,add:Ot,ctranspose:$0,deepEqual:Z0,divideScalar:Mr,dot:qp,dotDivide:Dl,equal:Di,inv:ns,matrix:_e,multiply:Kt,typed:$}),wi=Pie({Complex:cr,config:De,fraction:Ou,identity:go,inv:ns,matrix:_e,multiply:Kt,number:za,typed:$}),EI=Lie({DenseMatrix:Dt,Index:xn,compareNatural:ma,size:fn,subset:ui,typed:$}),uue=zie({Index:xn,concat:Ut,setIntersect:EI,setSymDifference:bI,size:fn,subset:ui,typed:$}),cue=qie({abs:Ln,add:Ot,identity:go,inv:ns,map:es,max:K0,multiply:Kt,size:fn,sqrt:Ui,subtract:Rr,typed:$}),it=$ie({BigNumber:Ie,Complex:cr,Fraction:Xo,abs:Ln,addScalar:tn,config:De,divideScalar:Mr,equal:Di,fix:vI,format:gl,isNumeric:ts,multiplyScalar:Or,number:za,pow:wi,round:Ru,subtractScalar:bi}),lue=SY({BigNumber:Ie,Unit:it,config:De}),fue=uQ({BigNumber:Ie,Unit:it,config:De}),due=QY({BigNumber:Ie,Unit:it,config:De}),pue=TY({BigNumber:Ie,Unit:it,config:De}),mue=KY({BigNumber:Ie,Unit:it,config:De}),hue=IY({BigNumber:Ie,Unit:it,config:De}),vue=MY({BigNumber:Ie,Unit:it,config:De}),gue=HY({BigNumber:Ie,Unit:it,config:De}),yue=Gie({DenseMatrix:Dt,concat:Ut,equalScalar:Mt,matrix:_e,pow:wi,typed:$}),bue=AY({BigNumber:Ie,Unit:it,config:De}),Due=_Y({BigNumber:Ie,Unit:it,config:De}),wue=Zie({abs:Ln,add:Ot,identity:go,inv:ns,multiply:Kt,typed:$}),xue=JY({BigNumber:Ie,Unit:it,config:De}),NI=Qie({addScalar:tn,ceil:X0,conj:Ko,divideScalar:Mr,dotDivide:Dl,exp:KT,i:ZT,log2:JT,matrix:_e,multiplyScalar:Or,pow:wi,tau:QT,typed:$}),J0=Kie({BigNumber:Ie,Complex:cr,config:De,multiplyScalar:Or,pow:wi,typed:$}),Eue=xY({BigNumber:Ie,Unit:it,config:De}),Nue=qY({BigNumber:Ie,Unit:it,config:De}),Cue=eae({conj:Ko,dotDivide:Dl,fft:NI,typed:$}),Aue=PY({BigNumber:Ie,Unit:it,config:De}),Sue=tQ({BigNumber:Ie,Unit:it,config:De}),Mue=CY({BigNumber:Ie,Unit:it,config:De}),_ue=cQ({BigNumber:Ie,Unit:it,config:De}),Tue=nQ({BigNumber:Ie,Unit:it,config:De}),Iue=$Y({BigNumber:Ie,Unit:it,config:De}),Fue=RY({BigNumber:Ie,Unit:it,config:De}),Oue=hQ({BigNumber:Ie,Unit:it,config:De}),Rue=dQ({BigNumber:Ie,Unit:it,config:De}),Pue=vQ({BigNumber:Ie,Unit:it,config:De}),Bue=VY({BigNumber:Ie,Unit:it,config:De}),Lue=jY({BigNumber:Ie,Unit:it,config:De}),kue=NY({BigNumber:Ie,Unit:it,config:De}),zue=GY({BigNumber:Ie,Unit:it,config:De}),Uue=oQ({BigNumber:Ie,Unit:it,config:De}),que=wY({BigNumber:Ie,Unit:it,config:De}),Vue=sQ({BigNumber:Ie,Unit:it,config:De}),Hue=WY({BigNumber:Ie,Unit:it,config:De}),$ue=XY({BigNumber:Ie,Unit:it,config:De}),jue=BY({BigNumber:Ie,Unit:it,config:De}),Gue=rae({Unit:it,typed:$}),on=aae({divideScalar:Mr,equalScalar:Mt,inv:ns,matrix:_e,multiply:Kt,typed:$}),Wue=kY({BigNumber:Ie,Unit:it,config:De}),xl=sae({gamma:J0,typed:$}),Zue=eQ({BigNumber:Ie,Unit:it,config:De}),Yue=fQ({BigNumber:Ie,Unit:it,config:De}),Que=FY({BigNumber:Ie,Unit:it,config:De}),CI=cae({DenseMatrix:Dt,lsolve:sI,lup:xI,matrix:_e,slu:dI,typed:$,usolve:W0}),Xue=OY({BigNumber:Ie,Unit:it,config:De}),Kue=lQ({BigNumber:Ie,Unit:it,config:De}),Jue=fae({add:Ot,divide:on,factorial:xl,isInteger:Kn,isPositive:Jo,multiply:Kt,typed:$}),ece=pae({factorial:xl,typed:$}),tce=pQ({BigNumber:Ie,Unit:it,config:De}),rce=hae({add:Ot,cbrt:aI,divide:on,equalScalar:Mt,im:q0,isZero:zi,multiply:Kt,re:V0,sqrt:Ui,subtract:Rr,typeOf:tI,typed:$,unaryMinus:pa}),nce=gae({compareNatural:ma,typed:$}),ice=wae({abs:Ln,add:Ot,bignumber:si,divide:on,isNegative:vo,isPositive:Jo,larger:zn,map:es,matrix:_e,max:K0,multiply:Kt,smaller:kn,subtract:Rr,typed:$,unaryMinus:pa}),AI=Eae({bignumber:si,addScalar:tn,combinations:Bp,divideScalar:Mr,factorial:xl,isInteger:Kn,isNegative:vo,larger:zn,multiplyScalar:Or,number:za,pow:wi,subtractScalar:bi,typed:$}),ace=Cae({Unit:it,typed:$}),oce=Sae({addScalar:tn,isInteger:Kn,isNegative:vo,stirlingS2:AI,typed:$}),SI=Fae({abs:Ln,add:Ot,addScalar:tn,atan:XT,bignumber:si,column:wI,complex:Lp,config:De,cos:z0,diag:oI,divideScalar:Mr,dot:qp,equal:Di,flatten:wl,im:q0,inv:ns,larger:zn,matrix:_e,matrixFromColumns:j0,multiply:Kt,multiplyScalar:Or,number:za,qr:G0,re:V0,reshape:nI,sin:zp,size:fn,smaller:kn,sqrt:Ui,subtract:Rr,typed:$,usolve:W0,usolveAll:pI}),sce=zY({BigNumber:Ie,Unit:it,config:De}),uce=rQ({BigNumber:Ie,Unit:it,config:De}),MI=pS({add:Ot,divide:on,typed:$}),cce=iQ({BigNumber:Ie,Unit:it,config:De}),lce=EY({BigNumber:Ie,Unit:it,config:De}),fce=hS({bignumber:si,add:Ot,compare:rs,divide:on,isInteger:Kn,larger:zn,multiply:Kt,partitionSelect:Vp,smaller:kn,smallerEq:Pu,subtract:Rr,typed:$}),ey=gS({add:Ot,apply:H0,divide:on,isNaN:yl,multiply:Kt,subtract:Rr,typed:$}),dce=LY({BigNumber:Ie,Unit:it,config:De}),_I=Rae({add:Ot,compare:rs,divide:on,partitionSelect:Vp,typed:$}),pce=Bae({add:Ot,divide:on,matrix:_e,mean:MI,multiply:Kt,pow:wi,sqrt:Ui,subtract:Rr,sum:Q0,typed:$}),mce=kae({Complex:cr,add:Ot,divide:on,matrix:_e,multiply:Kt,typed:$}),hce=Uae({abs:Ln,map:es,median:_I,subtract:Rr,typed:$}),vce=DS({map:es,sqrt:Ui,typed:$,variance:ey}),gce=Vae({BigNumber:Ie,Complex:cr,add:Ot,config:De,divide:on,equal:Di,factorial:xl,gamma:J0,isNegative:vo,multiply:Kt,pi:L0,pow:wi,sin:zp,smallerEq:Pu,subtract:Rr,typed:$}),ty=$ae({abs:Ln,add:Ot,conj:Ko,ctranspose:$0,eigs:SI,equalScalar:Mt,larger:zn,matrix:_e,multiply:Kt,pow:wi,smaller:kn,sqrt:Ui,typed:$}),TI=Gae({BigNumber:Ie,DenseMatrix:Dt,SparseMatrix:Ua,addScalar:tn,config:De,cos:z0,matrix:_e,multiplyScalar:Or,norm:ty,sin:zp,typed:$,unaryMinus:pa}),yce=Zae({divide:on,dotDivide:Dl,isNumeric:ts,log:Y0,map:es,matrix:_e,multiply:Kt,sum:Q0,typed:$}),bce=mQ({BigNumber:Ie,Unit:it,config:De}),II=Qae({identity:go,matrix:_e,multiply:Kt,norm:ty,qr:G0,subtract:Rr,typed:$}),Dce=Kae({multiply:Kt,rotationMatrix:TI,typed:$}),FI=eoe({abs:Ln,add:Ot,concat:Ut,identity:go,index:gI,lusolve:CI,matrix:_e,matrixFromColumns:j0,multiply:Kt,range:Bu,schur:II,subset:ui,subtract:Rr,transpose:bl,typed:$}),wce=roe({matrix:_e,multiply:Kt,sylvester:FI,transpose:bl,typed:$}),Lu={},ku={},OI={},En=cz({mathWithTransform:ku}),zu=Fz({Node:En}),qa=Uz({Node:En}),is=Vz({Node:En}),RI=$z({Node:En}),Uu=Gz({Node:En}),PI=Zz({Node:En,ResultSet:YT}),BI=Qz({Node:En}),yo=Kz({Node:En}),LI=eU({Node:En}),xce=nU({classes:OI}),ry=oU({math:Lu,typed:$}),kI=uU({Node:En,typed:$}),Ece=lU({Chain:ry,typed:$}),qu=dU({Node:En,size:fn}),Vu=mU({Node:En,subset:ui}),zI=gU({matrix:_e,Node:En,subset:ui}),bo=DU({Unit:it,Node:En,math:Lu}),Do=xU({Node:En,SymbolNode:bo,math:Lu}),Vi=NU({AccessorNode:Vu,ArrayNode:Uu,AssignmentNode:zI,BlockNode:PI,ConditionalNode:BI,ConstantNode:yo,FunctionAssignmentNode:kI,FunctionNode:Do,IndexNode:qu,ObjectNode:zu,OperatorNode:qa,ParenthesisNode:is,RangeNode:LI,RelationalNode:RI,SymbolNode:bo,config:De,numeric:qi,typed:$}),UI=SU({ConstantNode:yo,FunctionNode:Do,OperatorNode:qa,ParenthesisNode:is,parse:Vi,typed:$}),ny=FU({bignumber:si,fraction:Ou,AccessorNode:Vu,ArrayNode:Uu,ConstantNode:yo,FunctionNode:Do,IndexNode:qu,ObjectNode:zu,OperatorNode:qa,SymbolNode:bo,config:De,mathWithTransform:ku,matrix:_e,typed:$}),Nce=RU({parse:Vi,typed:$}),qI=LU({parse:Vi}),Cce=zU({parse:Vi,typed:$}),iy=qU({AccessorNode:Vu,ArrayNode:Uu,ConstantNode:yo,FunctionNode:Do,IndexNode:qu,ObjectNode:zu,OperatorNode:qa,ParenthesisNode:is,SymbolNode:bo,add:Ot,divide:on,equal:Di,isZero:zi,multiply:Kt,parse:Vi,pow:wi,subtract:Rr,typed:$}),ay=HU({parse:Vi,typed:$}),Ace=gj({Help:qI,mathWithTransform:ku,typed:$}),VI=Dj({evaluate:ay}),Hp=Ej({bignumber:si,fraction:Ou,AccessorNode:Vu,ArrayNode:Uu,ConstantNode:yo,FunctionNode:Do,IndexNode:qu,ObjectNode:zu,OperatorNode:qa,ParenthesisNode:is,SymbolNode:bo,add:Ot,config:De,divide:on,equal:Di,isZero:zi,mathWithTransform:ku,matrix:_e,multiply:Kt,parse:Vi,pow:wi,resolve:UI,simplifyConstant:ny,simplifyCore:iy,subtract:Rr,typed:$}),Sce=Cj({OperatorNode:qa,parse:Vi,simplify:Hp,typed:$}),Mce=Sj({Parser:VI,typed:$}),_ce=_j({bignumber:si,fraction:Ou,AccessorNode:Vu,ArrayNode:Uu,ConstantNode:yo,FunctionNode:Do,IndexNode:qu,ObjectNode:zu,OperatorNode:qa,ParenthesisNode:is,SymbolNode:bo,add:Ot,config:De,divide:on,equal:Di,isZero:zi,mathWithTransform:ku,matrix:_e,multiply:Kt,parse:Vi,pow:wi,simplify:Hp,simplifyConstant:ny,simplifyCore:iy,subtract:Rr,typed:$}),Tce=Ij({ConstantNode:yo,FunctionNode:Do,OperatorNode:qa,ParenthesisNode:is,SymbolNode:bo,config:De,equal:Di,isZero:zi,numeric:qi,parse:Vi,simplify:Hp,typed:$});Xr(Lu,{e:WT,false:noe,fineStructure:ioe,i:ZT,Infinity:aoe,LN10:ooe,LOG10E:soe,NaN:uoe,null:coe,phi:loe,SQRT1_2:doe,sackurTetrode:poe,tau:QT,true:moe,E:WT,version:hoe,efimovFactor:voe,LN2:goe,pi:L0,replacer:yoe,reviver:xce,SQRT2:boe,typed:$,unaryPlus:k0,PI:L0,weakMixingAngle:Doe,abs:Ln,acos:woe,acot:xoe,acsc:Eoe,addScalar:tn,arg:Noe,asech:Coe,asinh:Aoe,atan:XT,atanh:Soe,bignumber:si,bitNot:Moe,boolean:_oe,clone:Toe,combinations:Bp,complex:Lp,conj:Ko,cos:z0,cot:Ioe,csc:Foe,cube:Ooe,equalScalar:Mt,erf:Roe,exp:KT,expm1:Poe,filter:Boe,forEach:Loe,format:gl,getMatrixDataType:U0,hex:koe,im:q0,isInteger:Kn,isNegative:vo,isPositive:Jo,isZero:zi,LOG2E:zoe,lgamma:Uoe,log10:qoe,log2:JT,map:es,multiplyScalar:Or,not:kp,number:za,oct:Voe,pickRandom:Hoe,print:$oe,random:joe,re:V0,sec:Goe,sign:eI,sin:zp,splitUnit:Woe,square:Zoe,string:Yoe,subtractScalar:bi,tan:Qoe,typeOf:tI,acosh:Xoe,acsch:Koe,apply:H0,asec:Joe,bin:ese,chain:Ece,combinationsWithRep:tse,cosh:rse,csch:nse,isNaN:yl,isPrime:ise,randomInt:ase,sech:ose,sinh:sse,sparse:use,sqrt:Ui,tanh:cse,unaryMinus:pa,acoth:lse,coth:fse,fraction:Ou,isNumeric:ts,matrix:_e,matrixFromFunction:dse,mode:pse,numeric:qi,prod:rI,reshape:nI,size:fn,squeeze:mse,transpose:bl,xgcd:iI,zeros:dn,asin:hse,cbrt:aI,concat:Ut,count:vse,ctranspose:$0,diag:oI,divideScalar:Mr,dotDivide:Dl,equal:Di,flatten:wl,hasNumericValue:gse,identity:go,kron:yse,largerEq:Up,leftShift:bse,lsolve:sI,matrixFromColumns:j0,nthRoot:Dse,ones:wse,qr:G0,resize:xse,rightArithShift:Ese,round:Ru,smaller:kn,subtract:Rr,to:Nse,unequal:Cse,usolve:W0,xor:Ase,add:Ot,atan2:Sse,bitAnd:Mse,bitOr:_se,bitXor:Tse,catalan:Ise,compare:rs,compareText:uI,cumsum:Fse,deepEqual:Z0,diff:Ose,distance:Rse,dot:qp,equalText:Pse,floor:cI,gcd:Bse,hypot:Lse,larger:zn,log:Y0,lsolveAll:kse,matrixFromRows:zse,min:Use,mod:fI,multiply:Kt,nthRoots:qse,or:Vse,partitionSelect:Vp,rightLogShift:Hse,slu:dI,subset:ui,sum:Q0,trace:$se,usolveAll:pI,zpk2tf:jse,ceil:X0,compareNatural:ma,composition:Gse,cross:Wse,det:mI,dotMultiply:Zse,fix:vI,index:gI,intersect:Yse,invmod:Qse,lcm:Xse,log1p:Kse,max:K0,setCartesian:Jse,setDistinct:eue,setIsSubset:tue,setPowerset:rue,smallerEq:Pu,sort:nue,and:iue,range:Bu,row:aue,setDifference:yI,setMultiplicity:oue,setSymDifference:bI,column:wI,inv:ns,lup:xI,pinv:sue,pow:wi,setIntersect:EI,setUnion:uue,sqrtm:cue,vacuumImpedance:lue,wienDisplacement:fue,atomicMass:due,bohrMagneton:pue,boltzmann:mue,conductanceQuantum:hue,coulomb:vue,deuteronMass:gue,dotPow:yue,electricConstant:bue,elementaryCharge:Due,expm:wue,faraday:xue,fft:NI,gamma:J0,gravitationConstant:Eue,hartreeEnergy:Nue,ifft:Cue,klitzing:Aue,loschmidt:Sue,magneticConstant:Mue,molarMass:_ue,molarPlanckConstant:Tue,neutronMass:Iue,nuclearMagneton:Fue,planckCharge:Oue,planckLength:Rue,planckTemperature:Pue,protonMass:Bue,quantumOfCirculation:Lue,reducedPlanckConstant:kue,rydberg:zue,secondRadiation:Uue,speedOfLight:que,stefanBoltzmann:Vue,thomsonCrossSection:Hue,avogadro:$ue,bohrRadius:jue,createUnit:Gue,divide:on,electronMass:Wue,factorial:xl,firstRadiation:Zue,gravity:Yue,inverseConductanceQuantum:Que,lusolve:CI,magneticFluxQuantum:Xue,molarMassC12:Kue,multinomial:Jue,parse:Vi,permutations:ece,planckMass:tce,polynomialRoot:rce,resolve:UI,setSize:nce,simplifyConstant:ny,solveODE:ice,stirlingS2:AI,unit:ace,bellNumbers:oce,compile:Nce,eigs:SI,fermiCoupling:sce,gasConstant:uce,leafCount:Cce,mean:MI,molarVolume:cce,planckConstant:lce,quantileSeq:fce,simplifyCore:iy,variance:ey,classicalElectronRadius:dce,evaluate:ay,help:Ace,median:_I,simplify:Hp,symbolicEqual:Sce,corr:pce,freqz:mce,mad:hce,parser:Mce,rationalize:_ce,std:vce,zeta:gce,derivative:Tce,norm:ty,rotationMatrix:TI,kldivergence:yce,planckTime:bce,schur:II,rotate:Dce,sylvester:FI,lyap:wce,config:De}),Xr(ku,Lu,{filter:Rj({typed:$}),forEach:Lj({typed:$}),map:Uj({typed:$}),apply:jj({isInteger:Kn,typed:$}),or:dG({DenseMatrix:Dt,concat:Ut,equalScalar:Mt,matrix:_e,typed:$}),and:xG({add:Ot,concat:Ut,equalScalar:Mt,matrix:_e,not:kp,typed:$,zeros:dn}),concat:AG({isInteger:Kn,matrix:_e,typed:$}),max:TG({config:De,larger:zn,numeric:qi,typed:$}),print:OG({add:Ot,matrix:_e,typed:$,zeros:dn}),bitAnd:HG({add:Ot,concat:Ut,equalScalar:Mt,matrix:_e,not:kp,typed:$,zeros:dn}),diff:GG({bignumber:si,matrix:_e,number:za,subtract:Rr,typed:$}),min:QG({config:De,numeric:qi,smaller:kn,typed:$}),subset:nW({add:Ot,matrix:_e,typed:$,zeros:dn}),bitOr:pW({DenseMatrix:Dt,concat:Ut,equalScalar:Mt,matrix:_e,typed:$}),cumsum:vW({add:Ot,typed:$,unaryPlus:k0}),index:bW({Index:xn,getMatrixDataType:U0}),sum:xW({add:Ot,config:De,numeric:qi,typed:$}),range:AW({bignumber:si,matrix:_e,add:Ot,config:De,isPositive:Jo,larger:zn,largerEq:Up,smaller:kn,smallerEq:Pu,typed:$}),row:TW({Index:xn,matrix:_e,range:Bu,typed:$}),column:RW({Index:xn,matrix:_e,range:Bu,typed:$}),mean:kW({add:Ot,divide:on,typed:$}),quantileSeq:VW({add:Ot,bignumber:si,compare:rs,divide:on,isInteger:Kn,larger:zn,multiply:Kt,partitionSelect:Vp,smaller:kn,smallerEq:Pu,subtract:Rr,typed:$}),variance:jW({add:Ot,apply:H0,divide:on,isNaN:yl,multiply:Kt,subtract:Rr,typed:$}),std:YW({map:es,sqrt:Ui,typed:$,variance:ey})}),Xr(OI,{BigNumber:Ie,Complex:cr,Fraction:Xo,Matrix:Pp,Node:En,ObjectNode:zu,OperatorNode:qa,ParenthesisNode:is,Range:foe,RelationalNode:RI,ResultSet:YT,ArrayNode:Uu,BlockNode:PI,ConditionalNode:BI,ConstantNode:yo,DenseMatrix:Dt,RangeNode:LI,Chain:ry,FunctionAssignmentNode:kI,SparseMatrix:Ua,IndexNode:qu,ImmutableDenseMatrix:lI,Index:xn,AccessorNode:Vu,AssignmentNode:zI,FibonacciHeap:hI,Spa:DI,Unit:it,SymbolNode:bo,FunctionNode:Do,Help:qI,Parser:VI}),ry.createProxy(Lu);let oy=(()=>{class e{eval(r){const n=this.normalizeOperators(r);try{const i=this.setPrecision10(ay(n));return _a.from(i)}catch(i){return i}}negate(r){return this.eval(`-${r}`)}normalizeOperators(r){return r.replace(/\u2212/g,"-").replace(/\xd7/g,"*").replace(/\xf7/g,"/")}setPrecision10(r){if(0===r)return"0";const n=Math.abs(r),i=1e-6<=n&&n<1?+r.toFixed(9):+r.toPrecision(10);return n<1e-6||1e10<=n?i.toExponential():i.toString()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Pt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ice=(()=>{class e{calculator;constructor(r){this.calculator=r}deleteClick(r){return{...r,input:_a.from("0")}}digitClick(r,n){return{...r,input:r.input.append(n)}}operatorClick(r,n){return{expression:r.expression+r.input,input:n}}negateClick(r){return{...r,input:r.input.negateMantissaOrExponent()}}equalsClick(r){const n=r.expression+r.input;return{expression:n+"=",input:this.calculator.eval(n)}}static \u0275fac=function(n){return new(n||e)(St(oy))};static \u0275prov=Pt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Fce=(()=>{class e{calculator;constructor(r){this.calculator=r}deleteClick(r){return r}digitClick(r,n){return{expression:r.expression+r.input,input:_a.from("0").append(n)}}operatorClick(r,n){return{...r,input:n}}negateClick(r){return r}equalsClick(r){return{expression:r.expression+"=",input:this.calculator.eval(r.expression)}}static \u0275fac=function(n){return new(n||e)(St(oy))};static \u0275prov=Pt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Oce=(()=>{class e{calculator;constructor(r){this.calculator=r}deleteClick(r){return r}digitClick(r,n){return{expression:"",input:_a.from("0").append(n)}}operatorClick(r,n){return{expression:`${r.input}`,input:n}}negateClick(r){return{...r,input:this.calculator.negate(r.input)}}equalsClick(r){return r}static \u0275fac=function(n){return new(n||e)(St(oy))};static \u0275prov=Pt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),sy=(()=>{class e{numberReducer;operatorReducer;resultReducer;initialState={expression:"",input:_a.from("0")};stateSignal=xP(this.initialState);reducer;constructor(r,n,i){this.numberReducer=r,this.operatorReducer=n,this.resultReducer=i,this.reducer=this.numberReducer}get state(){return this.stateSignal()}set state(r){this.stateSignal.set(r)}clearClick(){this.state=this.initialState,this.reducer=this.numberReducer}deleteClick(){this.state=this.reducer.deleteClick(this.state)}digitClick(r){this.state=this.reducer.digitClick(this.state,r),this.reducer=this.numberReducer}operatorClick(r){this.state=this.reducer.operatorClick(this.state,r),this.reducer=this.operatorReducer}negateClick(){this.state=this.reducer.negateClick(this.state)}equalsClick(){this.state=this.reducer.equalsClick(this.state),this.reducer=this.resultReducer}static \u0275fac=function(n){return new(n||e)(St(Ice),St(Fce),St(Oce))};static \u0275prov=Pt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Rce=(()=>{class e{stateService;operators=new Map([["Divide","\xf7"],["Multiply","\xd7"],["Add","+"],["Subtract","\u2212"]]);constructor(r){this.stateService=r}handleKeydown(r){if(!r.startsWith("Numpad"))return;const n=r.slice(6);if("Enter"===n)this.stateService.equalsClick();else if("Decimal"===n)this.stateService.digitClick(".");else if(this.isDigit(n))this.stateService.digitClick(n);else{const i=this.operators.get(n);i&&this.stateService.operatorClick(i)}}isDigit(r){return/\d/.test(r)}static \u0275fac=function(n){return new(n||e)(St(sy))};static \u0275prov=Pt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Pce(e,t){if(1&e&&(mr(0,"div",1)(1,"div",2),od(2),hr(),mr(3,"div",3),od(4),hr()()),2&e){const r=t.ngIf;Lf(2),Gc(r.expression),Lf(2),Gc(r.input)}}let Bce=(()=>{class e{stateService;constructor(r){this.stateService=r}static \u0275fac=function(n){return new(n||e)(Tt(sy))};static \u0275cmp=Ju({type:e,selectors:[["app-display"]],decls:1,vars:1,consts:[["class","display",4,"ngIf"],[1,"display"],["data-testid","expression",1,"expression"],[1,"input"]],template:function(n,i){1&n&&qs(0,Pce,5,2,"div",0),2&n&&Nv("ngIf",i.stateService.state)},dependencies:[$N],styles:[".display[_ngcontent-%COMP%]{width:100%;height:20%;padding:0 20px;background-color:silver}.expression[_ngcontent-%COMP%]{height:50%;font-size:5vh;line-height:2;overflow:scroll;overflow-x:hidden;overflow-wrap:break-word}.input[_ngcontent-%COMP%]{height:50%;font-size:7vh;line-height:1.5;text-align:right}"]})}return e})(),Lce=(()=>{class e{type="";symbol="";action=new aa;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ju({type:e,selectors:[["app-key"]],inputs:{type:"type",symbol:"symbol"},outputs:{action:"action"},decls:2,vars:3,consts:[[3,"click"]],template:function(n,i){1&n&&(mr(0,"button",0),Ar("click",function(){return i.action.emit(i.symbol)}),od(1),hr()),2&n&&(Gw(i.type),Lf(),Gc(i.symbol))},styles:["button[_ngcontent-%COMP%]{padding:0;border:none;border-radius:10vh;height:100%;width:100%;font-size:8vh;color:#fff}@media (orientation: portrait){button[_ngcontent-%COMP%]{font-size:5vh}}button[_ngcontent-%COMP%]:focus{outline:none;border:4px solid hsl(0,0%,10%)}button[_ngcontent-%COMP%]:hover{color:#000}.clear[_ngcontent-%COMP%]{background-color:#c20}.clear[_ngcontent-%COMP%]:hover{background-color:#ff7f66}.clear[_ngcontent-%COMP%]:active{background-color:#ff401a}.delete[_ngcontent-%COMP%]{background-color:#c60}.delete[_ngcontent-%COMP%]:hover{background-color:#ffb366}.delete[_ngcontent-%COMP%]:active{background-color:#ff8c1a}.digit[_ngcontent-%COMP%]{background-color:#666}.digit[_ngcontent-%COMP%]:hover{background-color:#b3b3b3}.digit[_ngcontent-%COMP%]:active{background-color:#8c8c8c}.equals[_ngcontent-%COMP%]{background-color:#08c}.equals[_ngcontent-%COMP%]:hover{background-color:#6cf}.equals[_ngcontent-%COMP%]:active{background-color:#1ab2ff}.negate[_ngcontent-%COMP%]{font-size:5vh;background-color:#474747}@media (orientation: portrait){.negate[_ngcontent-%COMP%]{font-size:3vh}}.negate[_ngcontent-%COMP%]:hover{background-color:#949494}.negate[_ngcontent-%COMP%]:active{background-color:#6e6e6e}.operator[_ngcontent-%COMP%]{background-color:#396}.operator[_ngcontent-%COMP%]:hover{background-color:#8cd9b3}.operator[_ngcontent-%COMP%]:active{background-color:#53c68c}"]})}return e})(),kce=(()=>{class e{stateService;constructor(r){this.stateService=r}onClearClick(){this.stateService.clearClick()}onDeleteClick(){this.stateService.deleteClick()}onOperatorClick(r){this.stateService.operatorClick(r)}onNegateClick(){this.stateService.negateClick()}onEqualsClick(){this.stateService.equalsClick()}onDigitClick(r){this.stateService.digitClick(r)}static \u0275fac=function(n){return new(n||e)(Tt(sy))};static \u0275cmp=Ju({type:e,selectors:[["app-keypad"]],decls:21,vars:0,consts:[[1,"keypad"],["id","clear","symbol","AC","type","clear",3,"action"],["id","delete","symbol","C","type","delete",3,"action"],["id","divide","symbol","\xf7","type","operator",3,"action"],["id","multiply","symbol","\xd7","type","operator",3,"action"],["id","add","symbol","+","type","operator",3,"action"],["id","subtract","symbol","\u2212","type","operator",3,"action"],["id","negate","symbol","+/-","type","negate",3,"action"],["id","equals","symbol","=","type","equals",3,"action"],["id","exponent","symbol","e","type","digit",3,"action"],["id","decimal","symbol",".","type","digit",3,"action"],["id","zero","symbol","0","type","digit",3,"action"],["id","one","symbol","1","type","digit",3,"action"],["id","two","symbol","2","type","digit",3,"action"],["id","three","symbol","3","type","digit",3,"action"],["id","four","symbol","4","type","digit",3,"action"],["id","five","symbol","5","type","digit",3,"action"],["id","six","symbol","6","type","digit",3,"action"],["id","seven","symbol","7","type","digit",3,"action"],["id","eight","symbol","8","type","digit",3,"action"],["id","nine","symbol","9","type","digit",3,"action"]],template:function(n,i){1&n&&(mr(0,"div",0)(1,"app-key",1),Ar("action",function(){return i.onClearClick()}),hr(),mr(2,"app-key",2),Ar("action",function(){return i.onDeleteClick()}),hr(),mr(3,"app-key",3),Ar("action",function(o){return i.onOperatorClick(o)}),hr(),mr(4,"app-key",4),Ar("action",function(o){return i.onOperatorClick(o)}),hr(),mr(5,"app-key",5),Ar("action",function(o){return i.onOperatorClick(o)}),hr(),mr(6,"app-key",6),Ar("action",function(o){return i.onOperatorClick(o)}),hr(),mr(7,"app-key",7),Ar("action",function(){return i.onNegateClick()}),hr(),mr(8,"app-key",8),Ar("action",function(){return i.onEqualsClick()}),hr(),mr(9,"app-key",9),Ar("action",function(o){return i.onDigitClick(o)}),hr(),mr(10,"app-key",10),Ar("action",function(o){return i.onDigitClick(o)}),hr(),mr(11,"app-key",11),Ar("action",function(o){return i.onDigitClick(o)}),hr(),mr(12,"app-key",12),Ar("action",function(o){return i.onDigitClick(o)}),hr(),mr(13,"app-key",13),Ar("action",function(o){return i.onDigitClick(o)}),hr(),mr(14,"app-key",14),Ar("action",function(o){return i.onDigitClick(o)}),hr(),mr(15,"app-key",15),Ar("action",function(o){return i.onDigitClick(o)}),hr(),mr(16,"app-key",16),Ar("action",function(o){return i.onDigitClick(o)}),hr(),mr(17,"app-key",17),Ar("action",function(o){return i.onDigitClick(o)}),hr(),mr(18,"app-key",18),Ar("action",function(o){return i.onDigitClick(o)}),hr(),mr(19,"app-key",19),Ar("action",function(o){return i.onDigitClick(o)}),hr(),mr(20,"app-key",20),Ar("action",function(o){return i.onDigitClick(o)}),hr()())},dependencies:[Lce],styles:['.keypad[_ngcontent-%COMP%]{height:80%;background-color:#1a1a1a;display:grid;grid-template-areas:"cle del neg div" "sev eig nin mul" "fou fiv six sub" "one two thr add" "zer dec exp equ";grid-template-columns:repeat(4,1fr);grid-auto-rows:19.2%;gap:1%}@media (orientation: landscape){.keypad[_ngcontent-%COMP%]{grid-template-areas:"sev eig nin del cle" "fou fiv six mul div" "one two thr add sub" "zer dec exp equ neg";grid-template-columns:repeat(5,1fr);grid-auto-rows:24.2%}}#clear[_ngcontent-%COMP%]{grid-area:cle}#delete[_ngcontent-%COMP%]{grid-area:del}#divide[_ngcontent-%COMP%]{grid-area:div}#multiply[_ngcontent-%COMP%]{grid-area:mul}#subtract[_ngcontent-%COMP%]{grid-area:sub}#add[_ngcontent-%COMP%]{grid-area:add}#negate[_ngcontent-%COMP%]{grid-area:neg}#equals[_ngcontent-%COMP%]{grid-area:equ}#one[_ngcontent-%COMP%]{grid-area:one}#two[_ngcontent-%COMP%]{grid-area:two}#three[_ngcontent-%COMP%]{grid-area:thr}#four[_ngcontent-%COMP%]{grid-area:fou}#five[_ngcontent-%COMP%]{grid-area:fiv}#six[_ngcontent-%COMP%]{grid-area:six}#seven[_ngcontent-%COMP%]{grid-area:sev}#eight[_ngcontent-%COMP%]{grid-area:eig}#nine[_ngcontent-%COMP%]{grid-area:nin}#zero[_ngcontent-%COMP%]{grid-area:zer}#decimal[_ngcontent-%COMP%]{grid-area:dec}#exponent[_ngcontent-%COMP%]{grid-area:exp}']})}return e})(),zce=(()=>{class e{keydownService;constructor(r){this.keydownService=r}onKeydown(r){this.keydownService.handleKeydown(r)}static \u0275fac=function(n){return new(n||e)(Tt(Rce))};static \u0275cmp=Ju({type:e,selectors:[["app-root"]],hostBindings:function(n,i){1&n&&Ar("keydown",function(o){return i.onKeydown(o.code)},0,G1)},decls:3,vars:0,consts:[[1,"app"]],template:function(n,i){1&n&&(mr(0,"div",0),Iv(1,"app-display")(2,"app-keypad"),hr())},dependencies:[Bce,kce],styles:[".app[_ngcontent-%COMP%]{height:100vh}"]})}return e})(),Uce=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=Co({type:e});static \u0275inj=Ga({imports:[Og]})}return e})(),qce=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=Co({type:e});static \u0275inj=Ga({imports:[Og]})}return e})(),Vce=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=Co({type:e,bootstrap:[zce]});static \u0275inj=Ga({imports:[S7,Uce,qce]})}return e})();C7().bootstrapModule(Vce).catch(e=>console.error(e))},241:function(gt,Bt){var Ce;!function(et){"use strict";var Me=Math.cosh||function(O){return Math.abs(O)<1e-9?1-O:.5*(Math.exp(O)+Math.exp(-O))},ot=Math.sinh||function(O){return Math.abs(O)<1e-9?O:.5*(Math.exp(O)-Math.exp(-O))},tt=function(){throw SyntaxError("Invalid Param")};function Le(O,L){var V=Math.abs(O),W=Math.abs(L);return 0===O?Math.log(W):0===L?Math.log(V):V<3e3&&W<3e3?.5*Math.log(O*O+L*L):(O/=2,L/=2,.5*Math.log(O*O+L*L)+Math.LN2)}function Z(O,L){if(!(this instanceof Z))return new Z(O,L);var V=function(O,L){var V={re:0,im:0};if(null==O)V.re=V.im=0;else if(void 0!==L)V.re=O,V.im=L;else switch(typeof O){case"object":if("im"in O&&"re"in O)V.re=O.re,V.im=O.im;else if("abs"in O&&"arg"in O){if(!Number.isFinite(O.abs)&&Number.isFinite(O.arg))return Z.INFINITY;V.re=O.abs*Math.cos(O.arg),V.im=O.abs*Math.sin(O.arg)}else if("r"in O&&"phi"in O){if(!Number.isFinite(O.r)&&Number.isFinite(O.phi))return Z.INFINITY;V.re=O.r*Math.cos(O.phi),V.im=O.r*Math.sin(O.phi)}else 2===O.length?(V.re=O[0],V.im=O[1]):tt();break;case"string":V.im=V.re=0;var W=O.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),J=1,le=0;null===W&&tt();for(var we=0;we<W.length;we++){var qe=W[we];" "===qe||"\t"===qe||"\n"===qe||("+"===qe?J++:"-"===qe?le++:"i"===qe||"I"===qe?(J+le===0&&tt()," "===W[we+1]||isNaN(W[we+1])?V.im+=parseFloat((le%2?"-":"")+"1"):(V.im+=parseFloat((le%2?"-":"")+W[we+1]),we++),J=le=0):((J+le===0||isNaN(qe))&&tt(),"i"===W[we+1]||"I"===W[we+1]?(V.im+=parseFloat((le%2?"-":"")+qe),we++):V.re+=parseFloat((le%2?"-":"")+qe),J=le=0))}J+le>0&&tt();break;case"number":V.im=0,V.re=O;break;default:tt()}return isNaN(V.re)||isNaN(V.im),V}(O,L);this.re=V.re,this.im=V.im}Z.prototype={re:0,im:0,sign:function(){var O=this.abs();return new Z(this.re/O,this.im/O)},add:function(O,L){var V=new Z(O,L);return this.isInfinite()&&V.isInfinite()?Z.NAN:this.isInfinite()||V.isInfinite()?Z.INFINITY:new Z(this.re+V.re,this.im+V.im)},sub:function(O,L){var V=new Z(O,L);return this.isInfinite()&&V.isInfinite()?Z.NAN:this.isInfinite()||V.isInfinite()?Z.INFINITY:new Z(this.re-V.re,this.im-V.im)},mul:function(O,L){var V=new Z(O,L);return this.isInfinite()&&V.isZero()||this.isZero()&&V.isInfinite()?Z.NAN:this.isInfinite()||V.isInfinite()?Z.INFINITY:0===V.im&&0===this.im?new Z(this.re*V.re,0):new Z(this.re*V.re-this.im*V.im,this.re*V.im+this.im*V.re)},div:function(O,L){var V=new Z(O,L);if(this.isZero()&&V.isZero()||this.isInfinite()&&V.isInfinite())return Z.NAN;if(this.isInfinite()||V.isZero())return Z.INFINITY;if(this.isZero()||V.isInfinite())return Z.ZERO;O=this.re,L=this.im;var le,we,W=V.re,J=V.im;return 0===J?new Z(O/W,L/W):Math.abs(W)<Math.abs(J)?new Z((O*(we=W/J)+L)/(le=W*we+J),(L*we-O)/le):new Z((O+L*(we=J/W))/(le=J*we+W),(L-O*we)/le)},pow:function(O,L){var V=new Z(O,L);if(O=this.re,L=this.im,V.isZero())return Z.ONE;if(0===V.im){if(0===L&&O>0)return new Z(Math.pow(O,V.re),0);if(0===O)switch((V.re%4+4)%4){case 0:return new Z(Math.pow(L,V.re),0);case 1:return new Z(0,Math.pow(L,V.re));case 2:return new Z(-Math.pow(L,V.re),0);case 3:return new Z(0,-Math.pow(L,V.re))}}if(0===O&&0===L&&V.re>0&&V.im>=0)return Z.ZERO;var W=Math.atan2(L,O),J=Le(O,L);return O=Math.exp(V.re*J-V.im*W),L=V.im*J+V.re*W,new Z(O*Math.cos(L),O*Math.sin(L))},sqrt:function(){var W,J,O=this.re,L=this.im,V=this.abs();if(O>=0){if(0===L)return new Z(Math.sqrt(O),0);W=.5*Math.sqrt(2*(V+O))}else W=Math.abs(L)/Math.sqrt(2*(V-O));return J=O<=0?.5*Math.sqrt(2*(V-O)):Math.abs(L)/Math.sqrt(2*(V+O)),new Z(W,L<0?-J:J)},exp:function(){var O=Math.exp(this.re);return new Z(O*Math.cos(this.im),O*Math.sin(this.im))},expm1:function(){var O=this.re,L=this.im;return new Z(Math.expm1(O)*Math.cos(L)+function(O){var L=Math.PI/4;if(-L>O||O>L)return Math.cos(O)-1;var V=O*O;return V*(V*(V*(V*(V*(V*(V*(V/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(L),Math.exp(O)*Math.sin(L))},log:function(){var O=this.re,L=this.im;return new Z(Le(O,L),Math.atan2(L,O))},abs:function(){return O=this.re,L=this.im,V=Math.abs(O),W=Math.abs(L),V<3e3&&W<3e3?Math.sqrt(V*V+W*W):(V<W?(V=W,W=O/L):W=L/O,V*Math.sqrt(1+W*W));var O,L,V,W},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var O=this.re,L=this.im;return new Z(Math.sin(O)*Me(L),Math.cos(O)*ot(L))},cos:function(){var O=this.re,L=this.im;return new Z(Math.cos(O)*Me(L),-Math.sin(O)*ot(L))},tan:function(){var O=2*this.re,L=2*this.im,V=Math.cos(O)+Me(L);return new Z(Math.sin(O)/V,ot(L)/V)},cot:function(){var O=2*this.re,L=2*this.im,V=Math.cos(O)-Me(L);return new Z(-Math.sin(O)/V,ot(L)/V)},sec:function(){var O=this.re,L=this.im,V=.5*Me(2*L)+.5*Math.cos(2*O);return new Z(Math.cos(O)*Me(L)/V,Math.sin(O)*ot(L)/V)},csc:function(){var O=this.re,L=this.im,V=.5*Me(2*L)-.5*Math.cos(2*O);return new Z(Math.sin(O)*Me(L)/V,-Math.cos(O)*ot(L)/V)},asin:function(){var O=this.re,L=this.im,V=new Z(L*L-O*O+1,-2*O*L).sqrt(),W=new Z(V.re-L,V.im+O).log();return new Z(W.im,-W.re)},acos:function(){var O=this.re,L=this.im,V=new Z(L*L-O*O+1,-2*O*L).sqrt(),W=new Z(V.re-L,V.im+O).log();return new Z(Math.PI/2-W.im,W.re)},atan:function(){var O=this.re,L=this.im;if(0===O){if(1===L)return new Z(0,1/0);if(-1===L)return new Z(0,-1/0)}var V=O*O+(1-L)*(1-L),W=new Z((1-L*L-O*O)/V,-2*O/V).log();return new Z(-.5*W.im,.5*W.re)},acot:function(){var O=this.re,L=this.im;if(0===L)return new Z(Math.atan2(1,O),0);var V=O*O+L*L;return 0!==V?new Z(O/V,-L/V).atan():new Z(0!==O?O/0:0,0!==L?-L/0:0).atan()},asec:function(){var O=this.re,L=this.im;if(0===O&&0===L)return new Z(0,1/0);var V=O*O+L*L;return 0!==V?new Z(O/V,-L/V).acos():new Z(0!==O?O/0:0,0!==L?-L/0:0).acos()},acsc:function(){var O=this.re,L=this.im;if(0===O&&0===L)return new Z(Math.PI/2,1/0);var V=O*O+L*L;return 0!==V?new Z(O/V,-L/V).asin():new Z(0!==O?O/0:0,0!==L?-L/0:0).asin()},sinh:function(){var O=this.re,L=this.im;return new Z(ot(O)*Math.cos(L),Me(O)*Math.sin(L))},cosh:function(){var O=this.re,L=this.im;return new Z(Me(O)*Math.cos(L),ot(O)*Math.sin(L))},tanh:function(){var O=2*this.re,L=2*this.im,V=Me(O)+Math.cos(L);return new Z(ot(O)/V,Math.sin(L)/V)},coth:function(){var O=2*this.re,L=2*this.im,V=Me(O)-Math.cos(L);return new Z(ot(O)/V,-Math.sin(L)/V)},csch:function(){var O=this.re,L=this.im,V=Math.cos(2*L)-Me(2*O);return new Z(-2*ot(O)*Math.cos(L)/V,2*Me(O)*Math.sin(L)/V)},sech:function(){var O=this.re,L=this.im,V=Math.cos(2*L)+Me(2*O);return new Z(2*Me(O)*Math.cos(L)/V,-2*ot(O)*Math.sin(L)/V)},asinh:function(){var O=this.im;this.im=-this.re,this.re=O;var L=this.asin();return this.re=-this.im,this.im=O,O=L.re,L.re=-L.im,L.im=O,L},acosh:function(){var O=this.acos();if(O.im<=0){var L=O.re;O.re=-O.im,O.im=L}else L=O.im,O.im=-O.re,O.re=L;return O},atanh:function(){var O=this.re,L=this.im,V=O>1&&0===L,W=1-O,J=1+O,le=W*W+L*L,we=0!==le?new Z((J*W-L*L)/le,(L*W+J*L)/le):new Z(-1!==O?O/0:0,0!==L?L/0:0),qe=we.re;return we.re=Le(we.re,we.im)/2,we.im=Math.atan2(we.im,qe)/2,V&&(we.im=-we.im),we},acoth:function(){var O=this.re,L=this.im;if(0===O&&0===L)return new Z(0,Math.PI/2);var V=O*O+L*L;return 0!==V?new Z(O/V,-L/V).atanh():new Z(0!==O?O/0:0,0!==L?-L/0:0).atanh()},acsch:function(){var O=this.re,L=this.im;if(0===L)return new Z(0!==O?Math.log(O+Math.sqrt(O*O+1)):1/0,0);var V=O*O+L*L;return 0!==V?new Z(O/V,-L/V).asinh():new Z(0!==O?O/0:0,0!==L?-L/0:0).asinh()},asech:function(){var O=this.re,L=this.im;if(this.isZero())return Z.INFINITY;var V=O*O+L*L;return 0!==V?new Z(O/V,-L/V).acosh():new Z(0!==O?O/0:0,0!==L?-L/0:0).acosh()},inverse:function(){if(this.isZero())return Z.INFINITY;if(this.isInfinite())return Z.ZERO;var O=this.re,L=this.im,V=O*O+L*L;return new Z(O/V,-L/V)},conjugate:function(){return new Z(this.re,-this.im)},neg:function(){return new Z(-this.re,-this.im)},ceil:function(O){return O=Math.pow(10,O||0),new Z(Math.ceil(this.re*O)/O,Math.ceil(this.im*O)/O)},floor:function(O){return O=Math.pow(10,O||0),new Z(Math.floor(this.re*O)/O,Math.floor(this.im*O)/O)},round:function(O){return O=Math.pow(10,O||0),new Z(Math.round(this.re*O)/O,Math.round(this.im*O)/O)},equals:function(O,L){var V=new Z(O,L);return Math.abs(V.re-this.re)<=Z.EPSILON&&Math.abs(V.im-this.im)<=Z.EPSILON},clone:function(){return new Z(this.re,this.im)},toString:function(){var O=this.re,L=this.im,V="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(O)<Z.EPSILON&&(O=0),Math.abs(L)<Z.EPSILON&&(L=0),0===L?V+O:(0!==O?(V+=O,V+=" ",L<0?(L=-L,V+="-"):V+="+",V+=" "):L<0&&(L=-L,V+="-"),1!==L&&(V+=L),V+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},Z.ZERO=new Z(0,0),Z.ONE=new Z(1,0),Z.I=new Z(0,1),Z.PI=new Z(Math.PI,0),Z.E=new Z(Math.E,0),Z.INFINITY=new Z(1/0,1/0),Z.NAN=new Z(NaN,NaN),Z.EPSILON=1e-15,void 0!==(Ce=function(){return Z}.apply(Bt,[]))&&(gt.exports=Ce)}()},834:gt=>{"use strict";var Bt=Object.assign||function(Me){for(var ot=1;ot<arguments.length;ot++){var Ze=arguments[ot];for(var Ye in Ze)Object.prototype.hasOwnProperty.call(Ze,Ye)&&(Me[Ye]=Ze[Ye])}return Me},ke={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},Ce={"\u2013":"\\--","\u2014":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},et=function(ot,Ze){return Bt({},ot,Ze)};gt.exports=function(Me){for(var ot=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ze=ot.preserveFormatting,Ye=void 0!==Ze&&Ze,tt=ot.escapeMapFn,Le=void 0===tt?et:tt,te=String(Me),Z="",O=Le(Bt({},ke),Ye?Bt({},Ce):{}),L=Object.keys(O),V=function(){var J=!1;L.forEach(function(le,we){J||te.length>=le.length&&te.slice(0,le.length)===le&&(Z+=O[L[we]],te=te.slice(le.length,te.length),J=!0)}),J||(Z+=te.slice(0,1),te=te.slice(1,te.length))};te;)V();return Z}},170:gt=>{gt.exports=function Bt(ke,Ce){"use strict";var W,J,et=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,Me=/(^[ ]*|[ ]*$)/g,ot=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,Ze=/^0x[0-9a-f]+$/i,Ye=/^0/,tt=function(qe){return Bt.insensitive&&(""+qe).toLowerCase()||""+qe},Le=tt(ke).replace(Me,"")||"",te=tt(Ce).replace(Me,"")||"",Z=Le.replace(et,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),O=te.replace(et,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),L=parseInt(Le.match(Ze),16)||1!==Z.length&&Le.match(ot)&&Date.parse(Le),V=parseInt(te.match(Ze),16)||L&&te.match(ot)&&Date.parse(te)||null;if(V){if(L<V)return-1;if(L>V)return 1}for(var le=0,we=Math.max(Z.length,O.length);le<we;le++){if(W=!(Z[le]||"").match(Ye)&&parseFloat(Z[le])||Z[le]||0,J=!(O[le]||"").match(Ye)&&parseFloat(O[le])||O[le]||0,isNaN(W)!==isNaN(J))return isNaN(W)?1:-1;if(typeof W!=typeof J&&(W+="",J+=""),W<J)return-1;if(W>J)return 1}return 0}},780:function(gt){!function(Bt){"use strict";var Ce={s:1,n:0,d:1};function et(W,J){if(isNaN(W=parseInt(W,10)))throw L();return W*J}function Me(W,J){if(0===J)throw O();var le=Object.create(Z.prototype);le.s=W<0?-1:1;var we=te(W=W<0?-W:W,J);return le.n=W/we,le.d=J/we,le}function ot(W){for(var J={},le=W,we=2,qe=4;qe<=le;){for(;le%we==0;)le/=we,J[we]=(J[we]||0)+1;qe+=1+2*we++}return le!==W?le>1&&(J[le]=(J[le]||0)+1):J[W]=(J[W]||0)+1,J}var Ze=function(W,J){var jr,le=0,we=1,qe=1,zt=0,Lt=0,wt=0,Rt=1,ar=1,$e=0,je=1,kt=1,xt=1,Ur=1e7;if(null!=W)if(void 0!==J){if(qe=(le=W)*(we=J),le%1!=0||we%1!=0)throw V()}else switch(typeof W){case"object":if("d"in W&&"n"in W)le=W.n,we=W.d,"s"in W&&(le*=W.s);else{if(!(0 in W))throw L();le=W[0],1 in W&&(we=W[1])}qe=le*we;break;case"number":if(W<0&&(qe=W,W=-W),W%1==0)le=W;else if(W>0){for(W>=1&&(W/=ar=Math.pow(10,Math.floor(1+Math.log(W)/Math.LN10)));je<=Ur&&xt<=Ur;){if(W===(jr=($e+kt)/(je+xt))){je+xt<=Ur?(le=$e+kt,we=je+xt):xt>je?(le=kt,we=xt):(le=$e,we=je);break}W>jr?($e+=kt,je+=xt):(kt+=$e,xt+=je),je>Ur?(le=kt,we=xt):(le=$e,we=je)}le*=ar}else(isNaN(W)||isNaN(J))&&(we=le=NaN);break;case"string":if(null===(je=W.match(/\d+|./g)))throw L();if("-"===je[$e]?(qe=-1,$e++):"+"===je[$e]&&$e++,je.length===$e+1?Lt=et(je[$e++],qe):"."===je[$e+1]||"."===je[$e]?("."!==je[$e]&&(zt=et(je[$e++],qe)),(1+ ++$e===je.length||"("===je[$e+1]&&")"===je[$e+3]||"'"===je[$e+1]&&"'"===je[$e+3])&&(Lt=et(je[$e],qe),Rt=Math.pow(10,je[$e].length),$e++),("("===je[$e]&&")"===je[$e+2]||"'"===je[$e]&&"'"===je[$e+2])&&(wt=et(je[$e+1],qe),ar=Math.pow(10,je[$e+1].length)-1,$e+=3)):"/"===je[$e+1]||":"===je[$e+1]?(Lt=et(je[$e],qe),Rt=et(je[$e+2],1),$e+=3):"/"===je[$e+3]&&" "===je[$e+1]&&(zt=et(je[$e],qe),Lt=et(je[$e+2],qe),Rt=et(je[$e+4],1),$e+=5),je.length<=$e){qe=le=wt+(we=Rt*ar)*zt+ar*Lt;break}default:throw L()}if(0===we)throw O();Ce.s=qe<0?-1:1,Ce.n=Math.abs(le),Ce.d=Math.abs(we)};function te(W,J){if(!W)return J;if(!J)return W;for(;;){if(!(W%=J))return J;if(!(J%=W))return W}}function Z(W,J){if(Ze(W,J),!(this instanceof Z))return Me(Ce.s*Ce.n,Ce.d);W=te(Ce.d,Ce.n),this.s=Ce.s,this.n=Ce.n/W,this.d=Ce.d/W}var O=function(){return new Error("Division by Zero")},L=function(){return new Error("Invalid argument")},V=function(){return new Error("Parameters must be integer")};Z.prototype={s:1,n:0,d:1,abs:function(){return Me(this.n,this.d)},neg:function(){return Me(-this.s*this.n,this.d)},add:function(W,J){return Ze(W,J),Me(this.s*this.n*Ce.d+Ce.s*this.d*Ce.n,this.d*Ce.d)},sub:function(W,J){return Ze(W,J),Me(this.s*this.n*Ce.d-Ce.s*this.d*Ce.n,this.d*Ce.d)},mul:function(W,J){return Ze(W,J),Me(this.s*Ce.s*this.n*Ce.n,this.d*Ce.d)},div:function(W,J){return Ze(W,J),Me(this.s*Ce.s*this.n*Ce.d,this.d*Ce.n)},clone:function(){return Me(this.s*this.n,this.d)},mod:function(W,J){if(isNaN(this.n)||isNaN(this.d))return new Z(NaN);if(void 0===W)return Me(this.s*this.n%this.d,1);if(Ze(W,J),0===Ce.n&&0===this.d)throw O();return Me(this.s*(Ce.d*this.n)%(Ce.n*this.d),Ce.d*this.d)},gcd:function(W,J){return Ze(W,J),Me(te(Ce.n,this.n)*te(Ce.d,this.d),Ce.d*this.d)},lcm:function(W,J){return Ze(W,J),0===Ce.n&&0===this.n?Me(0,1):Me(Ce.n*this.n,te(Ce.n,this.n)*te(Ce.d,this.d))},ceil:function(W){return W=Math.pow(10,W||0),isNaN(this.n)||isNaN(this.d)?new Z(NaN):Me(Math.ceil(W*this.s*this.n/this.d),W)},floor:function(W){return W=Math.pow(10,W||0),isNaN(this.n)||isNaN(this.d)?new Z(NaN):Me(Math.floor(W*this.s*this.n/this.d),W)},round:function(W){return W=Math.pow(10,W||0),isNaN(this.n)||isNaN(this.d)?new Z(NaN):Me(Math.round(W*this.s*this.n/this.d),W)},inverse:function(){return Me(this.s*this.d,this.n)},pow:function(W,J){if(Ze(W,J),1===Ce.d)return Ce.s<0?Me(Math.pow(this.s*this.d,Ce.n),Math.pow(this.n,Ce.n)):Me(Math.pow(this.s*this.n,Ce.n),Math.pow(this.d,Ce.n));if(this.s<0)return null;var le=ot(this.n),we=ot(this.d),qe=1,zt=1;for(var Lt in le)if("1"!==Lt){if("0"===Lt){qe=0;break}if(le[Lt]*=Ce.n,le[Lt]%Ce.d!=0)return null;le[Lt]/=Ce.d,qe*=Math.pow(Lt,le[Lt])}for(var Lt in we)if("1"!==Lt){if(we[Lt]*=Ce.n,we[Lt]%Ce.d!=0)return null;we[Lt]/=Ce.d,zt*=Math.pow(Lt,we[Lt])}return Ce.s<0?Me(zt,qe):Me(qe,zt)},equals:function(W,J){return Ze(W,J),this.s*this.n*Ce.d==Ce.s*Ce.n*this.d},compare:function(W,J){Ze(W,J);var le=this.s*this.n*Ce.d-Ce.s*Ce.n*this.d;return(0<le)-(le<0)},simplify:function(W){if(isNaN(this.n)||isNaN(this.d))return this;W=W||.001;for(var J=this.abs(),le=J.toContinued(),we=1;we<le.length;we++){for(var qe=Me(le[we-1],1),zt=we-2;zt>=0;zt--)qe=qe.inverse().add(le[zt]);if(Math.abs(qe.sub(J).valueOf())<W)return qe.mul(this.s)}return this},divisible:function(W,J){return Ze(W,J),!(!(Ce.n*this.d)||this.n*Ce.d%(Ce.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(W){var J,le="",we=this.n,qe=this.d;return this.s<0&&(le+="-"),1===qe?le+=we:(W&&(J=Math.floor(we/qe))>0&&(le+=J,le+=" ",we%=qe),le+=we,le+="/",le+=qe),le},toLatex:function(W){var J,le="",we=this.n,qe=this.d;return this.s<0&&(le+="-"),1===qe?le+=we:(W&&(J=Math.floor(we/qe))>0&&(le+=J,we%=qe),le+="\\frac{",le+=we,le+="}{",le+=qe,le+="}"),le},toContinued:function(){var W,J=this.n,le=this.d,we=[];if(isNaN(J)||isNaN(le))return we;do{we.push(Math.floor(J/le)),W=J%le,J=le,le=W}while(1!==J);return we},toString:function(W){var J=this.n,le=this.d;if(isNaN(J)||isNaN(le))return"NaN";W=W||15;var we=function tt(W,J){for(;J%2==0;J/=2);for(;J%5==0;J/=5);if(1===J)return 0;for(var le=10%J,we=1;1!==le;we++)if(le=10*le%J,we>2e3)return 0;return we}(0,le),qe=function Le(W,J,le){for(var we=1,qe=function Ye(W,J,le){for(var we=1;J>0;W=W*W%le,J>>=1)1&J&&(we=we*W%le);return we}(10,le,J),zt=0;zt<300;zt++){if(we===qe)return zt;we=10*we%J,qe=10*qe%J}return 0}(0,le,we),zt=this.s<0?"-":"";if(zt+=J/le|0,J%=le,(J*=10)&&(zt+="."),we){for(var Lt=qe;Lt--;)zt+=J/le|0,J%=le,J*=10;for(zt+="(",Lt=we;Lt--;)zt+=J/le|0,J%=le,J*=10;zt+=")"}else for(Lt=W;J&&Lt--;)zt+=J/le|0,J%=le,J*=10;return zt}},Object.defineProperty(Z,"__esModule",{value:!0}),Z.default=Z,Z.Fraction=Z,gt.exports=Z}()},128:(gt,Bt,ke)=>{var Ce=ke(864),et=ke(919),Me=ke(263),ot=ke(353),Ze=ke(358),Ye=ke(789),tt=ke(508);tt.alea=Ce,tt.xor128=et,tt.xorwow=Me,tt.xorshift7=ot,tt.xor4096=Ze,tt.tychei=Ye,gt.exports=tt},864:function(gt,Bt,ke){var Ce;!function(et,Me,ot){function Ze(te){var Z=this,O=function Le(){var te=4022871197;return function(O){O=String(O);for(var L=0;L<O.length;L++){var V=.02519603282416938*(te+=O.charCodeAt(L));V-=te=V>>>0,te=(V*=te)>>>0,te+=4294967296*(V-=te)}return 2.3283064365386963e-10*(te>>>0)}}();Z.next=function(){var L=2091639*Z.s0+2.3283064365386963e-10*Z.c;return Z.s0=Z.s1,Z.s1=Z.s2,Z.s2=L-(Z.c=0|L)},Z.c=1,Z.s0=O(" "),Z.s1=O(" "),Z.s2=O(" "),Z.s0-=O(te),Z.s0<0&&(Z.s0+=1),Z.s1-=O(te),Z.s1<0&&(Z.s1+=1),Z.s2-=O(te),Z.s2<0&&(Z.s2+=1),O=null}function Ye(te,Z){return Z.c=te.c,Z.s0=te.s0,Z.s1=te.s1,Z.s2=te.s2,Z}function tt(te,Z){var O=new Ze(te),L=Z&&Z.state,V=O.next;return V.int32=function(){return 4294967296*O.next()|0},V.double=function(){return V()+11102230246251565e-32*(2097152*V()|0)},V.quick=V,L&&("object"==typeof L&&Ye(L,O),V.state=function(){return Ye(O,{})}),V}Me&&Me.exports?Me.exports=tt:ke.amdD&&ke.amdO?void 0!==(Ce=function(){return tt}.call(Bt,ke,Bt,Me))&&(Me.exports=Ce):this.alea=tt}(0,gt=ke.nmd(gt))},789:function(gt,Bt,ke){var Ce;!function(et,Me,ot){function Ze(Le){var te=this,Z="";te.next=function(){var L=te.b,V=te.c,W=te.d,J=te.a;return L=L<<25^L>>>7^V,V=V-W|0,W=W<<24^W>>>8^J,J=J-L|0,te.b=L=L<<20^L>>>12^V,te.c=V=V-W|0,te.d=W<<16^V>>>16^J,te.a=J-L|0},te.a=0,te.b=0,te.c=-1640531527,te.d=1367130551,Le===Math.floor(Le)?(te.a=Le/4294967296|0,te.b=0|Le):Z+=Le;for(var O=0;O<Z.length+20;O++)te.b^=0|Z.charCodeAt(O),te.next()}function Ye(Le,te){return te.a=Le.a,te.b=Le.b,te.c=Le.c,te.d=Le.d,te}function tt(Le,te){var Z=new Ze(Le),O=te&&te.state,L=function(){return(Z.next()>>>0)/4294967296};return L.double=function(){do{var J=((Z.next()>>>11)+(Z.next()>>>0)/4294967296)/(1<<21)}while(0===J);return J},L.int32=Z.next,L.quick=L,O&&("object"==typeof O&&Ye(O,Z),L.state=function(){return Ye(Z,{})}),L}Me&&Me.exports?Me.exports=tt:ke.amdD&&ke.amdO?void 0!==(Ce=function(){return tt}.call(Bt,ke,Bt,Me))&&(Me.exports=Ce):this.tychei=tt}(0,gt=ke.nmd(gt))},919:function(gt,Bt,ke){var Ce;!function(et,Me,ot){function Ze(Le){var te=this,Z="";te.x=0,te.y=0,te.z=0,te.w=0,te.next=function(){var L=te.x^te.x<<11;return te.x=te.y,te.y=te.z,te.z=te.w,te.w^=te.w>>>19^L^L>>>8},Le===(0|Le)?te.x=Le:Z+=Le;for(var O=0;O<Z.length+64;O++)te.x^=0|Z.charCodeAt(O),te.next()}function Ye(Le,te){return te.x=Le.x,te.y=Le.y,te.z=Le.z,te.w=Le.w,te}function tt(Le,te){var Z=new Ze(Le),O=te&&te.state,L=function(){return(Z.next()>>>0)/4294967296};return L.double=function(){do{var J=((Z.next()>>>11)+(Z.next()>>>0)/4294967296)/(1<<21)}while(0===J);return J},L.int32=Z.next,L.quick=L,O&&("object"==typeof O&&Ye(O,Z),L.state=function(){return Ye(Z,{})}),L}Me&&Me.exports?Me.exports=tt:ke.amdD&&ke.amdO?void 0!==(Ce=function(){return tt}.call(Bt,ke,Bt,Me))&&(Me.exports=Ce):this.xor128=tt}(0,gt=ke.nmd(gt))},358:function(gt,Bt,ke){var Ce;!function(et,Me,ot){function Ze(Le){var te=this;te.next=function(){var W,J,O=te.w,L=te.X,V=te.i;return te.w=O=O+1640531527|0,J=L[V+34&127],W=L[V=V+1&127],J^=J<<13,W^=W<<17,J=L[V]=(J^=J>>>15)^(W^=W>>>12),te.i=V,J+(O^O>>>16)|0},function Z(O,L){var V,W,J,le,we,qe=[],zt=128;for(L===(0|L)?(W=L,L=null):(L+="\0",W=0,zt=Math.max(zt,L.length)),J=0,le=-32;le<zt;++le)L&&(W^=L.charCodeAt((le+32)%L.length)),0===le&&(we=W),W^=W<<10,W^=W>>>15,W^=W<<4,W^=W>>>13,le>=0&&(J=0==(V=qe[127&le]^=W+(we=we+1640531527|0))?J+1:0);for(J>=128&&(qe[127&(L&&L.length||0)]=-1),J=127,le=512;le>0;--le)W=qe[J+34&127],V=qe[J=J+1&127],W^=W<<13,V^=V<<17,qe[J]=(W^=W>>>15)^(V^=V>>>12);O.w=we,O.X=qe,O.i=J}(te,Le)}function Ye(Le,te){return te.i=Le.i,te.w=Le.w,te.X=Le.X.slice(),te}function tt(Le,te){null==Le&&(Le=+new Date);var Z=new Ze(Le),O=te&&te.state,L=function(){return(Z.next()>>>0)/4294967296};return L.double=function(){do{var J=((Z.next()>>>11)+(Z.next()>>>0)/4294967296)/(1<<21)}while(0===J);return J},L.int32=Z.next,L.quick=L,O&&(O.X&&Ye(O,Z),L.state=function(){return Ye(Z,{})}),L}Me&&Me.exports?Me.exports=tt:ke.amdD&&ke.amdO?void 0!==(Ce=function(){return tt}.call(Bt,ke,Bt,Me))&&(Me.exports=Ce):this.xor4096=tt}(0,gt=ke.nmd(gt))},353:function(gt,Bt,ke){var Ce;!function(et,Me,ot){function Ze(Le){var te=this;te.next=function(){var V,W,O=te.x,L=te.i;return V=O[L],W=(V^=V>>>7)^V<<24,W^=(V=O[L+1&7])^V>>>10,W^=(V=O[L+3&7])^V>>>3,W^=(V=O[L+4&7])^V<<7,V=O[L+7&7],O[L]=W^=(V^=V<<13)^V<<9,te.i=L+1&7,W},function Z(O,L){var V,J=[];if(L===(0|L))J[0]=L;else for(L=""+L,V=0;V<L.length;++V)J[7&V]=J[7&V]<<15^L.charCodeAt(V)+J[V+1&7]<<13;for(;J.length<8;)J.push(0);for(V=0;V<8&&0===J[V];++V);for(8==V&&(J[7]=-1),O.x=J,O.i=0,V=256;V>0;--V)O.next()}(te,Le)}function Ye(Le,te){return te.x=Le.x.slice(),te.i=Le.i,te}function tt(Le,te){null==Le&&(Le=+new Date);var Z=new Ze(Le),O=te&&te.state,L=function(){return(Z.next()>>>0)/4294967296};return L.double=function(){do{var J=((Z.next()>>>11)+(Z.next()>>>0)/4294967296)/(1<<21)}while(0===J);return J},L.int32=Z.next,L.quick=L,O&&(O.x&&Ye(O,Z),L.state=function(){return Ye(Z,{})}),L}Me&&Me.exports?Me.exports=tt:ke.amdD&&ke.amdO?void 0!==(Ce=function(){return tt}.call(Bt,ke,Bt,Me))&&(Me.exports=Ce):this.xorshift7=tt}(0,gt=ke.nmd(gt))},263:function(gt,Bt,ke){var Ce;!function(et,Me,ot){function Ze(Le){var te=this,Z="";te.next=function(){var L=te.x^te.x>>>2;return te.x=te.y,te.y=te.z,te.z=te.w,te.w=te.v,(te.d=te.d+362437|0)+(te.v=te.v^te.v<<4^L^L<<1)|0},te.x=0,te.y=0,te.z=0,te.w=0,te.v=0,Le===(0|Le)?te.x=Le:Z+=Le;for(var O=0;O<Z.length+64;O++)te.x^=0|Z.charCodeAt(O),O==Z.length&&(te.d=te.x<<10^te.x>>>4),te.next()}function Ye(Le,te){return te.x=Le.x,te.y=Le.y,te.z=Le.z,te.w=Le.w,te.v=Le.v,te.d=Le.d,te}function tt(Le,te){var Z=new Ze(Le),O=te&&te.state,L=function(){return(Z.next()>>>0)/4294967296};return L.double=function(){do{var J=((Z.next()>>>11)+(Z.next()>>>0)/4294967296)/(1<<21)}while(0===J);return J},L.int32=Z.next,L.quick=L,O&&("object"==typeof O&&Ye(O,Z),L.state=function(){return Ye(Z,{})}),L}Me&&Me.exports?Me.exports=tt:ke.amdD&&ke.amdO?void 0!==(Ce=function(){return tt}.call(Bt,ke,Bt,Me))&&(Me.exports=Ce):this.xorwow=tt}(0,gt=ke.nmd(gt))},508:function(gt,Bt,ke){var Ce;!function(et,Me,ot){var V,Ze=256,te=ot.pow(Ze,6),Z=ot.pow(2,52),O=2*Z,L=Ze-1;function W(wt,Rt,ar){var $e=[],je=qe(we((Rt=1==Rt?{entropy:!0}:Rt||{}).entropy?[wt,Lt(Me)]:wt??function zt(){try{var wt;return V&&(wt=V.randomBytes)?wt=wt(Ze):(wt=new Uint8Array(Ze),(et.crypto||et.msCrypto).getRandomValues(wt)),Lt(wt)}catch{var Rt=et.navigator,ar=Rt&&Rt.plugins;return[+new Date,et,ar,et.screen,Lt(Me)]}}(),3),$e),kt=new J($e),xt=function(){for(var Ur=kt.g(6),jr=te,pn=0;Ur<Z;)Ur=(Ur+pn)*Ze,jr*=Ze,pn=kt.g(1);for(;Ur>=O;)Ur/=2,jr/=2,pn>>>=1;return(Ur+pn)/jr};return xt.int32=function(){return 0|kt.g(4)},xt.quick=function(){return kt.g(4)/4294967296},xt.double=xt,qe(Lt(kt.S),Me),(Rt.pass||ar||function(Ur,jr,pn,qn){return qn&&(qn.S&&le(qn,kt),Ur.state=function(){return le(kt,{})}),pn?(ot.random=Ur,jr):Ur})(xt,je,"global"in Rt?Rt.global:this==ot,Rt.state)}function J(wt){var Rt,ar=wt.length,$e=this,je=0,kt=$e.i=$e.j=0,xt=$e.S=[];for(ar||(wt=[ar++]);je<Ze;)xt[je]=je++;for(je=0;je<Ze;je++)xt[je]=xt[kt=L&kt+wt[je%ar]+(Rt=xt[je])],xt[kt]=Rt;($e.g=function(Ur){for(var jr,pn=0,qn=$e.i,ji=$e.j,xi=$e.S;Ur--;)jr=xi[qn=L&qn+1],pn=pn*Ze+xi[L&(xi[qn]=xi[ji=L&ji+jr])+(xi[ji]=jr)];return $e.i=qn,$e.j=ji,pn})(Ze)}function le(wt,Rt){return Rt.i=wt.i,Rt.j=wt.j,Rt.S=wt.S.slice(),Rt}function we(wt,Rt){var je,ar=[],$e=typeof wt;if(Rt&&"object"==$e)for(je in wt)try{ar.push(we(wt[je],Rt-1))}catch{}return ar.length?ar:"string"==$e?wt:wt+"\0"}function qe(wt,Rt){for(var $e,ar=wt+"",je=0;je<ar.length;)Rt[L&je]=L&($e^=19*Rt[L&je])+ar.charCodeAt(je++);return Lt(Rt)}function Lt(wt){return String.fromCharCode.apply(0,wt)}if(qe(ot.random(),Me),gt.exports){gt.exports=W;try{V=ke(42)}catch{}}else void 0!==(Ce=function(){return W}.call(Bt,ke,Bt,gt))&&(gt.exports=Ce)}(typeof self<"u"?self:this,[],Math)},42:()=>{},634:function(gt){gt.exports=function(){"use strict";function Bt(){return!0}function ke(){return!1}function Ce(){}const et="Argument is not a typed-function.";return function Me(){function Ze(G){return"object"==typeof G&&null!==G&&G.constructor===Object}const Ye=[{name:"number",test:function(G){return"number"==typeof G}},{name:"string",test:function(G){return"string"==typeof G}},{name:"boolean",test:function(G){return"boolean"==typeof G}},{name:"Function",test:function(G){return"function"==typeof G}},{name:"Array",test:Array.isArray},{name:"Date",test:function(G){return G instanceof Date}},{name:"RegExp",test:function(G){return G instanceof RegExp}},{name:"Object",test:Ze},{name:"null",test:function(G){return null===G}},{name:"undefined",test:function(G){return void 0===G}}],tt={name:"any",test:Bt,isAny:!0};let Le,te,Z=0,O={createCount:0};function L(G){const ae=Le.get(G);if(ae)return ae;let fe='Unknown type "'+G+'"';const Ee=G.toLowerCase();let Se;for(Se of te)if(Se.toLowerCase()===Ee){fe+='. Did you mean "'+Se+'" ?';break}throw new TypeError(fe)}function V(G){let ae=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";const fe=ae?L(ae).index:te.length,Ee=[];for(let Ne=0;Ne<G.length;++Ne){if(!G[Ne]||"string"!=typeof G[Ne].name||"function"!=typeof G[Ne].test)throw new TypeError("Object with properties {name: string, test: function} expected");const ze=G[Ne].name;if(Le.has(ze))throw new TypeError('Duplicate type name "'+ze+'"');Ee.push(ze),Le.set(ze,{name:ze,test:G[Ne].test,isAny:G[Ne].isAny,index:fe+Ne,conversionsTo:[]})}const Se=te.slice(fe);te=te.slice(0,fe).concat(Ee).concat(Se);for(let Ne=fe+Ee.length;Ne<te.length;++Ne)Le.get(te[Ne]).index=Ne}function W(){Le=new Map,te=[],Z=0,V([tt],!1)}function le(G){const ae=te.filter(fe=>{const Ee=Le.get(fe);return!Ee.isAny&&Ee.test(G)});return ae.length?ae:["any"]}function we(G){return G&&"function"==typeof G&&"_typedFunctionData"in G}function qe(G,ae,fe){if(!we(G))throw new TypeError(et);const Ee=fe&&fe.exact,Ne=je(Array.isArray(ae)?ae.join(","):ae),ze=wt(Ne);if(!Ee||ze in G.signatures){const nr=G._typedFunctionData.signatureMap.get(ze);if(nr)return nr}const Oe=Ne.length;let Ve,Te;if(Ee){let nr;for(nr in Ve=[],G.signatures)Ve.push(G._typedFunctionData.signatureMap.get(nr))}else Ve=G._typedFunctionData.signatures;for(let nr=0;nr<Oe;++nr){const lr=Ne[nr],Tr=[];let An;for(An of Ve){const rn=jr(An.params,nr);if(rn&&(!lr.restParam||rn.restParam)){if(!rn.hasAny){const Vn=$e(rn);if(lr.types.some(Hn=>!Vn.has(Hn.name)))continue}Tr.push(An)}}if(Ve=Tr,0===Ve.length)break}for(Te of Ve)if(Te.params.length<=Oe)return Te;throw new TypeError("Signature not found (signature: "+(G.name||"unnamed")+"("+wt(Ne,", ")+"))")}function wt(G){let ae=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return G.map(fe=>fe.name).join(ae)}function Rt(G){const ae=0===G.indexOf("..."),Ee=(ae?G.length>3?G.slice(3):"any":G).split("|").map(Oe=>L(Oe.trim()));let Se=!1,Ne=ae?"...":"";return{types:Ee.map(function(Oe){return Se=Oe.isAny||Se,Ne+=Oe.name+"|",{name:Oe.name,typeIndex:Oe.index,test:Oe.test,isAny:Oe.isAny,conversion:null,conversionIndex:-1}}),name:Ne.slice(0,-1),hasAny:Se,hasConversion:!1,restParam:ae}}function ar(G){const fe=function cy(G){if(0===G.length)return[];const ae=G.map(L);G.length>1&&ae.sort((Se,Ne)=>Se.index-Ne.index);let fe=ae[0].conversionsTo;if(1===G.length)return fe;fe=fe.concat([]);const Ee=new Set(G);for(let Se=1;Se<ae.length;++Se){let Ne;for(Ne of ae[Se].conversionsTo)Ee.has(Ne.from)||(fe.push(Ne),Ee.add(Ne.from))}return fe}(G.types.map(ze=>ze.name));let Ee=G.hasAny,Se=G.name;const Ne=fe.map(function(ze){const Oe=L(ze.from);return Ee=Oe.isAny||Ee,Se+="|"+ze.from,{name:ze.from,typeIndex:Oe.index,test:Oe.test,isAny:Oe.isAny,conversion:ze,conversionIndex:ze.index}});return{types:G.types.concat(Ne),name:Se,hasAny:Ee,hasConversion:Ne.length>0,restParam:G.restParam}}function $e(G){return G.typeSet||(G.typeSet=new Set,G.types.forEach(ae=>G.typeSet.add(ae.name))),G.typeSet}function je(G){const ae=[];if("string"!=typeof G)throw new TypeError("Signatures must be strings");const fe=G.trim();if(""===fe)return ae;const Ee=fe.split(",");for(let Se=0;Se<Ee.length;++Se){const Ne=Rt(Ee[Se].trim());if(Ne.restParam&&Se!==Ee.length-1)throw new SyntaxError('Unexpected rest parameter "'+Ee[Se]+'": only allowed for the last parameter');if(0===Ne.types.length)return null;ae.push(Ne)}return ae}function kt(G){const ae=Gi(G);return!!ae&&ae.restParam}function xt(G){if(!G||0===G.types.length)return Bt;if(1===G.types.length)return L(G.types[0].name).test;if(2===G.types.length){const ae=L(G.types[0].name).test,fe=L(G.types[1].name).test;return function(Se){return ae(Se)||fe(Se)}}{const ae=G.types.map(function(fe){return L(fe.name).test});return function(Ee){for(let Se=0;Se<ae.length;Se++)if(ae[Se](Ee))return!0;return!1}}}function Ur(G){let ae,fe,Ee;if(kt(G)){ae=os(G).map(xt);const Se=ae.length,Ne=xt(Gi(G)),ze=function(Oe){for(let Ve=Se;Ve<Oe.length;Ve++)if(!Ne(Oe[Ve]))return!1;return!0};return function(Ve){for(let Te=0;Te<ae.length;Te++)if(!ae[Te](Ve[Te]))return!1;return ze(Ve)&&Ve.length>=Se+1}}return 0===G.length?function(Ne){return 0===Ne.length}:1===G.length?(fe=xt(G[0]),function(Ne){return fe(Ne[0])&&1===Ne.length}):2===G.length?(fe=xt(G[0]),Ee=xt(G[1]),function(Ne){return fe(Ne[0])&&Ee(Ne[1])&&2===Ne.length}):(ae=G.map(xt),function(Ne){for(let ze=0;ze<ae.length;ze++)if(!ae[ze](Ne[ze]))return!1;return Ne.length===ae.length})}function jr(G,ae){return ae<G.length?G[ae]:kt(G)?Gi(G):null}function pn(G,ae){const fe=jr(G,ae);return fe?$e(fe):new Set}function qn(G){return null==G.conversion}function ji(G,ae){const fe=new Set;return G.forEach(Ee=>{const Se=pn(Ee.params,ae);let Ne;for(Ne of Se)fe.add(Ne)}),fe.has("any")?["any"]:Array.from(fe)}function xi(G,ae,fe){let Ee,Se;const Ne=G||"unnamed";let Oe,ze=fe;for(Oe=0;Oe<ae.length;Oe++){const lr=[];if(ze.forEach(Tr=>{const rn=xt(jr(Tr.params,Oe));(Oe<Tr.params.length||kt(Tr.params))&&rn(ae[Oe])&&lr.push(Tr)}),0===lr.length){if(Se=ji(ze,Oe),Se.length>0){const Tr=le(ae[Oe]);return Ee=new TypeError("Unexpected type of argument in function "+Ne+" (expected: "+Se.join(" or ")+", actual: "+Tr.join(" | ")+", index: "+Oe+")"),Ee.data={category:"wrongType",fn:Ne,index:Oe,actual:Tr,expected:Se},Ee}}else ze=lr}const Ve=ze.map(function(lr){return kt(lr.params)?1/0:lr.params.length});if(ae.length<Math.min.apply(null,Ve))return Se=ji(ze,Oe),Ee=new TypeError("Too few arguments in function "+Ne+" (expected: "+Se.join(" or ")+", index: "+ae.length+")"),Ee.data={category:"tooFewArgs",fn:Ne,index:ae.length,expected:Se},Ee;const Te=Math.max.apply(null,Ve);if(ae.length>Te)return Ee=new TypeError("Too many arguments in function "+Ne+" (expected: "+Te+", actual: "+ae.length+")"),Ee.data={category:"tooManyArgs",fn:Ne,index:ae.length,expectedLength:Te},Ee;const nr=[];for(let lr=0;lr<ae.length;++lr)nr.push(le(ae[lr]).join("|"));return Ee=new TypeError('Arguments of type "'+nr.join(", ")+'" do not match any of the defined signatures of function '+Ne+"."),Ee.data={category:"mismatch",actual:nr},Ee}function El(G){let ae=te.length+1;for(let fe=0;fe<G.types.length;fe++)qn(G.types[fe])&&(ae=Math.min(ae,G.types[fe].typeIndex));return ae}function as(G){let ae=Z+1;for(let fe=0;fe<G.types.length;fe++)qn(G.types[fe])||(ae=Math.min(ae,G.types[fe].conversionIndex));return ae}function $p(G,ae){if(G.hasAny){if(!ae.hasAny)return 1}else if(ae.hasAny)return-1;if(G.restParam){if(!ae.restParam)return 1}else if(ae.restParam)return-1;if(G.hasConversion){if(!ae.hasConversion)return 1}else if(ae.hasConversion)return-1;const fe=El(G)-El(ae);if(fe<0)return-1;if(fe>0)return 1;const Ee=as(G)-as(ae);return Ee<0?-1:Ee>0?1:0}function uy(G,ae){const fe=G.params,Ee=ae.params,Se=Gi(fe),Ne=Gi(Ee),ze=kt(fe),Oe=kt(Ee);if(ze&&Se.hasAny){if(!Oe||!Ne.hasAny)return 1}else if(Oe&&Ne.hasAny)return-1;let nr,Ve=0,Te=0;for(nr of fe)nr.hasAny&&++Ve,nr.hasConversion&&++Te;let lr=0,Tr=0;for(nr of Ee)nr.hasAny&&++lr,nr.hasConversion&&++Tr;if(Ve!==lr)return Ve-lr;if(ze&&Se.hasConversion){if(!Oe||!Ne.hasConversion)return 1}else if(Oe&&Ne.hasConversion)return-1;if(Te!==Tr)return Te-Tr;if(ze){if(!Oe)return 1}else if(Oe)return-1;const An=(fe.length-Ee.length)*(ze?-1:1);if(0!==An)return An;const rn=[];let Hn,Vn=0;for(let Va=0;Va<fe.length;++Va){const ss=$p(fe[Va],Ee[Va]);rn.push(ss),Vn+=ss}if(0!==Vn)return Vn;for(Hn of rn)if(0!==Hn)return Hn;return 0}function Nl(G,ae){let fe=ae;if(G.some(Se=>Se.hasConversion)){const Se=kt(G),Ne=G.map(jp);fe=function(){const Oe=[],Ve=Se?arguments.length-1:arguments.length;for(let Te=0;Te<Ve;Te++)Oe[Te]=Ne[Te](arguments[Te]);return Se&&(Oe[Ve]=arguments[Ve].map(Ne[Ve])),ae.apply(this,Oe)}}let Ee=fe;if(kt(G)){const Se=G.length-1;Ee=function(){return fe.apply(this,Cn(arguments,0,Se).concat([Cn(arguments,Se)]))}}return Ee}function jp(G){let ae,fe,Ee,Se;const Ne=[],ze=[];switch(G.types.forEach(function(Oe){Oe.conversion&&(Ne.push(L(Oe.conversion.from).test),ze.push(Oe.conversion.convert))}),ze.length){case 0:return function(Ve){return Ve};case 1:return ae=Ne[0],Ee=ze[0],function(Ve){return ae(Ve)?Ee(Ve):Ve};case 2:return ae=Ne[0],fe=Ne[1],Ee=ze[0],Se=ze[1],function(Ve){return ae(Ve)?Ee(Ve):fe(Ve)?Se(Ve):Ve};default:return function(Ve){for(let Te=0;Te<ze.length;Te++)if(Ne[Te](Ve))return ze[Te](Ve);return Ve}}}function Gp(G){return function ae(fe,Ee,Se){if(Ee<fe.length){const Ne=fe[Ee];let ze=[];if(Ne.restParam){const Oe=Ne.types.filter(qn);Oe.length<Ne.types.length&&ze.push({types:Oe,name:"..."+Oe.map(Ve=>Ve.name).join("|"),hasAny:Oe.some(Ve=>Ve.isAny),hasConversion:!1,restParam:!0}),ze.push(Ne)}else ze=Ne.types.map(function(Oe){return{types:[Oe],name:Oe.name,hasAny:Oe.isAny,hasConversion:Oe.conversion,restParam:!1}});return function Sl(G,ae){return Array.prototype.concat.apply([],G.map(ae))}(ze,function(Oe){return ae(fe,Ee+1,Se.concat([Oe]))})}return[Se]}(G,0,[])}function Wp(G,ae){const fe=Math.max(G.length,ae.length);for(let Oe=0;Oe<fe;Oe++){const Ve=pn(G,Oe),Te=pn(ae,Oe);let lr,nr=!1;for(lr of Te)if(Ve.has(lr)){nr=!0;break}if(!nr)return!1}const Ee=G.length,Se=ae.length,Ne=kt(G),ze=kt(ae);return Ne?ze?Ee===Se:Se>=Ee:ze?Ee>=Se:Ee===Se}function Cl(G,ae,fe){const Ee=[];let Se;for(Se of G){let Ne=fe[Se];if("number"!=typeof Ne)throw new TypeError('No definition for referenced signature "'+Se+'"');if(Ne=ae[Ne],"function"!=typeof Ne)return!1;Ee.push(Ne)}return Ee}function Zp(G,ae,fe){const Ee=function ly(G){return G.map(ae=>$u(ae)?Eo(ae.referToSelf.callback):_l(ae)?Wi(ae.referTo.references,ae.referTo.callback):ae)}(G),Se=new Array(Ee.length).fill(!1);let Ne=!0;for(;Ne;){Ne=!1;let ze=!0;for(let Oe=0;Oe<Ee.length;++Oe){if(Se[Oe])continue;const Ve=Ee[Oe];if($u(Ve))Ee[Oe]=Ve.referToSelf.callback(fe),Ee[Oe].referToSelf=Ve.referToSelf,Se[Oe]=!0,ze=!1;else if(_l(Ve)){const Te=Cl(Ve.referTo.references,Ee,ae);Te?(Ee[Oe]=Ve.referTo.callback.apply(this,Te),Ee[Oe].referTo=Ve.referTo,Se[Oe]=!0,ze=!1):Ne=!0}}if(ze&&Ne)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Ee}function ci(G,ae){if(O.createCount++,0===Object.keys(ae).length)throw new SyntaxError("No signatures provided");O.warnAgainstDeprecatedThis&&function fy(G){const ae=/\bthis(\(|\.signatures\b)/;Object.keys(G).forEach(fe=>{if(ae.test(G[fe].toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}(ae);const fe=[],Ee=[],Se={},Ne=[];let ze;for(ze in ae){if(!Object.prototype.hasOwnProperty.call(ae,ze))continue;const Wt=je(ze);if(!Wt)continue;fe.forEach(function(va){if(Wp(va,Wt))throw new TypeError('Conflicting signatures "'+wt(va)+'" and "'+wt(Wt)+'".')}),fe.push(Wt);const nn=Ee.length;Ee.push(ae[ze]);const No=Wt.map(ar);let $a;for($a of Gp(No)){const va=wt($a);Ne.push({params:$a,name:va,fn:nn}),$a.every(Pl=>!Pl.hasConversion)&&(Se[va]=nn)}}Ne.sort(uy);const Oe=Zp(Ee,Se,Xe);let Ve;for(Ve in Se)Object.prototype.hasOwnProperty.call(Se,Ve)&&(Se[Ve]=Oe[Se[Ve]]);const Te=[],nr=new Map;for(Ve of Ne)nr.has(Ve.name)||(Ve.fn=Oe[Ve.fn],Te.push(Ve),nr.set(Ve.name,Ve));const lr=Te[0]&&Te[0].params.length<=2&&!kt(Te[0].params),Tr=Te[1]&&Te[1].params.length<=2&&!kt(Te[1].params),An=Te[2]&&Te[2].params.length<=2&&!kt(Te[2].params),rn=Te[3]&&Te[3].params.length<=2&&!kt(Te[3].params),Vn=Te[4]&&Te[4].params.length<=2&&!kt(Te[4].params),Hn=Te[5]&&Te[5].params.length<=2&&!kt(Te[5].params),Va=lr&&Tr&&An&&rn&&Vn&&Hn;for(let Wt=0;Wt<Te.length;++Wt)Te[Wt].test=Ur(Te[Wt].params);const ss=lr?xt(Te[0].params[0]):ke,Xp=Tr?xt(Te[1].params[0]):ke,Gu=An?xt(Te[2].params[0]):ke,Il=rn?xt(Te[3].params[0]):ke,Kp=Vn?xt(Te[4].params[0]):ke,Jp=Hn?xt(Te[5].params[0]):ke,em=lr?xt(Te[0].params[1]):ke,tm=Tr?xt(Te[1].params[1]):ke,rm=An?xt(Te[2].params[1]):ke,nm=rn?xt(Te[3].params[1]):ke,dy=Vn?xt(Te[4].params[1]):ke,Fl=Hn?xt(Te[5].params[1]):ke;for(let Wt=0;Wt<Te.length;++Wt)Te[Wt].implementation=Nl(Te[Wt].params,Te[Wt].fn);const He=lr?Te[0].implementation:Ce,Ha=Tr?Te[1].implementation:Ce,Ol=An?Te[2].implementation:Ce,im=rn?Te[3].implementation:Ce,py=Vn?Te[4].implementation:Ce,my=Hn?Te[5].implementation:Ce,Rl=lr?Te[0].params.length:-1,hy=Tr?Te[1].params.length:-1,vy=An?Te[2].params.length:-1,gy=rn?Te[3].params.length:-1,Jt=Vn?Te[4].params.length:-1,am=Hn?Te[5].params.length:-1,Pr=Va?6:0,Wu=Te.length,yy=Te.map(Wt=>Wt.test),om=Te.map(Wt=>Wt.implementation),Zu=function(){for(let nn=Pr;nn<Wu;nn++)if(yy[nn](arguments))return om[nn].apply(this,arguments);return O.onMismatch(G,arguments,Te)};function Xe(Wt,nn){return arguments.length===Rl&&ss(Wt)&&em(nn)?He.apply(this,arguments):arguments.length===hy&&Xp(Wt)&&tm(nn)?Ha.apply(this,arguments):arguments.length===vy&&Gu(Wt)&&rm(nn)?Ol.apply(this,arguments):arguments.length===gy&&Il(Wt)&&nm(nn)?im.apply(this,arguments):arguments.length===Jt&&Kp(Wt)&&dy(nn)?py.apply(this,arguments):arguments.length===am&&Jp(Wt)&&Fl(nn)?my.apply(this,arguments):Zu.apply(this,arguments)}try{Object.defineProperty(Xe,"name",{value:G})}catch{}return Xe.signatures=Se,Xe._typedFunctionData={signatures:Te,signatureMap:nr},Xe}function Hu(G,ae,fe){throw xi(G,ae,fe)}function os(G){return Cn(G,0,G.length-1)}function Gi(G){return G[G.length-1]}function Cn(G,ae,fe){return Array.prototype.slice.call(G,ae,fe)}function Wi(G,ae){return{referTo:{references:G,callback:ae}}}function Eo(G){if("function"!=typeof G)throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:G}}}function _l(G){return G&&"object"==typeof G.referTo&&Array.isArray(G.referTo.references)&&"function"==typeof G.referTo.callback}function $u(G){return G&&"object"==typeof G.referToSelf&&"function"==typeof G.referToSelf.callback}function Tl(G,ae){if(!G)return ae;if(ae&&ae!==G){const fe=new Error("Function names do not match (expected: "+G+", actual: "+ae+")");throw fe.data={actual:ae,expected:G},fe}return G}function Yp(G){let ae;for(const fe in G)Object.prototype.hasOwnProperty.call(G,fe)&&(we(G[fe])||"string"==typeof G[fe].signature)&&(ae=Tl(ae,G[fe].name));return ae}function Qp(G,ae){let fe;for(fe in ae)if(Object.prototype.hasOwnProperty.call(ae,fe)){if(fe in G&&ae[fe]!==G[fe]){const Ee=new Error('Signature "'+fe+'" is defined twice');throw Ee.data={signature:fe,sourceFunction:ae[fe],destFunction:G[fe]},Ee}G[fe]=ae[fe]}}W(),V(Ye);const ju=O;function Zi(G){if(!G||"string"!=typeof G.from||"string"!=typeof G.to||"function"!=typeof G.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(G.to===G.from)throw new SyntaxError('Illegal to define conversion from "'+G.from+'" to itself.')}return O=function(G){const ae="string"==typeof G;let Ee=ae?G:"";const Se={};for(let Ne=ae?1:0;Ne<arguments.length;++Ne){const ze=arguments[Ne];let Ve,Oe={};if("function"==typeof ze?(Ve=ze.name,"string"==typeof ze.signature?Oe[ze.signature]=ze:we(ze)&&(Oe=ze.signatures)):Ze(ze)&&(Oe=ze,ae||(Ve=Yp(ze))),0===Object.keys(Oe).length){const Te=new TypeError("Argument to 'typed' at index "+Ne+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Te.data={index:Ne,argument:ze},Te}ae||(Ee=Tl(Ee,Ve)),Qp(Se,Oe)}return ci(Ee||"",Se)},O.create=Me,O.createCount=ju.createCount,O.onMismatch=Hu,O.throwMismatchError=Hu,O.createError=xi,O.clear=W,O.clearConversions=function J(){let G;for(G of te)Le.get(G).conversionsTo=[];Z=0},O.addTypes=V,O._findType=L,O.referTo=function Ml(){const G=os(arguments).map(fe=>wt(je(fe))),ae=Gi(arguments);if("function"!=typeof ae)throw new TypeError("Callback function expected as last argument");return Wi(G,ae)},O.referToSelf=Eo,O.convert=function Lt(G,ae){const fe=L(ae);if(fe.test(G))return G;const Ee=fe.conversionsTo;if(0===Ee.length)throw new Error("There are no conversions to "+ae+" defined.");for(let Se=0;Se<Ee.length;Se++)if(L(Ee[Se].from).test(G))return Ee[Se].convert(G);throw new Error("Cannot convert "+G+" to "+ae)},O.findSignature=qe,O.find=function zt(G,ae,fe){return qe(G,ae,fe).implementation},O.isTypedFunction=we,O.warnAgainstDeprecatedThis=!0,O.addType=function(G,ae){let fe="any";!1!==ae&&Le.has("Object")&&(fe="Object"),O.addTypes([G],fe)},O.addConversion=function(G){Zi(G);const ae=L(G.to);if(!ae.conversionsTo.every(function(fe){return fe.from!==G.from}))throw new Error('There is already a conversion from "'+G.from+'" to "'+ae.name+'"');ae.conversionsTo.push({from:G.from,convert:G.convert,index:Z++})},O.addConversions=function(G){G.forEach(O.addConversion)},O.removeConversion=function(G){Zi(G);const ae=L(G.to),fe=function Al(G,ae){for(let fe=0;fe<G.length;fe++)if(ae(G[fe]))return G[fe]}(ae.conversionsTo,Se=>Se.from===G.from);if(!fe)throw new Error("Attempt to remove nonexistent conversion from "+G.from+" to "+G.to);if(fe.convert!==G.convert)throw new Error("Conversion to remove does not match existing conversion");const Ee=ae.conversionsTo.indexOf(fe);ae.conversionsTo.splice(Ee,1)},O.resolve=function(G,ae){if(!we(G))throw new TypeError(et);const fe=G._typedFunctionData.signatures;for(let Ee=0;Ee<fe.length;++Ee)if(fe[Ee].test(ae))return fe[Ee];return null},O}()}()}},gt=>{gt(gt.s=529)}]);